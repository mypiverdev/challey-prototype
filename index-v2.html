<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Challey - Family Chore Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Default theme: Ocean */
            --primary: #1B2A4A;
            --secondary: #2E86AB;
            --accent: #F18F01;
            --bg-light: #E8F4F8;
            --bg-card: #FFFFFF;
            --text: #1B2A4A;
            --text-secondary: #666666;
            --border: #ddd;
        }

        :root[data-theme="sunset"] {
            --primary: #2D1B69;
            --secondary: #FF6B35;
            --accent: #FFD700;
        }

        :root[data-theme="forest"] {
            --primary: #1B3A2D;
            --secondary: #4A8C6F;
            --accent: #F5A623;
        }

        :root[data-theme="midnight"] {
            --primary: #0D1117;
            --secondary: #58A6FF;
            --accent: #39D353;
        }

        :root[data-theme="bubblegum"] {
            --primary: #8B1A4A;
            --secondary: #FF69B4;
            --accent: #FFE066;
        }

        :root[data-theme="arctic"] {
            --primary: #2C3E50;
            --secondary: #74B9FF;
            --accent: #FFFFFF;
        }

        :root[data-dark="true"] {
            --bg-light: #1a1d23;
            --bg-card: #1E2A3A;
            --text: #E8F4F8;
            --text-secondary: #a0a0a0;
            --border: #333;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .phone-frame {
            width: 375px;
            height: 812px;
            background: var(--bg-card);
            border-radius: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            position: relative;
            border: 12px solid var(--primary);
            transition: all 0.3s;
        }

        .notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 28px;
            background: var(--primary);
            border-radius: 0 0 20px 20px;
            z-index: 1000;
        }

        .screen {
            display: none;
            height: 100%;
            overflow-y: auto;
            background: var(--bg-light);
            transition: all 0.3s;
        }

        .screen.active {
            display: flex;
            flex-direction: column;
        }

        .header {
            background: var(--primary);
            color: white;
            padding: 36px 20px 16px;
            position: relative;
        }

        .header-top-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            min-height: 28px;
        }

        .header-top-left {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .header-top-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-title-row {
            margin-bottom: 4px;
        }

        .header h1 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.8;
        }

        .role-switcher {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 6px 12px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .role-switcher:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .back-btn {
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .back-btn:hover {
            transform: translateX(-3px);
        }

        .content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .bottom-nav {
            display: flex;
            background: var(--bg-card);
            border-top: 1px solid var(--border);
            padding: 10px 0;
        }

        .nav-item {
            flex: 1;
            text-align: center;
            padding: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-item i {
            font-size: 20px;
            color: var(--text-secondary);
            display: block;
            margin-bottom: 4px;
        }

        .nav-item span {
            font-size: 11px;
            color: var(--text-secondary);
        }

        .nav-item.active i,
        .nav-item.active span {
            color: var(--secondary);
        }

        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            cursor: pointer;
            transition: all 0.3s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
        }

        .points-badge {
            background: var(--secondary);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
        }

        .card-meta {
            display: flex;
            gap: 12px;
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        .card-meta i {
            margin-right: 4px;
        }

        .btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: var(--accent);
            color: white;
        }

        .btn-primary:hover {
            transform: scale(1.02);
            filter: brightness(0.9);
        }

        .btn-secondary {
            background: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            filter: brightness(0.9);
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            background: var(--bg-card);
            padding: 8px;
            border-radius: 12px;
        }

        .tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-secondary);
            transition: all 0.3s;
        }

        .tab.active {
            background: var(--secondary);
            color: white;
        }

        .splash {
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            text-align: center;
            padding: 40px;
        }

        .splash-logo {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .splash h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .splash p {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 60px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 8px;
        }

        .input-group input,
        .input-group textarea,
        .input-group select {
            width: 100%;
            padding: 14px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 16px;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
            background: var(--bg-card);
            color: var(--text);
        }

        .input-group input:focus,
        .input-group textarea:focus,
        .input-group select:focus {
            outline: none;
            border-color: var(--secondary);
        }

        .stat-card {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            color: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 20px;
        }

        .mini-stat {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }

        .mini-stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 4px;
        }

        .mini-stat-label {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .photo-upload {
            border: 2px dashed var(--secondary);
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
        }

        .photo-upload:hover {
            background: rgba(46, 134, 171, 0.05);
        }

        .photo-upload i {
            font-size: 48px;
            color: var(--secondary);
            margin-bottom: 12px;
        }

        .photo-uploaded {
            background: var(--bg-light);
            border: 2px solid var(--secondary);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
        }

        .photo-uploaded img {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 12px;
        }

        .activity-item {
            display: flex;
            gap: 12px;
            padding: 16px;
            background: var(--bg-card);
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            flex-shrink: 0;
        }

        .activity-icon.new {
            background: #A8D5E2;
            color: var(--primary);
        }

        .activity-icon.completed {
            background: #d4edda;
            color: #28a745;
        }

        .activity-icon.reward {
            background: #fff3cd;
            color: var(--accent);
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 4px;
        }

        .activity-time {
            font-size: 12px;
            color: #999;
        }

        .reward-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .reward-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
        }

        .reward-icon {
            font-size: 40px;
            margin-bottom: 12px;
        }

        .reward-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 8px;
        }

        .reward-cost {
            font-size: 20px;
            font-weight: 700;
            color: var(--accent);
        }

        .reward-nudge {
            font-size: 13px;
            color: var(--accent);
            margin-top: 8px;
            font-weight: 600;
        }

        .reward-affordable {
            background: var(--accent);
            color: white;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
            margin-top: 8px;
            animation: glow 2s ease-in-out infinite;
        }

        /* Reward Cart System */
        .reward-card-actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border);
        }

        .reward-add-btn {
            padding: 8px 20px;
            border: none;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .reward-add-btn.can-add {
            background: var(--secondary);
            color: white;
        }

        .reward-add-btn.can-add:hover {
            filter: brightness(1.1);
            transform: scale(1.05);
        }

        .reward-add-btn.in-cart {
            background: #28a745;
            color: white;
        }

        .reward-add-btn.in-cart:hover {
            background: #dc3545;
        }

        .reward-add-btn.in-cart:hover .btn-label-add {
            display: none;
        }

        .reward-add-btn.in-cart:hover .btn-label-remove {
            display: inline;
        }

        .reward-add-btn .btn-label-remove {
            display: none;
        }

        .reward-add-btn.disabled {
            background: var(--border);
            color: var(--text-secondary);
            cursor: not-allowed;
            opacity: 0.6;
        }

        .reward-cart-bar {
            position: sticky;
            bottom: 0;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 14px 20px;
            display: none;
            align-items: center;
            justify-content: space-between;
            border-radius: 16px 16px 0 0;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.2);
            z-index: 100;
            animation: slideUp 0.3s ease-out;
        }

        .reward-cart-bar.visible {
            display: flex;
        }

        @keyframes slideUp {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .cart-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .cart-count {
            font-size: 15px;
            font-weight: 700;
        }

        .cart-total {
            font-size: 12px;
            opacity: 0.9;
        }

        .cart-remaining {
            font-size: 11px;
            opacity: 0.7;
        }

        .cart-checkout-btn {
            padding: 10px 24px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .cart-checkout-btn:hover {
            transform: scale(1.05);
            filter: brightness(1.1);
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(241, 143, 1, 0.5); }
            50% { box-shadow: 0 0 20px rgba(241, 143, 1, 0.8); }
        }

        .member-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: var(--bg-card);
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .member-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            font-weight: 700;
            position: relative;
        }

        .avatar-camera {
            position: absolute;
            bottom: -2px;
            right: -2px;
            width: 18px;
            height: 18px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            color: white;
        }

        .member-info {
            flex: 1;
        }

        .member-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
        }

        .member-role {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .badge {
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .badge-admin {
            background: var(--accent);
            color: white;
        }

        .badge-mvp {
            background: #28a745;
            color: white;
        }

        .badge-post-mvp {
            background: #6f42c1;
            color: white;
        }

        .scope-tag {
            font-size: 10px;
            padding: 4px 8px;
            border-radius: 8px;
            z-index: 10;
        }

        .notification-panel {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            display: none;
        }

        .notification-panel.active {
            display: block;
        }

        .notification-content {
            background: var(--bg-card);
            margin: 100px 20px;
            border-radius: 20px;
            padding: 20px;
            max-height: 600px;
            overflow-y: auto;
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .notification-header h2 {
            font-size: 20px;
            color: var(--text);
        }

        .close-btn {
            font-size: 24px;
            color: var(--text-secondary);
            cursor: pointer;
        }

        .coming-soon-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(27, 42, 74, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            padding: 40px;
        }

        .coming-soon-overlay i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.8;
        }

        .coming-soon-overlay h2 {
            font-size: 28px;
            margin-bottom: 12px;
        }

        .coming-soon-overlay p {
            font-size: 16px;
            opacity: 0.8;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-light);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 8px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary) 0%, var(--primary) 100%);
            transition: width 0.3s;
        }

        .kid-selector {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .kid-chip {
            padding: 8px 16px;
            border: 2px solid var(--secondary);
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            color: var(--secondary);
        }

        .kid-chip.selected {
            background: var(--secondary);
            color: white;
        }

        .verification-photo {
            width: 100%;
            border-radius: 12px;
            margin-bottom: 16px;
        }

        .btn-group {
            display: flex;
            gap: 12px;
        }

        .btn-group .btn {
            flex: 1;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-state i {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        .empty-state p {
            font-size: 16px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .screen.active {
            animation: fadeIn 0.3s ease-out;
        }

        .dashboard-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 40px 20px 30px;
            border-radius: 0 0 24px 24px;
            margin-bottom: 20px;
        }

        .dashboard-header h1 {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .dashboard-header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .quick-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-top: 20px;
        }

        .quick-stat {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 16px 12px;
            text-align: center;
        }

        .quick-stat-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .quick-stat-label {
            font-size: 11px;
            opacity: 0.9;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text);
        }

        .section-action {
            font-size: 14px;
            color: var(--secondary);
            cursor: pointer;
            font-weight: 600;
        }

        .kid-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .kid-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .kid-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            font-weight: 700;
        }

        .kid-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
        }

        .kid-stats {
            display: flex;
            gap: 16px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .bell-icon {
            color: white;
            font-size: 20px;
            cursor: pointer;
            position: relative;
        }

        .gear-icon {
            color: white;
            font-size: 20px;
            cursor: pointer;
            opacity: 0.9;
            transition: all 0.3s;
        }

        .gear-icon:hover {
            opacity: 1;
            transform: rotate(45deg);
        }

        .notification-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 11px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        /* NEW: Streak Card */
        .streak-card {
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            color: white;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            animation: pulse-glow 2s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(255, 107, 53, 0.5);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 0 30px rgba(255, 107, 53, 0.8);
                transform: scale(1.02);
            }
        }

        .streak-card h3 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .streak-card p {
            font-size: 14px;
            opacity: 0.9;
        }

        /* NEW: Leaderboard */
        .leaderboard-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: var(--bg-card);
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .leaderboard-rank {
            font-size: 32px;
            width: 50px;
            text-align: center;
        }

        .leaderboard-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            font-weight: 700;
        }

        .leaderboard-info {
            flex: 1;
        }

        .leaderboard-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
        }

        .leaderboard-points {
            font-size: 20px;
            font-weight: 700;
            color: var(--secondary);
        }

        /* NEW: Emoji Reactions */
        .emoji-reactions {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .emoji-btn {
            font-size: 32px;
            padding: 12px;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .emoji-btn:hover {
            transform: scale(1.1);
            border-color: var(--secondary);
        }

        .emoji-btn.selected {
            border-color: var(--accent);
            background: var(--bg-light);
        }

        .reaction-display {
            display: flex;
            gap: 6px;
            margin-top: 8px;
        }

        .reaction-display span {
            font-size: 18px;
        }

        /* NEW: Theme Selector */
        .theme-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .theme-item {
            cursor: pointer;
            border-radius: 12px;
            padding: 12px;
            text-align: center;
            border: 3px solid transparent;
            transition: all 0.3s;
            background: var(--bg-card);
        }

        .theme-item:hover {
            border-color: var(--secondary);
        }

        .theme-item.active {
            border-color: var(--accent);
        }

        .theme-preview {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin: 0 auto 8px;
            position: relative;
        }

        .theme-preview::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 50%;
            border-radius: 50% 0 0 50%;
        }

        .theme-preview::after {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 50%;
            border-radius: 0 50% 50% 0;
        }

        .theme-name {
            font-size: 12px;
            font-weight: 600;
            color: var(--text);
        }

        /* Theme colors */
        .theme-ocean .theme-preview::before { background: #1B2A4A; }
        .theme-ocean .theme-preview::after { background: #2E86AB; }

        .theme-sunset .theme-preview::before { background: #2D1B69; }
        .theme-sunset .theme-preview::after { background: #FF6B35; }

        .theme-forest .theme-preview::before { background: #1B3A2D; }
        .theme-forest .theme-preview::after { background: #4A8C6F; }

        .theme-midnight .theme-preview::before { background: #0D1117; }
        .theme-midnight .theme-preview::after { background: #58A6FF; }

        .theme-bubblegum .theme-preview::before { background: #8B1A4A; }
        .theme-bubblegum .theme-preview::after { background: #FF69B4; }

        .theme-arctic .theme-preview::before { background: #2C3E50; }
        .theme-arctic .theme-preview::after { background: #74B9FF; }

        /* NEW: Dark mode toggle */
        .toggle-switch {
            display: inline-block;
            width: 60px;
            height: 32px;
            background: var(--border);
            border-radius: 16px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toggle-switch.active {
            background: var(--secondary);
        }

        .toggle-switch .toggle-thumb {
            width: 28px;
            height: 28px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 2px;
            left: 2px;
            transition: all 0.3s;
        }

        .toggle-switch.active .toggle-thumb {
            left: 30px;
        }

        /* NEW: Confetti Container */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            animation: confetti-fall 3s linear forwards;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

/* ===== CELEBRATION OVERLAY ===== */
#celebration-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: 9998;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.5);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}
#celebration-overlay.visible {
    opacity: 1;
    pointer-events: auto;
}
#celebration-overlay .celebration-content {
    transform: scale(0.8);
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}
#celebration-overlay.visible .celebration-content {
    transform: scale(1);
}

/* ===== SCREEN TRANSITIONS ===== */
@keyframes screen-slide-in {
    from { transform: translateX(30px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}
@keyframes screen-slide-out {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(-30px); opacity: 0; }
}
@keyframes screen-slide-in-back {
    from { transform: translateX(-30px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}
@keyframes screen-slide-out-back {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(30px); opacity: 0; }
}
.screen.screen-entering {
    animation: screen-slide-in 0.25s ease-out forwards;
}
.screen.screen-entering-back {
    animation: screen-slide-in-back 0.25s ease-out forwards;
}

/* ===== CARD ENTRANCE ANIMATIONS ===== */
@keyframes card-entrance {
    from { transform: translateY(15px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
.screen.active .card, .screen.active .chore-item, .screen.active .reward-item {
    animation: card-entrance 0.3s ease-out both;
}
.screen.active .card:nth-child(1), .screen.active .chore-item:nth-child(1), .screen.active .reward-item:nth-child(1) { animation-delay: 0.05s; }
.screen.active .card:nth-child(2), .screen.active .chore-item:nth-child(2), .screen.active .reward-item:nth-child(2) { animation-delay: 0.1s; }
.screen.active .card:nth-child(3), .screen.active .chore-item:nth-child(3), .screen.active .reward-item:nth-child(3) { animation-delay: 0.15s; }
.screen.active .card:nth-child(4), .screen.active .chore-item:nth-child(4), .screen.active .reward-item:nth-child(4) { animation-delay: 0.2s; }
.screen.active .card:nth-child(5), .screen.active .chore-item:nth-child(5), .screen.active .reward-item:nth-child(5) { animation-delay: 0.25s; }

/* ===== COMPANION SVG CONTAINER ===== */
.companion-body .companion-svg {
    width: 36px;
    height: 36px;
    pointer-events: none;
}
.companion-body .companion-svg svg {
    width: 100%;
    height: 100%;
}

/* ===== PET CARD SVG ===== */
.pet-card .pet-svg-preview {
    width: 60px;
    height: 60px;
    margin: 0 auto;
}
.pet-card .pet-svg-preview svg {
    width: 100%;
    height: 100%;
}

/* ===== BADGE SVG IN SELECTION ===== */
.shoutout-badge-option .badge-svg-icon {
    width: 48px;
    height: 48px;
    margin: 0 auto 4px;
}
.shoutout-badge-option .badge-svg-icon svg {
    width: 100%;
    height: 100%;
}
.badge-selectable .badge-svg-icon {
    width: 60px;
    height: 60px;
    margin: 0 auto 6px;
}
.badge-selectable .badge-svg-icon svg {
    width: 100%;
    height: 100%;
}

/* ===== ENHANCED BUTTON PRESS ===== */
.btn-press {
    transform: scale(0.95) !important;
    filter: brightness(1.1);
    transition: all 0.1s ease !important;
}

/* ===== PROGRESS BAR REVEAL ===== */
@keyframes progress-reveal {
    from { width: 0; }
}
.screen.active .progress-fill, .screen.active [class*="progress"] > div {
    animation: progress-reveal 0.6s ease-out 0.3s both;
}

        .profile-pic-large {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            font-weight: 700;
            margin: 0 auto 20px;
            position: relative;
        }

        .profile-pic-large .avatar-camera {
            width: 36px;
            height: 36px;
            font-size: 18px;
            bottom: 5px;
            right: 5px;
        }

        .closest-reward {
            background: var(--bg-card);
            border: 2px solid var(--accent);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
            text-align: center;
        }

        .closest-reward h3 {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 8px;
        }

        .closest-reward p {
            font-size: 20px;
            font-weight: 700;
            color: var(--accent);
        }
        /* Wishlist & Badges */
        .occasion-tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-right: 6px;
        }

        .occasion-birthday { background: #FFE0F0; color: #D63384; }
        .occasion-christmas { background: #D4EDDA; color: #155724; }
        .occasion-holiday { background: #FFF3CD; color: #856404; }
        .occasion-anytime { background: #D1ECF1; color: #0C5460; }

        .wishlist-item {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transition: all 0.3s;
        }

        .wishlist-status {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .wishlist-pending { background: #FFF3CD; color: #856404; }
        .wishlist-approved { background: #D4EDDA; color: #155724; }

        .badge-display {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            width: 80px;
            margin-bottom: 12px;
        }

        .badge-icon {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            margin-bottom: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .badge-label {
            font-size: 10px;
            font-weight: 600;
            color: var(--text-secondary);
            line-height: 1.2;
        }

        .badges-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: flex-start;
        }

        .badge-selectable {
            cursor: pointer;
            transition: all 0.3s;
            opacity: 0.6;
            border: 2px solid transparent;
            border-radius: 16px;
            padding: 8px;
        }

        .badge-selectable:hover, .badge-selectable.selected {
            opacity: 1;
            border-color: var(--secondary);
            background: var(--bg-light);
        }

        .wishlist-link-banner {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s;
        }

        .wishlist-link-banner:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .shoutout-banner {
            background: linear-gradient(135deg, #FF69B4 0%, #E74C3C 50%, #FF6B35 100%);
            border-radius: 16px;
            padding: 16px;
            margin-top: 24px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s;
        }

        .shoutout-banner:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(255, 105, 180, 0.4);
        }

        .shoutout-sibling-card {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid var(--border);
        }

        .shoutout-sibling-card:hover {
            border-color: #FF69B4;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 105, 180, 0.15);
        }

        .shoutout-badge-option {
            cursor: pointer;
            transition: all 0.3s;
            opacity: 0.6;
            border: 3px solid transparent;
            border-radius: 16px;
            padding: 8px;
        }

        .shoutout-badge-option:hover, .shoutout-badge-option.selected {
            opacity: 1;
            border-color: #FF69B4;
            background: rgba(255, 105, 180, 0.08);
        }

        .shoutout-points-section {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--border);
        }

        .shoutout-points-slider {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--border);
            border-radius: 3px;
            outline: none;
            margin: 12px 0;
        }

        .shoutout-points-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #FF69B4;
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(255, 105, 180, 0.4);
        }

        .shoutout-preview {
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            text-align: center;
            border: 2px solid #FFB6C1;
        }

        .shoutout-received-card {
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE8F0 100%);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 16px;
            border: 2px solid #FFB6C1;
            position: relative;
            overflow: hidden;
        }

        .shoutout-received-card::before {
            content: '';
            position: absolute;
            top: -30px;
            right: -30px;
            width: 100px;
            height: 100px;
            background: rgba(255, 105, 180, 0.1);
            border-radius: 50%;
        }

        .shoutout-from {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .shoutout-from-avatar {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: linear-gradient(135deg, #FF69B4, #E74C3C);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: 700;
        }

        .shoutout-note {
            font-size: 15px;
            color: var(--text);
            line-height: 1.6;
            font-style: italic;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            margin: 12px 0;
        }

        .shoutout-badge-display {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: white;
            padding: 8px 16px;
            border-radius: 20px;
            box-shadow: 0 2px 8px rgba(255, 105, 180, 0.2);
            margin: 8px 0;
        }

        .parent-shoutout-card {
            background: linear-gradient(135deg, #FFF0F5 0%, #FFE4E1 100%);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #FFB6C1;
        }

        .parent-shoutout-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 105, 180, 0.2);
        }

        .boost-section {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid var(--border);
        }

        .activity-icon.kindness {
            background: #FFE4E1;
            color: #FF69B4;
        }

        .swap-summary {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .swap-arrow {
            text-align: center;
            padding: 12px 0;
            font-size: 24px;
            color: var(--secondary);
        }

        .swap-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 0;
        }

        .swap-item-label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .swap-item-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
        }

        .incentive-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid var(--border);
        }

        .incentive-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .toggle-switch {
            width: 50px;
            height: 28px;
            background: var(--border);
            border-radius: 14px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toggle-switch.active {
            background: var(--secondary);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .toggle-switch.active::after {
            left: 25px;
        }

        .incentive-slider-section {
            display: none;
            margin-top: 16px;
        }

        .incentive-slider-section.visible {
            display: block;
        }

        .points-slider {
            width: 100%;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--border);
            border-radius: 3px;
            outline: none;
            margin: 12px 0;
        }

        .points-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(241, 143, 1, 0.4);
        }

        .points-offer-display {
            text-align: center;
            margin: 12px 0;
        }

        .points-offer-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--accent);
        }

        .points-offer-label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .success-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px;
            min-height: 100%;
            background: var(--bg-light);
        }

        .success-checkmark {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: #28a745;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: white;
            margin-bottom: 24px;
            animation: scaleIn 0.5s ease-out;
        }

        @keyframes scaleIn {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .success-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 12px;
        }

        .success-subtitle {
            font-size: 15px;
            color: var(--text-secondary);
            margin-bottom: 8px;
            line-height: 1.5;
        }

        .success-detail {
            font-size: 14px;
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 24px;
        }

        .incoming-swap-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            border: 2px solid var(--secondary);
        }

        .incoming-label {
            font-size: 13px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        .incoming-chore {
            font-size: 18px;
            font-weight: 600;
            color: var(--text);
        }

        .incoming-points {
            font-size: 16px;
            font-weight: 700;
            color: var(--secondary);
            margin-top: 4px;
        }

        .bonus-badge {
            background: linear-gradient(135deg, var(--accent) 0%, #FF6B35 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            display: inline-block;
            margin: 16px 0;
            animation: glow 2s ease-in-out infinite;
        }

        .btn-outline {
            background: transparent;
            color: var(--text-secondary);
            border: 2px solid var(--border);
        }

        .btn-outline:hover {
            background: var(--bg-light);
        }

        .decline-reason {
            margin-top: 16px;
            display: none;
        }

        .decline-reason.visible {
            display: block;
        }

        .sibling-select-card {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: var(--bg-card);
            border-radius: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid var(--border);
        }

        .sibling-select-card:hover {
            border-color: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .sibling-info {
            flex: 1;
        }

        .sibling-name {
            font-size: 18px;
            font-weight: 600;
            color: var(--text);
        }

        .sibling-age {
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        .sibling-chore-count {
            font-size: 13px;
            color: var(--secondary);
            font-weight: 600;
            margin-top: 4px;
        }

        /* ===== COMPANION: Chal the Octopus ===== */
        .companion {
            position: absolute;
            bottom: 80px;
            right: 12px;
            z-index: 1500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .companion.hidden {
            transform: translateY(200px);
            opacity: 0;
            pointer-events: none;
        }

        .companion-body {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            box-shadow: 0 4px 16px rgba(46, 134, 171, 0.4);
            animation: companion-bob 3s ease-in-out infinite;
            position: relative;
            transition: all 0.3s;
        }

        .companion-body:hover {
            transform: scale(1.15);
            box-shadow: 0 6px 24px rgba(46, 134, 171, 0.6);
        }

        .companion-body:active {
            transform: scale(0.95);
        }

        @keyframes companion-bob {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-6px) rotate(3deg); }
            75% { transform: translateY(2px) rotate(-2deg); }
        }

        .companion.celebrating .companion-body {
            animation: companion-celebrate 0.6s ease-in-out 3;
        }

        @keyframes companion-celebrate {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.3) rotate(-15deg); }
            50% { transform: scale(1.1) rotate(10deg); }
            75% { transform: scale(1.25) rotate(-10deg); }
        }

        .companion-pulse {
            position: absolute;
            top: -4px;
            right: -4px;
            width: 14px;
            height: 14px;
            background: var(--accent);
            border-radius: 50%;
            border: 2px solid var(--bg-card);
            animation: pulse-dot 2s ease-in-out infinite;
        }

        @keyframes pulse-dot {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.4); opacity: 0.7; }
        }

        .companion-bubble {
            position: absolute;
            bottom: 60px;
            right: 0;
            background: var(--bg-card);
            border-radius: 16px 16px 4px 16px;
            padding: 12px 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            min-width: 180px;
            max-width: 220px;
            opacity: 0;
            transform: translateY(10px) scale(0.9);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: none;
        }

        .companion-bubble.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: auto;
        }

        .companion-bubble::after {
            content: '';
            position: absolute;
            bottom: -8px;
            right: 16px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid var(--bg-card);
        }

        .bubble-text {
            font-size: 13px;
            line-height: 1.5;
            color: var(--text);
            font-weight: 500;
        }

        .bubble-mood {
            font-size: 11px;
            color: var(--text-secondary);
            margin-top: 6px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .bubble-dismiss {
            position: absolute;
            top: 6px;
            right: 8px;
            font-size: 12px;
            color: var(--text-secondary);
            cursor: pointer;
            opacity: 0.5;
            transition: opacity 0.2s;
            line-height: 1;
        }

        .bubble-dismiss:hover {
            opacity: 1;
        }

        .companion-menu {
            position: absolute;
            bottom: 60px;
            right: 0;
            background: var(--bg-card);
            border-radius: 16px;
            padding: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            min-width: 200px;
            opacity: 0;
            transform: translateY(10px) scale(0.9);
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: none;
            z-index: 1501;
        }

        .companion-menu.visible {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: auto;
        }

        .companion-menu-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
            font-weight: 500;
            color: var(--text);
        }

        .companion-menu-item:hover {
            background: var(--bg-light);
        }

        .companion-menu-item i {
            font-size: 16px;
            color: var(--secondary);
            width: 20px;
            text-align: center;
        }

        .companion-intro {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s;
        }

        .companion-intro.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .companion-intro-card {
            background: var(--bg-card);
            border-radius: 24px;
            padding: 32px 24px;
            text-align: center;
            max-width: 280px;
            animation: intro-pop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes intro-pop {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .intro-character {
            font-size: 72px;
            margin-bottom: 16px;
            animation: companion-bob 2s ease-in-out infinite;
        }

        /* ===== FEATURE 1: Thank You Button ===== */
        .btn-thank-you {
            background: white;
            border: 2px solid #FF69B4;
            color: #FF69B4;
        }

        .btn-thank-you:hover {
            background: #FFF0F5;
            transform: scale(1.02);
        }

        /* ===== FEATURE 2: Year-End Recap ===== */
        .wrapped-banner {
            background: linear-gradient(135deg, #1B2A4A 0%, #FFD700 100%);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 16px;
            transition: all 0.3s;
            box-shadow: 0 4px 16px rgba(255, 215, 0, 0.3);
        }

        .wrapped-banner:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(255, 215, 0, 0.5);
        }

        .recap-screen {
            background: linear-gradient(135deg, #0D1117 0%, #1B2A4A 100%);
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 2500;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            padding: 40px 20px;
        }

        .recap-progress {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .recap-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s;
        }

        .recap-dot.active {
            background: white;
            width: 24px;
            border-radius: 4px;
        }

        .recap-slide {
            display: none;
            text-align: center;
            animation: slideIn 0.5s ease-out;
        }

        .recap-slide.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .recap-year {
            font-size: 80px;
            font-weight: 700;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }

        .recap-stat-big {
            font-size: 72px;
            font-weight: 700;
            color: #FFD700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            margin-bottom: 16px;
            animation: countUp 0.8s ease-out;
        }

        @keyframes countUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .recap-label {
            font-size: 20px;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 8px;
        }

        .recap-sublabel {
            font-size: 16px;
            color: rgba(255, 215, 0, 0.8);
            font-weight: 600;
        }

        /* ===== FEATURE 3: Birthday Celebration ===== */
        .birthday-banner {
            background: linear-gradient(135deg, #FF6B9D, #FEC163, #9F5BFF, #FEC163);
            background-size: 200% 200%;
            animation: rainbowShift 3s ease infinite;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        @keyframes rainbowShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .birthday-banner::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 24px;
            animation: spin 3s linear infinite;
        }

        .birthday-banner::after {
            content: '';
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 24px;
            animation: spin 3s linear infinite reverse;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* ===== FEATURE 4: Cash-Out Reward ===== */
        .cashout-card {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
        }

        .cashout-btn {
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: var(--bg-card);
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            margin-bottom: 12px;
        }

        .cashout-btn:hover:not(.disabled) {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.05);
        }

        .cashout-btn.selected {
            border-color: #28a745;
            background: rgba(40, 167, 69, 0.1);
        }

        .cashout-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ===== FEATURE 5: Parent Companion Config ===== */
        .config-section {
            margin-bottom: 24px;
        }

        .config-section-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 12px;
        }

        .config-toggle-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
        }

        .config-toggle-item:last-child {
            border-bottom: none;
        }

        .config-radio-item {
            padding: 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .config-radio-item:hover {
            border-color: var(--secondary);
        }

        .config-radio-item.selected {
            border-color: var(--secondary);
            background: rgba(46, 134, 171, 0.05);
        }

        .custom-message-item {
            background: var(--bg-light);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 8px;
            font-size: 14px;
            color: var(--text);
        }

        /* ===== FEATURE 6: Swipe to Approve ===== */
        .swipe-card-stack {
            position: relative;
            min-height: 420px;
            margin-bottom: 20px;
        }

        .swipe-card {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            background: var(--bg-card);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, opacity 0.3s;
            cursor: grab;
            user-select: none;
            -webkit-user-select: none;
        }

        .swipe-card:active {
            cursor: grabbing;
        }

        .swipe-card:nth-child(2) {
            transform: scale(0.95) translateY(10px);
            opacity: 0.7;
            pointer-events: none;
        }

        .swipe-card:nth-child(3) {
            transform: scale(0.9) translateY(20px);
            opacity: 0.4;
            pointer-events: none;
        }

        .swipe-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: 700;
            opacity: 0;
            transition: opacity 0.2s;
            pointer-events: none;
        }

        .swipe-overlay.approve {
            background: rgba(40, 167, 69, 0.15);
            color: #28a745;
            border: 3px solid #28a745;
        }

        .swipe-overlay.reject {
            background: rgba(220, 53, 69, 0.15);
            color: #dc3545;
            border: 3px solid #dc3545;
        }

        .redo-comment-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg-card);
            border-top: 2px solid var(--border);
            padding: 16px 20px;
            display: none;
            z-index: 100;
        }

        .redo-comment-bar.visible {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .redo-comment-bar input {
            flex: 1;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 14px;
        }

        .redo-comment-bar button {
            padding: 12px 24px;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
        }

        .all-caught-up {
            text-align: center;
            padding: 60px 20px;
        }

        .all-caught-up i {
            font-size: 80px;
            color: #28a745;
            margin-bottom: 20px;
        }

        .approve-all-btn {
            background: rgba(40, 167, 69, 0.2);
            color: #28a745;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .approve-all-btn:hover {
            background: rgba(40, 167, 69, 0.3);
        }

        /* ===== FEATURE 7: UX Polish ===== */
        .fab {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--accent);
            color: white;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 16px rgba(241, 143, 1, 0.4);
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1000;
        }

        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 24px rgba(241, 143, 1, 0.6);
        }

        .fab:active {
            transform: scale(0.95);
        }

        .points-header-badge {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
        }

        .empty-state-chal {
            text-align: center;
            padding: 80px 20px;
        }

        .empty-state-chal .companion-body {
            width: 80px;
            height: 80px;
            font-size: 48px;
            margin: 0 auto 20px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(40, 167, 69, 0.95);
            color: white;
            padding: 12px 24px;
            border-radius: 24px;
            font-size: 14px;
            font-weight: 600;
            z-index: 3000;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .toast.visible {
            opacity: 1;
        }

        .btn-press {
            animation: btnPress 0.2s ease-out;
        }

        @keyframes btnPress {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(0.95); }
        }

        /* ===== THE LIVING ROOM ===== */
        .living-room-post {
            background: var(--bg-card);
            border-radius: 16px;
            margin-bottom: 16px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .post-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
        }

        .post-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            font-weight: 700;
            flex-shrink: 0;
        }

        .post-author {
            flex: 1;
        }

        .post-author-name {
            font-size: 15px;
            font-weight: 600;
            color: var(--text);
        }

        .post-time {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .post-type-badge {
            font-size: 10px;
            padding: 3px 8px;
            border-radius: 10px;
            font-weight: 600;
        }

        .post-image {
            width: 100%;
            aspect-ratio: 4/3;
            object-fit: cover;
            display: block;
        }

        .post-image-placeholder {
            width: 100%;
            aspect-ratio: 4/3;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 64px;
            background: linear-gradient(135deg, #E8F4F8, #A8D5E2);
        }

        .post-body {
            padding: 14px 16px;
        }

        .post-caption {
            font-size: 14px;
            color: var(--text);
            line-height: 1.5;
            margin-bottom: 12px;
        }

        .post-reactions {
            display: flex;
            gap: 16px;
            padding-top: 8px;
            border-top: 1px solid var(--border);
        }

        .post-reaction-btn {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
            padding: 4px 0;
        }

        .post-reaction-btn:hover, .post-reaction-btn.liked {
            color: #E74C3C;
        }

        .post-reaction-btn i {
            font-size: 18px;
        }

        .post-comments {
            padding: 0 16px 14px;
        }

        .post-comment {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }

        .comment-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 10px;
            font-weight: 700;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .comment-text {
            font-size: 13px;
            color: var(--text);
            line-height: 1.4;
        }

        .comment-text strong {
            font-weight: 600;
        }

        .announcement-post {
            border: 2px solid var(--accent);
            background: linear-gradient(135deg, #FFF8E1, #FFFDE7);
        }

        .announcement-badge {
            background: var(--accent);
            color: white;
        }

        .chore-proof-badge {
            background: #28a745;
            color: white;
        }

        .shoutout-post-badge {
            background: #FF69B4;
            color: white;
        }

        .streak-post-badge {
            background: #FF6B35;
            color: white;
        }

        .birthday-post {
            border: 2px solid #FF69B4;
            background: linear-gradient(135deg, #FFF0F5, #FFE4E1);
        }

        .birthday-post-badge {
            background: linear-gradient(135deg, #FF69B4, #E74C3C);
            color: white;
        }

        .camera-fab {
            position: absolute;
            bottom: 70px;
            right: 16px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            box-shadow: 0 4px 16px rgba(46, 134, 171, 0.4);
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s;
        }

        .camera-fab:hover {
            transform: scale(1.1);
        }

        .pinned-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 11px;
            color: var(--accent);
            font-weight: 600;
            margin-left: auto;
        }

        /* ===== V3.0: New Screen Styles ===== */
        .welcome-cards {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 20px;
        }
        .welcome-card {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 32px 24px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid var(--border);
        }
        .welcome-card:hover {
            border-color: var(--secondary);
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        }
        .welcome-card-icon {
            font-size: 56px;
            margin-bottom: 16px;
        }
        .welcome-card-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 8px;
        }
        .welcome-card-desc {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        /* PIN Pad */
        .pin-display {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin: 32px 0;
        }
        .pin-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid var(--secondary);
            transition: all 0.2s;
        }
        .pin-dot.filled {
            background: var(--secondary);
            transform: scale(1.1);
        }
        .pin-pad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            max-width: 280px;
            margin: 0 auto;
        }
        .pin-key {
            width: 72px;
            height: 72px;
            border-radius: 50%;
            border: 2px solid var(--border);
            background: var(--bg-card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: 600;
            color: var(--text);
            cursor: pointer;
            transition: all 0.15s;
            margin: 0 auto;
        }
        .pin-key:hover {
            background: var(--bg-light);
            border-color: var(--secondary);
        }
        .pin-key:active {
            transform: scale(0.92);
            background: var(--secondary);
            color: white;
        }
        .pin-key.empty {
            border: none;
            background: transparent;
            cursor: default;
        }
        .pin-key.backspace {
            font-size: 22px;
            border: none;
            background: transparent;
        }

        /* Social Auth Buttons */
        .social-btn {
            width: 100%;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        .social-btn i {
            font-size: 20px;
        }
        .social-btn-apple {
            background: #000;
            color: white;
        }
        .social-btn-google {
            background: white;
            color: #333;
            border: 2px solid #ddd;
        }
        .social-btn-facebook {
            background: #1877F2;
            color: white;
        }
        .social-btn:hover {
            transform: scale(1.02);
            filter: brightness(0.95);
        }
        .auth-divider {
            display: flex;
            align-items: center;
            gap: 16px;
            margin: 20px 0;
            color: var(--text-secondary);
            font-size: 14px;
        }
        .auth-divider::before, .auth-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border);
        }

        /* Family Code Preview */
        .code-preview {
            background: var(--bg-light);
            border: 2px dashed var(--secondary);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            margin-top: 12px;
        }
        .code-preview-label {
            font-size: 13px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }
        .code-preview-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--secondary);
            letter-spacing: 3px;
        }

        /* Pet Picker */
        .pet-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        .pet-card {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 16px;
            padding: 16px 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        .pet-card:hover {
            border-color: var(--secondary);
        }
        .pet-card.selected {
            border-color: var(--accent);
            background: rgba(241, 143, 1, 0.05);
            transform: scale(1.05);
        }
        .pet-card-emoji {
            font-size: 36px;
            margin-bottom: 6px;
        }
        .pet-card-name {
            font-size: 12px;
            font-weight: 600;
            color: var(--text);
        }

        /* Welcome Family celebration */
        .celebrate-pet {
            font-size: 80px;
            animation: pet-bounce 1s ease-in-out infinite;
            margin-bottom: 20px;
        }
        @keyframes pet-bounce {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-15px) rotate(-5deg); }
            75% { transform: translateY(-5px) rotate(5deg); }
        }
        .family-code-card {
            background: var(--bg-card);
            border: 2px solid var(--secondary);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .family-code-card .code-label {
            font-size: 13px;
            color: var(--text-secondary);
        }
        .family-code-card .code-value {
            font-size: 22px;
            font-weight: 700;
            color: var(--secondary);
            letter-spacing: 2px;
        }
        .copy-icon {
            color: var(--secondary);
            font-size: 18px;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.2s;
        }
        .copy-icon:hover {
            background: rgba(46, 134, 171, 0.1);
        }

        /* Empty Dashboard */
        .empty-dashboard-cta {
            background: var(--bg-card);
            border: 2px dashed var(--secondary);
            border-radius: 20px;
            padding: 32px 24px;
            text-align: center;
            margin: 20px 0;
        }
        .empty-dashboard-cta .pet-icon {
            font-size: 56px;
            margin-bottom: 16px;
        }

        /* Chore Setup */
        .chore-category {
            margin-bottom: 16px;
        }
        .chore-category-header {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px 16px;
            background: var(--bg-card);
            border-radius: 12px 12px 0 0;
            border: 1px solid var(--border);
            cursor: pointer;
            font-weight: 600;
            color: var(--text);
        }
        .chore-category-header i.chevron {
            margin-left: auto;
            transition: transform 0.3s;
        }
        .chore-category-header.expanded i.chevron {
            transform: rotate(180deg);
        }
        .chore-category-items {
            display: none;
            border: 1px solid var(--border);
            border-top: none;
            border-radius: 0 0 12px 12px;
            overflow: hidden;
        }
        .chore-category-items.expanded {
            display: block;
        }
        .preset-chore-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
        }
        .preset-chore-item:last-child {
            border-bottom: none;
        }
        .preset-chore-item:hover {
            background: var(--bg-light);
        }
        .preset-chore-item.selected {
            background: rgba(46, 134, 171, 0.08);
        }
        .preset-check {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: white;
            transition: all 0.2s;
            flex-shrink: 0;
        }
        .preset-chore-item.selected .preset-check {
            background: var(--secondary);
            border-color: var(--secondary);
        }
        .preset-chore-info {
            flex: 1;
        }
        .preset-chore-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--text);
        }
        .preset-chore-meta {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        /* Pet speech bubble */
        .pet-speech {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 20px;
            position: relative;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        .pet-speech::after {
            content: '';
            position: absolute;
            top: -8px;
            left: 24px;
            width: 16px;
            height: 16px;
            background: var(--bg-card);
            transform: rotate(45deg);
        }
        .pet-speech-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        .pet-speech-text {
            font-size: 14px;
            color: var(--text);
            line-height: 1.5;
        }

        /* Kid Added List */
        .kid-added-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: var(--bg-card);
            border-radius: 12px;
            margin-bottom: 8px;
        }
        .kid-added-check {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #28a745;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        /* Post Composer */
        .post-composer {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 16px;
        }
        .post-composer textarea {
            width: 100%;
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 14px;
            font-size: 15px;
            font-family: 'Inter', sans-serif;
            resize: none;
            background: var(--bg-light);
            color: var(--text);
            margin-bottom: 12px;
        }
        .post-composer textarea:focus {
            outline: none;
            border-color: var(--secondary);
        }
        .suggested-posts {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }
        .suggested-post {
            padding: 8px 14px;
            background: var(--bg-light);
            border: 1px solid var(--border);
            border-radius: 20px;
            font-size: 13px;
            color: var(--text);
            cursor: pointer;
            transition: all 0.2s;
        }
        .suggested-post:hover {
            border-color: var(--secondary);
            background: rgba(46, 134, 171, 0.08);
        }

        /* Chore status badges */
        .chore-status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 600;
        }
        .chore-status-pending { background: #FFF3CD; color: #856404; }
        .chore-status-approved { background: #D4EDDA; color: #155724; }
        .chore-status-redo { background: #F8D7DA; color: #721C24; }

        /* Chore action buttons */
        .chore-actions {
            display: flex;
            gap: 8px;
            margin-top: 10px;
        }
        .chore-action-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .chore-action-btn:active {
            transform: scale(0.95);
        }
        .chore-action-start {
            background: var(--secondary);
            color: white;
        }
        .chore-action-done {
            background: #28a745;
            color: white;
        }
        .chore-action-working {
            background: var(--bg-light);
            color: var(--text);
            border: 1px solid var(--border);
        }

        /* Sibling profile */
        .sibling-profile-header {
            text-align: center;
            padding: 20px;
        }
        .sibling-profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            font-weight: 700;
            margin: 0 auto 12px;
        }

        /* Spotlight card */
        .spotlight-card {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            border-radius: 16px;
            padding: 20px;
            color: white;
            text-align: center;
            margin-bottom: 16px;
        }

        /* Cashout flow */
        .cashout-status-step {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
        }
        .cashout-status-dot {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            flex-shrink: 0;
        }
        .cashout-status-dot.active {
            background: var(--secondary);
            border-color: var(--secondary);
            color: white;
        }
        .cashout-status-dot.done {
            background: #28a745;
            border-color: #28a745;
            color: white;
        }
        .cashout-status-line {
            width: 2px;
            height: 20px;
            background: var(--border);
            margin-left: 11px;
        }
        .cashout-status-line.done {
            background: #28a745;
        }

        /* Waiting dots animation */
        .waiting-dots::after {
            content: '';
            animation: dots 1.5s steps(4, end) infinite;
        }
        @keyframes dots {
            0% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
        }

        /* Notification cards for parent dashboard */
        .notification-action-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 12px;
            border: 2px solid var(--border);
        }
        .notification-action-card .card-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }
        .notification-action-card .card-actions .btn {
            flex: 1;
            padding: 10px;
            font-size: 13px;
        }

        /* Swag section */
        .swag-section {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            background: var(--bg-card);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
        }
        .swag-profile {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 26px;
            font-weight: 700;
            flex-shrink: 0;
        }
        .swag-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            flex: 1;
        }
        .swag-badge {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.12);
        }

        /* Settings sections v3 */
        .settings-section {
            margin-bottom: 16px;
        }
        .settings-section-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
            padding-left: 4px;
        }
        .settings-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            padding: 14px 16px;
            transition: all 0.2s;
        }
        .settings-item:hover {
            background: var(--bg-light);
        }
        .settings-item-icon {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: white;
        }
        .settings-item-info {
            flex: 1;
        }
        .settings-item-title {
            font-size: 15px;
            font-weight: 500;
            color: var(--text);
        }
        .settings-item-desc {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 2px;
        }

        /* Tab content sections for chores */
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }

        .role-select-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-top: 16px;
        }

        .role-option {
            background: var(--bg-card);
            border: 3px solid var(--border);
            border-radius: 16px;
            padding: 24px 16px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .role-option:hover {
            border-color: var(--secondary);
            transform: translateY(-2px);
        }

        .role-option.selected {
            border-color: var(--secondary);
            background: rgba(46, 134, 171, 0.05);
            box-shadow: 0 4px 12px rgba(46, 134, 171, 0.2);
        }
    </style>
</head>
<body>
    <div class="phone-frame">
        <div class="notch"></div>
        <div class="confetti-container" id="confetti-container"></div>

        <!-- CELEBRATION OVERLAY -->
        <div id="celebration-overlay">
            <div class="celebration-content" id="celebration-content"></div>
        </div>

        <!-- COMPANION: Chal the Octopus -->
        <div id="companion" class="companion hidden">
            <div class="companion-bubble" id="companion-bubble">
                <div class="bubble-dismiss" onclick="event.stopPropagation(); dismissBubble();">&times;</div>
                <div class="bubble-text" id="bubble-text">You're doing amazing! Keep it up!</div>
                <div class="bubble-mood" id="bubble-mood">
                    <span>~ Chal</span>
                </div>
            </div>
            <div class="companion-menu" id="companion-menu">
                <div class="companion-menu-item" onclick="companionEncourage()">
                    <i class="fas fa-heart"></i> Encourage me
                </div>
                <div class="companion-menu-item" onclick="companionTip()">
                    <i class="fas fa-lightbulb"></i> Give me a tip
                </div>
                <div class="companion-menu-item" onclick="companionFunFact()">
                    <i class="fas fa-star"></i> Fun fact
                </div>
                <div class="companion-menu-item" onclick="hideCompanion()">
                    <i class="fas fa-eye-slash"></i> Hide Chal
                </div>
            </div>
            <div class="companion-body" onclick="toggleCompanionMenu()">
                
                <div class="companion-pulse" id="companion-pulse"></div>
            </div>
        </div>

        <!-- COMPANION: Intro Modal -->
        <div id="companion-intro" class="companion-intro">
            <div class="companion-intro-card">
                <div class="intro-character"></div>
                <h2 style="font-size: 22px; color: var(--text); margin-bottom: 8px;">Meet Chal!</h2>
                <p style="font-size: 14px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px;">
                    I'm your personal companion! I'll cheer you on, give you tips, and celebrate your wins. Tap me anytime you need motivation!
                </p>
                <button class="btn btn-primary" onclick="dismissIntro()" style="font-size: 15px; padding: 14px;">
                    Hey Chal! Let's go!
                </button>
            </div>
        </div>

        <!-- YEAR RECAP: Challey Wrapped -->
        <div id="kid-year-recap" class="recap-screen" style="display: none;">
            <div class="recap-progress">
                <div class="recap-dot active"></div>
                <div class="recap-dot"></div>
                <div class="recap-dot"></div>
                <div class="recap-dot"></div>
                <div class="recap-dot"></div>
                <div class="recap-dot"></div>
                <div class="recap-dot"></div>
                <div class="recap-dot"></div>
            </div>

            <div class="recap-slide active" data-slide="0">
                <div style="font-size: 32px; margin-bottom: 20px;"></div>
                <h1 style="font-size: 40px; margin-bottom: 12px;">Your 2026 in Challey</h1>
                <div class="recap-year">2026</div>
            </div>

            <div class="recap-slide" data-slide="1">
                <div class="recap-label">You completed</div>
                <div class="recap-stat-big">347</div>
                <div class="recap-label">chores this year</div>
                <div style="font-size: 48px; margin-top: 20px;"></div>
            </div>

            <div class="recap-slide" data-slide="2">
                <div class="recap-stat-big">4,280</div>
                <div class="recap-label">points earned</div>
                <div class="recap-sublabel">That's more than 95% of families!</div>
                <div style="font-size: 48px; margin-top: 20px;"></div>
            </div>

            <div class="recap-slide" data-slide="3">
                <div class="recap-label">Your longest streak:</div>
                <div class="recap-stat-big">42</div>
                <div class="recap-label">days in a row</div>
                <div style="font-size: 48px; margin-top: 20px;"></div>
            </div>

            <div class="recap-slide" data-slide="4">
                <div class="recap-label">Your favorite chore:</div>
                <div class="recap-stat-big" style="font-size: 48px;"></div>
                <div class="recap-label">Walk the dog  156 times</div>
                <div class="recap-sublabel">Fido's best friend!</div>
            </div>

            <div class="recap-slide" data-slide="5">
                <div class="recap-label">Kindness stats:</div>
                <div class="recap-stat-big" style="font-size: 40px;">12 given, 9 received</div>
                <div class="recap-label">shout-outs</div>
                <div class="recap-sublabel">Jake called you Amazing Sibling 4 times</div>
                <div style="font-size: 48px; margin-top: 20px;"></div>
            </div>

            <div class="recap-slide" data-slide="6">
                <div class="recap-label">The Johnson Family:</div>
                <div class="recap-stat-big">892</div>
                <div class="recap-label">chores together</div>
                <div class="recap-sublabel">2.4 per day  incredible!</div>
                <div style="font-size: 48px; margin-top: 20px;"></div>
            </div>

            <div class="recap-slide" data-slide="7">
                <div style="font-size: 48px; margin-bottom: 20px;"></div>
                <h2 style="font-size: 32px; margin-bottom: 16px;">Here's to an even better 2027!</h2>
                <button class="btn" onclick="closeYearRecap()" style="background: linear-gradient(135deg, #FFD700, #FFA500); color: white; margin-top: 24px; padding: 16px 32px; font-size: 16px;">
                    Back to Challey
                </button>
            </div>
        </div>

        <!-- SCREEN 1: SPLASH -->
        <div id="splash" class="screen active splash">
            <div class="splash-logo">
                <i class="fas fa-check-circle"></i>
            </div>
            <h1>Challey</h1>
            <p>Chores. Points. Rewards.</p>
            <button class="btn btn-primary" onclick="navigateTo('join-family')">Get Started</button>
        </div>

        <!-- SCREEN 2: JOIN/CREATE FAMILY -->
        <div id="join-family" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('splash')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Welcome to Challey</h1>
                    <p>How would you like to get started?</p>
                </div>
            </div>
            <div class="content">
                <div class="welcome-cards">
                    <div class="welcome-card" onclick="navigateTo('join-family-code')">
                        <div class="welcome-card-icon" style="line-height: 0;"><img src="assets/icons/family-tree.png" alt="Join a Family" style="width: 64px; height: 64px; object-fit: contain;"></div>
                        <div class="welcome-card-title">Join a Family</div>
                        <div class="welcome-card-desc">I have a family code and member code from my parent</div>
                    </div>
                    <div class="welcome-card" onclick="navigateTo('create-family-auth')">
                        <div class="welcome-card-icon" style="line-height: 0;">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 72" width="64" height="58">
                                <!-- House with heart  Create a Family -->
                                <defs>
                                    <linearGradient id="cf-roof" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" stop-color="#F18F01"/><stop offset="100%" stop-color="#E67E00"/></linearGradient>
                                    <linearGradient id="cf-wall" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#F5F7FA"/></linearGradient>
                                </defs>
                                <!-- House body -->
                                <rect x="18" y="32" width="44" height="32" rx="3" fill="url(#cf-wall)" stroke="#DDE4E8" stroke-width="1.2"/>
                                <!-- Roof -->
                                <path d="M10 34 L40 8 L70 34 Z" fill="url(#cf-roof)"/>
                                <path d="M16 34 L40 13 L64 34" fill="none" stroke="white" stroke-width="0.8" opacity="0.3"/>
                                <!-- Door -->
                                <rect x="33" y="44" width="14" height="20" rx="2.5" fill="#1B2A4A"/>
                                <circle cx="43" cy="55" r="1.5" fill="#FFD700"/>
                                <!-- Windows (warm glow) -->
                                <rect x="21" y="38" width="10" height="10" rx="1.5" fill="#FFE8B8"/>
                                <line x1="26" y1="38" x2="26" y2="48" stroke="white" stroke-width="0.8" opacity="0.5"/>
                                <line x1="21" y1="43" x2="31" y2="43" stroke="white" stroke-width="0.8" opacity="0.5"/>
                                <rect x="49" y="38" width="10" height="10" rx="1.5" fill="#FFE8B8"/>
                                <line x1="54" y1="38" x2="54" y2="48" stroke="white" stroke-width="0.8" opacity="0.5"/>
                                <line x1="49" y1="43" x2="59" y2="43" stroke="white" stroke-width="0.8" opacity="0.5"/>
                                <!-- Heart on roof -->
                                <g transform="translate(40,22)" fill="#FF6B6B" opacity="0.85">
                                    <path d="M0 5 C-0.8 4 -5.5 1.5 -5.5 -1.5 C-5.5 -4 -3.8 -5.5 -2.2 -5.5 C-0.8 -5.5 0 -4.5 0 -4.5 C0 -4.5 0.8 -5.5 2.2 -5.5 C3.8 -5.5 5.5 -4 5.5 -1.5 C5.5 1.5 0.8 4 0 5 Z"/>
                                </g>
                                <!-- Plus badge -->
                                <circle cx="65" cy="14" r="8" fill="#28a745"/>
                                <path d="M65 10 L65 18 M61 14 L69 14" stroke="white" stroke-width="2.2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="welcome-card-title">Create a Family</div>
                        <div class="welcome-card-desc">I'm a parent setting up Challey for the first time</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN 2A: JOIN FAMILY CODE ENTRY -->
        <div id="join-family-code" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('join-family')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Join Your Family</h1>
                    <p>Enter the codes your parent gave you</p>
                </div>
            </div>
            <div class="content">
                <div class="input-group">
                    <label>Family Code</label>
                    <input type="text" placeholder="e.g., JOHN13" value="JOHN13">
                </div>
                <div class="input-group">
                    <label>Your Member Code</label>
                    <input type="text" placeholder="e.g., MAG01" value="MAG01">
                </div>
                <button class="btn btn-primary" onclick="navigateTo('kid-set-pin')">Continue</button>
            </div>
        </div>

        <!-- SCREEN 2B: KID SET PIN -->
        <div id="kid-set-pin" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('join-family-code')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Set Your PIN</h1>
                    <p>Create a 4-digit PIN to keep your account safe</p>
                </div>
            </div>
            <div class="content" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                <div class="pin-display" id="pin-set-dots">
                    <div class="pin-dot"></div>
                    <div class="pin-dot"></div>
                    <div class="pin-dot"></div>
                    <div class="pin-dot"></div>
                </div>
                <div class="pin-pad">
                    <div class="pin-key" onclick="pinPadPress(1, 'kid-set-pin')">1</div>
                    <div class="pin-key" onclick="pinPadPress(2, 'kid-set-pin')">2</div>
                    <div class="pin-key" onclick="pinPadPress(3, 'kid-set-pin')">3</div>
                    <div class="pin-key" onclick="pinPadPress(4, 'kid-set-pin')">4</div>
                    <div class="pin-key" onclick="pinPadPress(5, 'kid-set-pin')">5</div>
                    <div class="pin-key" onclick="pinPadPress(6, 'kid-set-pin')">6</div>
                    <div class="pin-key" onclick="pinPadPress(7, 'kid-set-pin')">7</div>
                    <div class="pin-key" onclick="pinPadPress(8, 'kid-set-pin')">8</div>
                    <div class="pin-key" onclick="pinPadPress(9, 'kid-set-pin')">9</div>
                    <div class="pin-key empty"></div>
                    <div class="pin-key" onclick="pinPadPress(0, 'kid-set-pin')">0</div>
                    <div class="pin-key backspace" onclick="pinPadDelete('kid-set-pin')"><i class="fas fa-delete-left"></i></div>
                </div>
            </div>
        </div>

        <!-- SCREEN 2C: KID CONFIRM PIN -->
        <div id="kid-confirm-pin" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-set-pin')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Confirm Your PIN</h1>
                    <p>Enter the same PIN again</p>
                </div>
            </div>
            <div class="content" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                <div class="pin-display" id="pin-confirm-dots">
                    <div class="pin-dot"></div>
                    <div class="pin-dot"></div>
                    <div class="pin-dot"></div>
                    <div class="pin-dot"></div>
                </div>
                <div class="pin-pad">
                    <div class="pin-key" onclick="pinPadPress(1, 'kid-confirm-pin')">1</div>
                    <div class="pin-key" onclick="pinPadPress(2, 'kid-confirm-pin')">2</div>
                    <div class="pin-key" onclick="pinPadPress(3, 'kid-confirm-pin')">3</div>
                    <div class="pin-key" onclick="pinPadPress(4, 'kid-confirm-pin')">4</div>
                    <div class="pin-key" onclick="pinPadPress(5, 'kid-confirm-pin')">5</div>
                    <div class="pin-key" onclick="pinPadPress(6, 'kid-confirm-pin')">6</div>
                    <div class="pin-key" onclick="pinPadPress(7, 'kid-confirm-pin')">7</div>
                    <div class="pin-key" onclick="pinPadPress(8, 'kid-confirm-pin')">8</div>
                    <div class="pin-key" onclick="pinPadPress(9, 'kid-confirm-pin')">9</div>
                    <div class="pin-key empty"></div>
                    <div class="pin-key" onclick="pinPadPress(0, 'kid-confirm-pin')">0</div>
                    <div class="pin-key backspace" onclick="pinPadDelete('kid-confirm-pin')"><i class="fas fa-delete-left"></i></div>
                </div>
            </div>
        </div>

        <!-- SCREEN 2D: KID ENTER PIN (returning) -->
        <div id="kid-enter-pin" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('join-family')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Welcome Back!</h1>
                    <p>Enter your PIN</p>
                </div>
            </div>
            <div class="content" style="display: flex; flex-direction: column; align-items: center;">
                <div style="background: var(--bg-card); border-radius: 12px; padding: 12px 16px; margin-bottom: 24px; width: 100%;">
                    <div style="font-size: 13px; color: var(--text-secondary);">Family: <strong style="color: var(--text);">JOHN13</strong></div>
                    <div style="font-size: 13px; color: var(--text-secondary);">Member: <strong style="color: var(--text);">MAG01</strong></div>
                </div>
                <div class="pin-display" id="pin-enter-dots">
                    <div class="pin-dot"></div>
                    <div class="pin-dot"></div>
                    <div class="pin-dot"></div>
                    <div class="pin-dot"></div>
                </div>
                <div class="pin-pad">
                    <div class="pin-key" onclick="pinPadPress(1, 'kid-enter-pin')">1</div>
                    <div class="pin-key" onclick="pinPadPress(2, 'kid-enter-pin')">2</div>
                    <div class="pin-key" onclick="pinPadPress(3, 'kid-enter-pin')">3</div>
                    <div class="pin-key" onclick="pinPadPress(4, 'kid-enter-pin')">4</div>
                    <div class="pin-key" onclick="pinPadPress(5, 'kid-enter-pin')">5</div>
                    <div class="pin-key" onclick="pinPadPress(6, 'kid-enter-pin')">6</div>
                    <div class="pin-key" onclick="pinPadPress(7, 'kid-enter-pin')">7</div>
                    <div class="pin-key" onclick="pinPadPress(8, 'kid-enter-pin')">8</div>
                    <div class="pin-key" onclick="pinPadPress(9, 'kid-enter-pin')">9</div>
                    <div class="pin-key empty"></div>
                    <div class="pin-key" onclick="pinPadPress(0, 'kid-enter-pin')">0</div>
                    <div class="pin-key backspace" onclick="pinPadDelete('kid-enter-pin')"><i class="fas fa-delete-left"></i></div>
                </div>
                <div style="margin-top: 20px;">
                    <a style="color: var(--secondary); font-size: 14px; cursor: pointer;" onclick="navigateTo('kid-forgot-pin')">Forgot PIN?</a>
                </div>
            </div>
        </div>

        <!-- SCREEN 2E: KID FORGOT PIN -->
        <div id="kid-forgot-pin" class="screen">
            <div class="content" style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; min-height: 100%; padding: 40px;">
                <div style="font-size: 64px; margin-bottom: 24px;"><i class="fas fa-lock" style="color: var(--secondary);"></i></div>
                <h2 style="font-size: 22px; color: var(--text); margin-bottom: 12px;">PIN Reset Requested</h2>
                <p style="font-size: 15px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 24px;">
                    We just asked <span class="parent-role">Parent</span> to reset your PIN. Hang tight<span class="waiting-dots"></span>
                </p>
                <div style="font-size: 40px; margin-bottom: 32px; animation: companion-bob 2s ease-in-out infinite;">
                    <span id="forgot-pin-pet"></span>
                </div>
                <button class="btn btn-secondary" onclick="navigateTo('kid-enter-pin')">
                    <i class="fas fa-arrow-left"></i> Try Again
                </button>
            </div>
        </div>

        <!-- SCREEN 2F: CREATE FAMILY AUTH -->
        <div id="create-family-auth" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('join-family')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Create Your Account</h1>
                    <p>Choose how to sign up</p>
                </div>
            </div>
            <div class="content">
                <button class="social-btn social-btn-apple" onclick="navigateTo('create-family-role')">
                    <i class="fab fa-apple"></i> Sign in with Apple
                </button>
                <button class="social-btn social-btn-google" onclick="navigateTo('create-family-role')">
                    <i class="fab fa-google"></i> Sign in with Google
                </button>
                <button class="social-btn social-btn-facebook" onclick="navigateTo('create-family-role')">
                    <i class="fab fa-facebook-f"></i> Continue with Facebook
                </button>
                <div class="auth-divider">or</div>
                <button class="btn btn-outline" onclick="navigateTo('create-family-manual')" style="border: 2px solid var(--secondary); color: var(--secondary);">
                    <i class="fas fa-envelope"></i> Sign up with email
                </button>
                <div style="text-align: center; margin-top: 24px;">
                    <span style="font-size: 14px; color: var(--text-secondary);">Already have an account? </span>
                    <a style="font-size: 14px; color: var(--secondary); cursor: pointer; font-weight: 600;" onclick="navigateTo('kid-enter-pin')">Log in</a>
                </div>
            </div>
        </div>

        <!-- SCREEN 2G: MANUAL SIGNUP -->
        <div id="create-family-manual" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('create-family-auth')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Create Account</h1>
                    <p>Sign up with your email</p>
                </div>
            </div>
            <div class="content">
                <div class="input-group">
                    <label>First Name</label>
                    <input type="text" placeholder="Mike" value="Mike">
                </div>
                <div class="input-group">
                    <label>Last Name</label>
                    <input type="text" placeholder="Johnson" value="Johnson">
                </div>
                <div class="input-group">
                    <label>Email</label>
                    <input type="email" placeholder="mike@example.com" value="mike@example.com">
                </div>
                <div class="input-group">
                    <label>Create Password</label>
                    <input type="password" placeholder="Min. 8 characters">
                </div>
                <button class="btn btn-primary" onclick="navigateTo('create-family-role')">Continue</button>
            </div>
        </div>

        <!-- SCREEN: PARENT ROLE SELECTION -->
        <div id="create-family-role" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('create-family-auth')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>What's Your Role?</h1>
                    <p>How should we introduce you?</p>
                </div>
            </div>
            <div class="content">
                <div class="role-select-grid">
                    <div class="role-option" onclick="selectRole(this, 'Dad')">
                        <div style="font-size: 48px; margin-bottom: 8px;"></div>
                        <div style="font-size: 16px; font-weight: 600;">Dad</div>
                    </div>
                    <div class="role-option" onclick="selectRole(this, 'Mom')">
                        <div style="font-size: 48px; margin-bottom: 8px;"></div>
                        <div style="font-size: 16px; font-weight: 600;">Mom</div>
                    </div>
                    <div class="role-option" onclick="selectRole(this, 'Guardian')">
                        <div style="font-size: 48px; margin-bottom: 8px;"></div>
                        <div style="font-size: 16px; font-weight: 600;">Guardian</div>
                    </div>
                    <div class="role-option" onclick="selectRole(this, 'Relative')">
                        <div style="font-size: 48px; margin-bottom: 8px;"></div>
                        <div style="font-size: 16px; font-weight: 600;">Relative</div>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="navigateTo('create-family-name')" style="margin-top: 24px;">
                    Continue
                </button>
            </div>
        </div>

        <!-- SCREEN 2H: CREATE FAMILY NAME -->
        <div id="create-family-name" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('create-family-auth')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Name Your Family</h1>
                    <p>This is how your family will appear</p>
                </div>
            </div>
            <div class="content">
                <div class="input-group">
                    <label>Family Name</label>
                    <input type="text" placeholder="e.g., The Johnson Family" value="The Johnson Family" id="family-name-input" oninput="updateFamilyCodePreview()">
                </div>
                <div class="code-preview">
                    <div class="code-preview-label">Your family code will be:</div>
                    <div class="code-preview-value" id="family-code-preview">JOHN13</div>
                </div>
                <button class="btn btn-primary" onclick="navigateTo('pick-family-pet')" style="margin-top: 24px;">Create Family</button>
            </div>
        </div>

        <!-- SCREEN 2I: PICK FAMILY PET -->
        <div id="pick-family-pet" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('create-family-name')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Choose Your Family Pet!</h1>
                    <p>Every family needs a pet! Pick one and name them.</p>
                </div>
            </div>
            <div class="content">
                <div class="pet-grid" id="pet-grid">
                    <div class="pet-card" data-mascot="dog" data-emoji="" onclick="selectPet(this, '', 'Dog')"><div class="pet-svg-preview"></div><div class="pet-card-name">Dog</div></div>
                    <div class="pet-card" data-mascot="cat" data-emoji="" onclick="selectPet(this, '', 'Cat')"><div class="pet-svg-preview"></div><div class="pet-card-name">Cat</div></div>
                    <div class="pet-card selected" data-mascot="octopus" data-emoji="" onclick="selectPet(this, '', 'Octopus')"><div class="pet-svg-preview"></div><div class="pet-card-name">Octopus</div></div>
                    <div class="pet-card" data-mascot="bunny" data-emoji="" onclick="selectPet(this, '', 'Bunny')"><div class="pet-svg-preview"></div><div class="pet-card-name">Bunny</div></div>
                    <div class="pet-card" data-mascot="hamster" data-emoji="" onclick="selectPet(this, '', 'Hamster')"><div class="pet-svg-preview"></div><div class="pet-card-name">Hamster</div></div>
                    <div class="pet-card" data-mascot="parrot" data-emoji="" onclick="selectPet(this, '', 'Parrot')"><div class="pet-svg-preview"></div><div class="pet-card-name">Parrot</div></div>
                    <div class="pet-card" data-mascot="turtle" data-emoji="" onclick="selectPet(this, '', 'Turtle')"><div class="pet-svg-preview"></div><div class="pet-card-name">Turtle</div></div>
                    <div class="pet-card" data-mascot="fox" data-emoji="" onclick="selectPet(this, '', 'Fox')"><div class="pet-svg-preview"></div><div class="pet-card-name">Fox</div></div>
                    <div class="pet-card" data-mascot="panda" data-emoji="" onclick="selectPet(this, '', 'Panda')"><div class="pet-svg-preview"></div><div class="pet-card-name">Panda</div></div>
                    <div class="pet-card" data-mascot="penguin" data-emoji="" onclick="selectPet(this, '', 'Penguin')"><div class="pet-svg-preview"></div><div class="pet-card-name">Penguin</div></div>
                    <div class="pet-card" data-mascot="lion" data-emoji="" onclick="selectPet(this, '', 'Lion')"><div class="pet-svg-preview"></div><div class="pet-card-name">Lion</div></div>
                    <div class="pet-card" data-mascot="frog" data-emoji="" onclick="selectPet(this, '', 'Frog')"><div class="pet-svg-preview"></div><div class="pet-card-name">Frog</div></div>
                </div>
                <div class="input-group">
                    <label>Name your pet</label>
                    <input type="text" placeholder="e.g., Biscuit, Chal, Buddy" value="Chal" id="pet-name-input">
                </div>
                <button class="btn btn-primary" onclick="finishPetPick()">
                    Meet <span id="pet-meet-name">Chal</span>!
                </button>
            </div>
        </div>

        <!-- SCREEN 2J: WELCOME FAMILY -->
        <div id="welcome-family" class="screen">
            <div class="content" style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; min-height: 100%; padding: 32px 20px;">
                <div class="celebrate-pet" id="welcome-pet-emoji"></div>
                <h2 style="font-size: 24px; color: var(--text); margin-bottom: 16px;">Welcome to Challey,<br><span id="welcome-family-name">The Johnson Family</span>!</h2>
                <div class="family-code-card">
                    <div>
                        <div class="code-label">Family Code</div>
                        <div class="code-value">JOHN13</div>
                    </div>
                    <i class="fas fa-copy copy-icon" onclick="showToast('Copied!')"></i>
                </div>
                <div class="family-code-card">
                    <div>
                        <div class="code-label">Your Member Code</div>
                        <div class="code-value">MIKE01</div>
                    </div>
                    <i class="fas fa-copy copy-icon" onclick="showToast('Copied!')"></i>
                </div>
                <p style="font-size: 14px; color: var(--text-secondary); margin: 16px 0; line-height: 1.5;">
                    Share these codes with your family to join!
                </p>
                <button class="btn btn-primary" onclick="navigateTo('parent-dashboard-empty')">Go to Dashboard</button>
            </div>
        </div>

        <!-- SCREEN 2K: PARENT DASHBOARD EMPTY STATE -->
        <div id="parent-dashboard-empty" class="screen">
            <div class="dashboard-header">
                <div class="header-top-row">
                    <div class="header-top-left"></div>
                    <div class="header-top-right">
                        <div class="bell-icon" onclick="toggleNotifications()">
                            <i class="fas fa-bell"></i>
                        </div>
                    </div>
                </div>
                <h1>The Johnson Family</h1>
                <p>Welcome, Mike!</p>
                <div class="quick-stats">
                    <div class="quick-stat">
                        <div class="quick-stat-value">0</div>
                        <div class="quick-stat-label">Active Chores</div>
                    </div>
                    <div class="quick-stat">
                        <div class="quick-stat-value">0</div>
                        <div class="quick-stat-label">Pending</div>
                    </div>
                    <div class="quick-stat">
                        <div class="quick-stat-value">0</div>
                        <div class="quick-stat-label">This Week</div>
                    </div>
                </div>
            </div>
            <div class="content">
                <div class="empty-dashboard-cta">
                    <div class="pet-icon" id="dashboard-pet-emoji"></div>
                    <h3 style="font-size: 20px; font-weight: 700; color: var(--text); margin-bottom: 8px;">Let's add your kids!</h3>
                    <p style="font-size: 14px; color: var(--text-secondary); line-height: 1.5; margin-bottom: 20px;">
                        Your family is set up. Now add your kids so they can start earning rewards!
                    </p>
                    <button class="btn btn-primary" onclick="navigateTo('add-kids')">
                        <i class="fas fa-user-plus"></i> Add Kids
                    </button>
                </div>
            </div>
            <div class="bottom-nav parent-nav">
                <div class="nav-item active" onclick="navigateTo('parent-dashboard-empty')">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-verify')">
                    <i class="fas fa-check-circle"></i>
                    <span>Verify</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-rewards')">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-living-room')">
                    <i class="fas fa-couch"></i>
                    <span>Living Room</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-family')">
                    <i class="fas fa-users"></i>
                    <span>Family</span>
                </div>
            </div>
        </div>

        <!-- SCREEN 2L: ADD KIDS -->
        <div id="add-kids" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-dashboard-empty')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Add Your Kids</h1>
                    <p>Each kid gets a unique code</p>
                </div>
            </div>
            <div class="content">
                <div id="added-kids-list"></div>
                <div class="input-group">
                    <label>Name or Nickname</label>
                    <input type="text" placeholder="e.g., Maggie" id="add-kid-name">
                </div>
                <div class="input-group">
                    <label>Birthday</label>
                    <input type="date" id="add-kid-birthday">
                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 4px;">We'll use this to personalize chores and celebrate their special day!</div>
                </div>
                <button class="btn btn-secondary" onclick="addKid()" style="margin-bottom: 12px;">
                    <i class="fas fa-plus"></i> Add Another Kid
                </button>
                <button class="btn btn-primary" onclick="navigateTo('add-kids-success')">
                    Done
                </button>
            </div>
        </div>

        <!-- SCREEN 2M: ADD KIDS SUCCESS -->
        <div id="add-kids-success" class="screen">
            <div class="content" style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; min-height: 100%; padding: 32px 20px;">
                <div class="success-checkmark">
                    <i class="fas fa-check"></i>
                </div>
                <h2 style="font-size: 24px; color: var(--text); margin-bottom: 20px;">Kids Added!</h2>
                <div style="width: 100%; margin-bottom: 20px;">
                    <div class="kid-added-item">
                        <div class="kid-added-check"><i class="fas fa-check"></i></div>
                        <div style="flex: 1; text-align: left;">
                            <div style="font-weight: 600; color: var(--text);">Maggie</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">Born 2013</div>
                        </div>
                        <div style="font-weight: 700; color: var(--secondary); letter-spacing: 1px;">MAG01</div>
                    </div>
                    <div class="kid-added-item">
                        <div class="kid-added-check"><i class="fas fa-check"></i></div>
                        <div style="flex: 1; text-align: left;">
                            <div style="font-weight: 600; color: var(--text);">Jake</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">Born 2016</div>
                        </div>
                        <div style="font-weight: 700; color: var(--secondary); letter-spacing: 1px;">JAK01</div>
                    </div>
                    <div class="kid-added-item">
                        <div class="kid-added-check"><i class="fas fa-check"></i></div>
                        <div style="flex: 1; text-align: left;">
                            <div style="font-weight: 600; color: var(--text);">Lily</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">Born 2018</div>
                        </div>
                        <div style="font-weight: 700; color: var(--secondary); letter-spacing: 1px;">LIL01</div>
                    </div>
                </div>
                <p style="font-size: 14px; color: var(--text-secondary); margin-bottom: 24px;">Share these codes with your kids!</p>
                <button class="btn btn-primary" onclick="navigateTo('setup-chores')">Continue to Setup</button>
            </div>
        </div>

        <!-- SCREEN 2N: CHORE SETUP -->
        <div id="setup-chores" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('add-kids-success')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Set Up Chores</h1>
                    <p>Pick some to get started</p>
                </div>
            </div>
            <div class="content">
                <div class="pet-speech">
                    <div class="pet-speech-header">
                        <span style="font-size: 28px;" id="setup-chores-pet"></span>
                        <span style="font-weight: 600; color: var(--text);" id="setup-chores-pet-name">Chal</span>
                    </div>
                    <div class="pet-speech-text">Great! Now let's give your kids something to do. Here are some popular chores!</div>
                </div>

                <div class="chore-category">
                    <div class="chore-category-header expanded" onclick="toggleChoreCategory(this)">
                        <span></span> Kitchen <i class="fas fa-chevron-down chevron"></i>
                    </div>
                    <div class="chore-category-items expanded">
                        <div class="preset-chore-item selected" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Wash dishes</div><div class="preset-chore-meta">15 pts - 15 min</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Empty dishwasher</div><div class="preset-chore-meta">10 pts - 10 min</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Wipe counters</div><div class="preset-chore-meta">10 pts - 10 min</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Set the table</div><div class="preset-chore-meta">5 pts - 5 min</div></div></div>
                    </div>
                </div>
                <div class="chore-category">
                    <div class="chore-category-header" onclick="toggleChoreCategory(this)">
                        <span></span> Bedroom <i class="fas fa-chevron-down chevron"></i>
                    </div>
                    <div class="chore-category-items">
                        <div class="preset-chore-item selected" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Make bed</div><div class="preset-chore-meta">5 pts - 5 min</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Clean room</div><div class="preset-chore-meta">20 pts - 30 min</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Put away laundry</div><div class="preset-chore-meta">15 pts - 15 min</div></div></div>
                    </div>
                </div>
                <div class="chore-category">
                    <div class="chore-category-header" onclick="toggleChoreCategory(this)">
                        <span></span> Outdoor <i class="fas fa-chevron-down chevron"></i>
                    </div>
                    <div class="chore-category-items">
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Mow lawn</div><div class="preset-chore-meta">30 pts - 45 min</div></div></div>
                        <div class="preset-chore-item selected" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Take out trash</div><div class="preset-chore-meta">10 pts - 10 min</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Walk the dog</div><div class="preset-chore-meta">15 pts - 20 min</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Water plants</div><div class="preset-chore-meta">10 pts - 10 min</div></div></div>
                    </div>
                </div>
                <div class="chore-category">
                    <div class="chore-category-header" onclick="toggleChoreCategory(this)">
                        <span></span> Living Areas <i class="fas fa-chevron-down chevron"></i>
                    </div>
                    <div class="chore-category-items">
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Vacuum</div><div class="preset-chore-meta">20 pts - 20 min</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Sweep/mop</div><div class="preset-chore-meta">20 pts - 25 min</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Dust furniture</div><div class="preset-chore-meta">15 pts - 15 min</div></div></div>
                    </div>
                </div>

                <button class="btn btn-secondary" style="margin: 16px 0 12px;"><i class="fas fa-plus"></i> Add Custom Chore</button>
                <button class="btn btn-primary" onclick="navigateTo('setup-rewards')">Continue</button>
            </div>
        </div>

        <!-- SCREEN 2O: REWARD SETUP -->
        <div id="setup-rewards" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('setup-chores')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Set Up Rewards</h1>
                    <p>What can kids earn?</p>
                </div>
            </div>
            <div class="content">
                <div class="pet-speech">
                    <div class="pet-speech-header">
                        <span style="font-size: 28px;" id="setup-rewards-pet"></span>
                        <span style="font-weight: 600; color: var(--text);">Chal</span>
                    </div>
                    <div class="pet-speech-text">Now let's add some rewards! Just enter the dollar value  I'll calculate the points automatically. Your kids can also suggest rewards and add to their wishlist later.</div>
                </div>

                <div class="chore-category">
                    <div class="chore-category-header expanded" onclick="toggleChoreCategory(this)">
                        <span></span> Screen Time <i class="fas fa-chevron-down chevron"></i>
                    </div>
                    <div class="chore-category-items expanded">
                        <div class="preset-chore-item selected" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">30min gaming</div><div class="preset-chore-meta">30 pts  $1.50</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">1hr TV</div><div class="preset-chore-meta">50 pts  $2.50</div></div></div>
                        <div class="preset-chore-item selected" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Movie night</div><div class="preset-chore-meta">80 pts  $4.00</div></div></div>
                    </div>
                </div>
                <div class="chore-category">
                    <div class="chore-category-header" onclick="toggleChoreCategory(this)">
                        <span></span> Food & Treats <i class="fas fa-chevron-down chevron"></i>
                    </div>
                    <div class="chore-category-items">
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Pick dinner</div><div class="preset-chore-meta">60 pts  $3.00</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">Ice cream outing</div><div class="preset-chore-meta">40 pts  $2.00</div></div></div>
                    </div>
                </div>
                <div class="chore-category">
                    <div class="chore-category-header" onclick="toggleChoreCategory(this)">
                        <span></span> Cash <i class="fas fa-chevron-down chevron"></i>
                    </div>
                    <div class="chore-category-items">
                        <div class="preset-chore-item selected" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">$1 cash</div><div class="preset-chore-meta">20 pts  $1.00</div></div></div>
                        <div class="preset-chore-item selected" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">$5 cash</div><div class="preset-chore-meta">100 pts  $5.00</div></div></div>
                        <div class="preset-chore-item" onclick="togglePresetChore(this)"><div class="preset-check"><i class="fas fa-check"></i></div><div class="preset-chore-info"><div class="preset-chore-name">$10 cash</div><div class="preset-chore-meta">200 pts  $10.00</div></div></div>
                    </div>
                </div>

                <button class="btn btn-secondary" style="margin: 16px 0 12px;"><i class="fas fa-plus"></i> Add Custom Reward</button>
                <button class="btn btn-primary" onclick="navigateTo('setup-first-post')">Continue</button>
            </div>
        </div>

        <!-- SCREEN 2P: FIRST LIVING ROOM POST -->
        <div id="setup-first-post" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('setup-rewards')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>First Post!</h1>
                    <p>Welcome your family</p>
                </div>
            </div>
            <div class="content">
                <div class="pet-speech">
                    <div class="pet-speech-header">
                        <span style="font-size: 28px;"></span>
                        <span style="font-weight: 600; color: var(--text);">Chal</span>
                    </div>
                    <div class="pet-speech-text">One last thing! Post something in The Living Room -- this will be the first thing your kids see when they join!</div>
                </div>

                <div class="post-composer">
                    <textarea rows="4" placeholder="Welcome to our family app!"></textarea>
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <i class="fas fa-camera" style="font-size: 22px; color: var(--secondary); cursor: pointer;"></i>
                        <span style="font-size: 13px; color: var(--text-secondary);">Add a photo</span>
                    </div>
                    <div class="suggested-posts">
                        <div class="suggested-post" onclick="this.closest('.post-composer').querySelector('textarea').value = this.textContent">Welcome to Challey, family!</div>
                        <div class="suggested-post" onclick="this.closest('.post-composer').querySelector('textarea').value = this.textContent">Let's earn some rewards!</div>
                        <div class="suggested-post" onclick="this.closest('.post-composer').querySelector('textarea').value = this.textContent">Who's ready to level up?</div>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="switchRole('parent'); navigateTo('parent-dashboard')">
                    <i class="fas fa-paper-plane"></i> Post & Finish Setup
                </button>
            </div>
        </div>

        <!-- SCREEN 3: KID CHORES -->
        <div id="kid-chores" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <div class="role-switcher" onclick="toggleRole()">
                            <i class="fas fa-repeat"></i> <span class="role-text">Switch to Parent</span>
                        </div>
                        <div class="points-header-badge">
                            <i class="fas fa-coins" style="margin-right: 4px;"></i> 135 pts
                        </div>
                    </div>
                    <div class="header-top-right">
                        <div class="gear-icon" onclick="navigateTo('kid-settings')">
                            <i class="fas fa-gear"></i>
                        </div>
                        <div class="bell-icon" onclick="toggleNotifications()">
                            <i class="fas fa-bell"></i>
                            <div class="notification-badge">3</div>
                        </div>
                    </div>
                </div>
                <div class="header-title-row">
                    <h1>My Chores</h1>
                    <p>Let's get it done!</p>
                </div>
            </div>
            <div class="content">
                <div class="birthday-banner">
                    <h3 style="font-size: 22px; font-weight: 700; margin-bottom: 8px;">Happy Birthday, Maggie! </h3>
                    <p style="font-size: 14px; margin-bottom: 8px;">Double points today! </p>
                    <div style="background: rgba(255, 255, 255, 0.2); border-radius: 12px; padding: 8px; display: inline-block;">
                        <strong>Birthday Pass:</strong> Skip 1 chore free
                    </div>
                </div>

                <div class="streak-card" onclick="navigateTo('kid-board')" style="cursor: pointer;">
                    <h3>7 Day Streak! </h3>
                    <p>You're on fire! Keep it up to unlock special rewards</p>
                </div>

                <div class="tabs">
                    <div class="tab active" onclick="switchChoreTab('todo', this)">To Do</div>
                    <div class="tab" onclick="switchChoreTab('inprogress', this)">In Progress</div>
                    <div class="tab" onclick="switchChoreTab('done', this)">Done</div>
                </div>

                <!-- To Do Tab -->
                <div class="tab-content active" id="chore-tab-todo" data-tab="todo">
                    <div class="card" onclick="navigateTo('kid-chore-detail')">
                        <div class="card-header">
                            <div class="card-title">Clean the garage</div>
                            <div class="points-badge">50 pts</div>
                        </div>
                        <div class="card-meta">
                            <span><i class="far fa-calendar"></i> Due Saturday</span>
                            <span style="color: var(--accent); font-weight: 600;">Due today!</span>
                        </div>
                        <div class="chore-actions" onclick="event.stopPropagation();">
                            <button class="chore-action-btn chore-action-start" onclick="startChore(this.closest('.card'))"><i class="fas fa-play"></i> Started it</button>
                            <button class="chore-action-btn chore-action-done" onclick="completeChore(this.closest('.card'))"><i class="fas fa-check"></i> Done!</button>
                            <i class="fas fa-repeat" style="color: var(--text-secondary); cursor: pointer; padding: 10px;" onclick="navigateTo('kid-swap-request')"></i>
                        </div>
                    </div>

                    <div class="card" onclick="navigateTo('kid-chore-detail')">
                        <div class="card-header">
                            <div class="card-title">Walk the dog</div>
                            <div class="points-badge">20 pts</div>
                        </div>
                        <div class="card-meta">
                            <span><i class="far fa-calendar"></i> Daily</span>
                            <span style="color: var(--accent); font-weight: 600;">Due today!</span>
                        </div>
                        <div class="chore-actions" onclick="event.stopPropagation();">
                            <button class="chore-action-btn chore-action-start" onclick="startChore(this.closest('.card'))"><i class="fas fa-play"></i> Started it</button>
                            <button class="chore-action-btn chore-action-done" onclick="completeChore(this.closest('.card'))"><i class="fas fa-check"></i> Done!</button>
                            <i class="fas fa-repeat" style="color: var(--text-secondary); cursor: pointer; padding: 10px;" onclick="navigateTo('kid-swap-request')"></i>
                        </div>
                    </div>

                    <div class="card" onclick="navigateTo('kid-chore-detail')">
                        <div class="card-header">
                            <div class="card-title">Do laundry (wash + fold)</div>
                            <div class="points-badge">40 pts</div>
                        </div>
                        <div class="card-meta">
                            <span><i class="far fa-calendar"></i> Due Sunday</span>
                            <span><i class="far fa-clock"></i> 4 days left</span>
                        </div>
                        <div class="chore-actions" onclick="event.stopPropagation();">
                            <button class="chore-action-btn chore-action-start" onclick="startChore(this.closest('.card'))"><i class="fas fa-play"></i> Started it</button>
                            <button class="chore-action-btn chore-action-done" onclick="completeChore(this.closest('.card'))"><i class="fas fa-check"></i> Done!</button>
                            <i class="fas fa-repeat" style="color: var(--text-secondary); cursor: pointer; padding: 10px;" onclick="navigateTo('kid-swap-request')"></i>
                        </div>
                    </div>

                    <div class="card" onclick="navigateTo('kid-chore-detail')">
                        <div class="card-header">
                            <div class="card-title">Clean your room</div>
                            <div class="points-badge">25 pts</div>
                        </div>
                        <div class="card-meta">
                            <span><i class="far fa-calendar"></i> Weekly</span>
                            <span><i class="far fa-clock"></i> Due Friday</span>
                        </div>
                        <div class="chore-actions" onclick="event.stopPropagation();">
                            <button class="chore-action-btn chore-action-start" onclick="startChore(this.closest('.card'))"><i class="fas fa-play"></i> Started it</button>
                            <button class="chore-action-btn chore-action-done" onclick="completeChore(this.closest('.card'))"><i class="fas fa-check"></i> Done!</button>
                            <i class="fas fa-repeat" style="color: var(--text-secondary); cursor: pointer; padding: 10px;" onclick="navigateTo('kid-swap-request')"></i>
                        </div>
                    </div>

                    <!-- Redo requested chore (returned from Done) -->
                    <div class="card" onclick="navigateTo('kid-chore-detail')" style="border: 2px solid #F18F01; background: rgba(241, 143, 1, 0.06);">
                        <div class="card-header">
                            <div class="card-title"><i class="fas fa-redo" style="color: #F18F01; margin-right: 6px;"></i>Take out trash</div>
                            <div class="points-badge">10 pts</div>
                        </div>
                        <div class="card-meta">
                            <span class="chore-status-badge chore-status-redo" style="background: rgba(241, 143, 1, 0.15); color: #c57700;">Redo requested</span>
                            <span><i class="far fa-clock"></i> 2 days ago</span>
                        </div>
                        <div style="background: #FFF8EE; border-left: 3px solid #F18F01; padding: 8px 12px; border-radius: 6px; margin-top: 8px;">
                            <div style="font-size: 12px; font-weight: 600; color: #c57700; margin-bottom: 2px;">Redo: Needs another pass</div>
                            <div style="font-size: 12px; color: var(--text-secondary);"><span class="parent-role-possessive">Parent's</span> note: All done! Organized the tools but forgot to sweep the floor. Quick sweep and you're good!</div>
                        </div>
                        <div class="chore-actions" onclick="event.stopPropagation();">
                            <button class="chore-action-btn chore-action-start" onclick="startChore(this.closest('.card'))"><i class="fas fa-play"></i> Started it</button>
                            <button class="chore-action-btn chore-action-done" onclick="completeChore(this.closest('.card'))"><i class="fas fa-check"></i> Done!</button>
                            <i class="fas fa-repeat" style="color: var(--text-secondary); cursor: pointer; padding: 10px;" onclick="navigateTo('kid-swap-request')"></i>
                        </div>
                    </div>
                </div>

                <!-- In Progress Tab -->
                <div class="tab-content" id="chore-tab-inprogress" data-tab="inprogress">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Vacuum living room</div>
                            <div class="points-badge">30 pts</div>
                        </div>
                        <div class="card-meta">
                            <span style="color: var(--secondary); font-weight: 500;">Still working on this?</span>
                        </div>
                        <div class="chore-actions">
                            <button class="chore-action-btn chore-action-done" onclick="completeChore(this.closest('.card'))"><i class="fas fa-check"></i> Done!</button>
                            <button class="chore-action-btn chore-action-working"><i class="fas fa-clock"></i> Still on it</button>
                            <i class="fas fa-repeat" style="color: var(--text-secondary); cursor: pointer; padding: 10px;" onclick="navigateTo('kid-swap-request')"></i>
                        </div>
                    </div>
                </div>

                <!-- Done Tab -->
                <div class="tab-content" id="chore-tab-done" data-tab="done">
                    <div class="card" style="cursor: default;">
                        <div class="card-header">
                            <div class="card-title">Wash dishes</div>
                            <div class="points-badge" style="background: #28a745;">15 pts</div>
                        </div>
                        <div class="card-meta">
                            <span class="chore-status-badge chore-status-approved"><i class="fas fa-check"></i> Approved</span>
                            <span><i class="far fa-clock"></i> Yesterday</span>
                        </div>
                    </div>
                    <div class="card" style="cursor: default;">
                        <div class="card-header">
                            <div class="card-title">Make bed</div>
                            <div class="points-badge">5 pts</div>
                        </div>
                        <div class="card-meta">
                            <span class="chore-status-badge chore-status-pending">Pending approval</span>
                            <span><i class="far fa-clock"></i> Today</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottom-nav kid-nav">
                <div class="nav-item active" onclick="navigateTo('kid-chores')">
                    <i class="fas fa-list-check"></i>
                    <span>Chores</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-rewards')">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-points')">
                    <i class="fas fa-coins"></i>
                    <span>Points</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-board')">
                    <i class="fas fa-trophy"></i>
                    <span>Board</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-living-room')">
                    <i class="fas fa-couch"></i>
                    <span>Living Room</span>
                </div>
            </div>
        </div>

        <!-- SCREEN 4: KID CHORE DETAIL -->
        <div id="kid-chore-detail" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-chores')"></i>
                <h1>Chore Details</h1>
                <p>Everything you need to know</p>
            </div>
            <div class="content">
                <div class="stat-card">
                    <div class="stat-value">50</div>
                    <div class="stat-label">Points for this chore</div>
                </div>

                <div class="card">
                    <div class="card-title" style="margin-bottom: 12px;">Clean the garage</div>
                    <p style="color: var(--text-secondary); font-size: 14px; line-height: 1.6; margin-bottom: 16px;">
                        Sweep the floor, organize the tools on the workbench, and take out any trash or recycling. Make sure everything is neat and tidy!
                    </p>
                    <div class="card-meta">
                        <span><i class="far fa-calendar"></i> Due Saturday</span>
                        <span><i class="far fa-clock"></i> 2 days left</span>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="navigateTo('kid-chore-completion')">
                    <i class="fas fa-camera"></i> Mark Complete
                </button>

                <button class="btn btn-secondary" onclick="navigateTo('kid-swap-request')" style="margin-top: 12px;">
                    <i class="fas fa-repeat"></i> Request Swap
                </button>
            </div>
        </div>

        <!-- SCREEN 5: KID CHORE COMPLETION -->
        <div id="kid-chore-completion" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-chore-detail')"></i>
                <h1>Complete Chore</h1>
                <p>Upload proof photo</p>
            </div>
            <div class="content">
                <div class="card">
                    <div class="card-title" style="margin-bottom: 8px;">Clean the garage</div>
                    <div class="points-badge" style="display: inline-block;">50 pts</div>
                </div>

                <div class="photo-uploaded">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200'%3E%3Crect fill='%23A8D5E2' width='300' height='200'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial' font-size='18' fill='%231B2A4A'%3EClean Garage Photo%3C/text%3E%3C/svg%3E" alt="Chore completion photo">
                    <p style="font-size: 14px; color: var(--text-secondary); text-align: center;">
                        <i class="fas fa-check-circle" style="color: #28a745; margin-right: 4px;"></i>
                        Photo uploaded successfully
                    </p>
                </div>

                <div class="input-group">
                    <label>Add a note (optional)</label>
                    <textarea rows="3" placeholder="Any notes for your parents?">All done! Organized the tools and swept everything.</textarea>
                </div>

                <button class="btn btn-success" onclick="submitChore()">
                    <i class="fas fa-paper-plane"></i> Submit for Verification
                </button>
            </div>
        </div>

        <!-- SCREEN 5A: KID SWAP REQUEST -->
        <div id="kid-swap-request" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-chore-detail')"></i>
                <h1>Request Swap</h1>
                <p>Choose swap type</p>
            </div>
            <div class="content">
                <div class="card">
                    <div class="card-title" style="margin-bottom: 8px;">Chore to Swap</div>
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-top: 12px;">
                        <div style="font-size: 16px; font-weight: 600; color: var(--text);">Clean the garage</div>
                        <div class="points-badge">50 pts</div>
                    </div>
                </div>

                <div class="section-header" style="margin-top: 24px;">
                    <div class="section-title">Choose Swap Type</div>
                </div>

                <div class="card" onclick="navigateTo('kid-swap-sibling-select')">
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <div style="font-size: 48px;"></div>
                        <div style="flex: 1;">
                            <div class="card-title">Swap with Sibling</div>
                            <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                                Trade chores with Jake or Lily
                            </p>
                        </div>
                        <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                    </div>
                    <div style="display: flex; gap: 8px; margin-top: 16px;">
                        <div class="kid-avatar" style="width: 36px; height: 36px; font-size: 14px;">J</div>
                        <div class="kid-avatar" style="width: 36px; height: 36px; font-size: 14px;">L</div>
                    </div>
                </div>

                <div class="card" onclick="navigateTo('kid-swap-parent')">
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <div style="font-size: 48px;"></div>
                        <div style="flex: 1;">
                            <div class="card-title">Request from Parent</div>
                            <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                                Ask <span class="parent-role">Parent</span> to change this chore
                            </p>
                        </div>
                        <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN 5B-1: KID SWAP SIBLING SELECT -->
        <div id="kid-swap-sibling-select" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-swap-request')"></i>
                <h1>Swap with...</h1>
                <p>Choose a sibling</p>
            </div>
            <div class="content">
                <div class="sibling-select-card" onclick="chooseSibling('Jake')">
                    <div class="kid-avatar" style="width: 48px; height: 48px; font-size: 18px;">J</div>
                    <div class="sibling-info">
                        <div class="sibling-name">Jake</div>
                        <div class="sibling-age">Born 2016</div>
                        <div class="sibling-chore-count">3 chores available</div>
                    </div>
                    <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                </div>

                <div class="sibling-select-card" onclick="chooseSibling('Lily')">
                    <div class="kid-avatar" style="width: 48px; height: 48px; font-size: 18px;">L</div>
                    <div class="sibling-info">
                        <div class="sibling-name">Lily</div>
                        <div class="sibling-age">Born 2018</div>
                        <div class="sibling-chore-count">2 chores available</div>
                    </div>
                    <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                </div>
            </div>
        </div>

        <!-- SCREEN 5B-2: KID SWAP SIBLING -->
        <div id="kid-swap-sibling" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-swap-sibling-select')"></i>
                <h1>Swap with <span id="swap-sibling-name">Jake</span></h1>
                <p>Choose a chore to trade</p>
            </div>
            <div class="content">
                <div class="card">
                    <div class="card-title" style="margin-bottom: 8px;">Your Chore</div>
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-top: 12px;">
                        <div style="font-size: 16px; font-weight: 600; color: var(--text);">Clean the garage</div>
                        <div class="points-badge">50 pts</div>
                    </div>
                </div>

                <div class="section-header" style="margin-top: 24px;">
                    <div class="section-title"><span id="swap-sibling-name2">Jake</span>'s Available Chores</div>
                    <div style="font-size: 13px; color: var(--text-secondary);">Select one to propose</div>
                </div>

                <div class="card swap-chore-option" onclick="selectSwapChore(this)" style="border: 2px solid var(--border); cursor: pointer;">
                    <div class="card-header">
                        <div class="card-title">Vacuum living room</div>
                        <div class="points-badge">30 pts</div>
                    </div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 8px;">
                        <i class="far fa-calendar"></i> Due Friday
                    </div>
                </div>

                <div class="card swap-chore-option" onclick="selectSwapChore(this)" style="border: 2px solid var(--border); cursor: pointer;">
                    <div class="card-header">
                        <div class="card-title">Set dinner table</div>
                        <div class="points-badge">10 pts</div>
                    </div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 8px;">
                        <i class="far fa-calendar"></i> Daily
                    </div>
                </div>

                <div class="card swap-chore-option" onclick="selectSwapChore(this)" style="border: 2px solid var(--border); cursor: pointer;">
                    <div class="card-header">
                        <div class="card-title">Take out trash</div>
                        <div class="points-badge">15 pts</div>
                    </div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 8px;">
                        <i class="far fa-calendar"></i> Due Thursday
                    </div>
                </div>

                <div class="incentive-card">
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                        <div style="font-size: 24px;"></div>
                        <div style="flex: 1;">
                            <div class="card-title">Sweeten the Deal</div>
                            <div style="font-size: 13px; color: var(--text-secondary); margin-top: 2px;">
                                Offer some of your points to make the trade more appealing
                            </div>
                        </div>
                    </div>
                    <div class="incentive-toggle">
                        <label style="font-size: 15px; font-weight: 500; color: var(--text);">Offer Points Incentive</label>
                        <div id="incentive-toggle" class="toggle-switch" onclick="toggleIncentive()"></div>
                    </div>
                    <div id="incentive-slider-section" class="incentive-slider-section">
                        <input type="range" id="incentive-slider" class="points-slider" min="0" max="20" value="0" oninput="updateIncentivePoints(this.value)">
                        <div class="points-offer-display">
                            <div class="points-offer-value"><span id="incentive-value">0</span> pts</div>
                            <div class="points-offer-label">Offering</div>
                        </div>
                        <div style="font-size: 13px; color: var(--text-secondary); text-align: center; margin-top: 8px;">
                            You have 135 pts - <span id="incentive-value-sub">0</span> pts = <span id="incentive-remaining">135</span> pts remaining
                        </div>
                        <div style="font-size: 12px; color: var(--text-secondary); text-align: center; margin-top: 8px; font-style: italic;">
                            Points transfer to <span id="swap-sibling-name3">Jake</span> when swap is accepted
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="navigateTo('kid-swap-sibling-confirm')">
                    <i class="fas fa-paper-plane"></i> Propose Swap
                </button>
            </div>
        </div>

        <!-- SCREEN 5B-3: KID SWAP SIBLING CONFIRM -->
        <div id="kid-swap-sibling-confirm" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-swap-sibling')"></i>
                <h1>Confirm Swap</h1>
                <p>Review your proposal</p>
            </div>
            <div class="content">
                <div class="swap-summary">
                    <div class="swap-item-label">You give:</div>
                    <div class="swap-item">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 8px;"></div>
                            <div class="swap-item-name">Clean the garage</div>
                        </div>
                        <div class="points-badge">50 pts</div>
                    </div>

                    <div class="swap-arrow"></div>

                    <div class="swap-item-label">You get:</div>
                    <div class="swap-item">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 8px;"></div>
                            <div class="swap-item-name" id="confirm-swap-get-name">Vacuum living room</div>
                        </div>
                        <div class="points-badge" id="confirm-swap-get-pts">30 pts</div>
                    </div>

                    <div id="confirm-incentive-line" style="display: none; font-size: 14px; color: var(--accent); font-weight: 600; margin-top: 16px; text-align: center;">
                        + 10 pts incentive
                    </div>
                </div>

                <button class="btn btn-primary" onclick="submitSwapConfirm()">
                    <i class="fas fa-check"></i> Send to <span id="swap-sibling-name4">Jake</span>
                </button>
            </div>
        </div>

        <!-- SCREEN 5B-4: KID SWAP SIBLING SENT -->
        <div id="kid-swap-sibling-sent" class="screen">
            <div class="success-screen">
                <div class="success-checkmark"></div>
                <div class="success-title">Swap Request Sent!</div>
                <div class="success-subtitle"><span id="swap-sibling-name5">Jake</span> will see this next time they open Challey</div>
                <div class="success-subtitle">If they accept, the swap happens automatically and <span class="parent-role">Parent</span> gets notified.</div>
                <div id="sent-incentive-line" class="success-detail" style="display: none;">
                    10 pts will transfer to Jake on acceptance
                </div>
                <button class="btn btn-primary" onclick="navigateTo('kid-chores')" style="margin-bottom: 12px;">
                    <i class="fas fa-arrow-left"></i> Back to My Chores
                </button>
                <button class="btn btn-secondary" onclick="viewIncomingSwap()">
                    <i class="fas fa-eye"></i> Demo: See Jake's View
                </button>
            </div>
        </div>

        <!-- SCREEN 5B-5: KID SWAP INCOMING (Jake's perspective) -->
        <div id="kid-swap-incoming" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-chores')"></i>
                <h1>Incoming Swap</h1>
                <p>From Maggie</p>
            </div>
            <div class="content">
                <div style="text-align: center; margin-bottom: 24px;">
                    <div style="font-size: 48px; margin-bottom: 12px;"></div>
                    <div style="font-size: 18px; font-weight: 600; color: var(--text);">Maggie wants to swap with you!</div>
                </div>

                <div class="incoming-swap-card">
                    <div class="incoming-label">She gives you:</div>
                    <div class="incoming-chore">Clean the garage</div>
                    <div class="incoming-points">50 pts</div>
                </div>

                <div class="incoming-swap-card">
                    <div class="incoming-label">She wants:</div>
                    <div class="incoming-chore">Vacuum living room</div>
                    <div class="incoming-points">30 pts</div>
                </div>

                <div id="incoming-bonus" class="bonus-badge" style="display: none; text-align: center; width: 100%;">
                    + 10 bonus points!
                </div>

                <div style="display: flex; gap: 12px; margin-top: 24px;">
                    <button class="btn btn-outline" onclick="declineSwap()" style="flex: 1;">
                        Decline
                    </button>
                    <button class="btn btn-secondary" onclick="navigateTo('kid-swap-counter')" style="flex: 1;">
                        <i class="fas fa-exchange-alt"></i> Counter
                    </button>
                    <button class="btn btn-success" onclick="acceptSwap()" style="flex: 1;">
                        <i class="fas fa-check"></i> Accept
                    </button>
                </div>
            </div>
        </div>

        <!-- SCREEN: KID SWAP COUNTER OFFER -->
        <div id="kid-swap-counter" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-swap-incoming')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Counter Offer</h1>
                    <p>Propose something different to Maggie</p>
                </div>
            </div>
            <div class="content">
                <div class="card" style="background: var(--bg-light);">
                    <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">Maggie wants:</div>
                    <div style="font-size: 16px; font-weight: 600; color: var(--text);">Vacuum living room (30 pts)</div>
                </div>

                <div class="section-header" style="margin-top: 20px;">
                    <div class="section-title">Your Counter</div>
                </div>

                <!-- Option 1: Pick a different chore -->
                <div class="card" onclick="document.getElementById('counter-chore-list').style.display='block'; document.getElementById('counter-favor-section').style.display='none';" style="cursor: pointer; border: 2px solid var(--border);">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="font-size: 32px;">&#x1F504;</div>
                        <div>
                            <div class="card-title">Offer a Different Chore</div>
                            <div style="font-size: 13px; color: var(--text-secondary); margin-top: 2px;">Pick from your available chores</div>
                        </div>
                    </div>
                </div>

                <!-- Option 2: Offer a favor -->
                <div class="card" onclick="document.getElementById('counter-favor-section').style.display='block'; document.getElementById('counter-chore-list').style.display='none';" style="cursor: pointer; border: 2px solid var(--border);">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="font-size: 32px;">&#x1F91D;</div>
                        <div>
                            <div class="card-title">Offer a Favor</div>
                            <div style="font-size: 13px; color: var(--text-secondary); margin-top: 2px;">No points  just a promise between siblings</div>
                        </div>
                    </div>
                </div>

                <!-- Chore selection (hidden by default) -->
                <div id="counter-chore-list" style="display: none; margin-top: 16px;">
                    <div class="section-header">
                        <div class="section-title">Your Available Chores</div>
                    </div>
                    <div class="card swap-chore-option" onclick="selectSwapChore(this)" style="border: 2px solid var(--border); cursor: pointer;">
                        <div class="card-header">
                            <div class="card-title">Set dinner table</div>
                            <div class="points-badge">10 pts</div>
                        </div>
                    </div>
                    <div class="card swap-chore-option" onclick="selectSwapChore(this)" style="border: 2px solid var(--border); cursor: pointer;">
                        <div class="card-header">
                            <div class="card-title">Take out trash</div>
                            <div class="points-badge">15 pts</div>
                        </div>
                    </div>
                    <div class="card swap-chore-option" onclick="selectSwapChore(this)" style="border: 2px solid var(--border); cursor: pointer;">
                        <div class="card-header">
                            <div class="card-title">Water the plants</div>
                            <div class="points-badge">10 pts</div>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="navigateTo('kid-swap-counter-sent')">
                        <i class="fas fa-paper-plane"></i> Send Counter Offer
                    </button>
                </div>

                <!-- Favor input (hidden by default) -->
                <div id="counter-favor-section" style="display: none; margin-top: 16px;">
                    <div class="section-header">
                        <div class="section-title">Describe Your Favor</div>
                    </div>
                    <div class="input-group">
                        <textarea placeholder="e.g., I'll let you pick the movie tonight, I'll share my snacks..." style="min-height: 100px;"></textarea>
                    </div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 16px; font-style: italic;">
                        <i class="fas fa-info-circle"></i> Favors are between you and your sibling  not tracked in the app, no points involved.
                    </div>
                    <button class="btn btn-primary" onclick="navigateTo('kid-swap-counter-sent')">
                        <i class="fas fa-paper-plane"></i> Send Favor Offer
                    </button>
                </div>
            </div>
        </div>

        <!-- SCREEN: KID SWAP COUNTER SENT -->
        <div id="kid-swap-counter-sent" class="screen">
            <div class="success-screen">
                <div class="success-checkmark">&#x2713;</div>
                <div class="success-title">Counter Offer Sent!</div>
                <div class="success-subtitle">Maggie will see your counter offer next time they open Challey.</div>
                <div class="success-subtitle" style="margin-top: 8px;">If they accept, the swap happens automatically.</div>
                <button class="btn btn-primary" onclick="navigateTo('kid-chores')" style="margin-top: 24px;">
                    <i class="fas fa-arrow-left"></i> Back to My Chores
                </button>
                <button class="btn btn-outline" onclick="navigateTo('kid-swap-counter-received')" style="margin-top: 12px; font-size: 13px;">
                    <i class="fas fa-forward"></i> Demo: Maggie's View
                </button>
            </div>
        </div>

        <!-- SCREEN: KID SWAP COUNTER RECEIVED (Maggie sees Jake's counter) -->
        <div id="kid-swap-counter-received" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-chores')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Counter Offer</h1>
                    <p>Jake has a different idea</p>
                </div>
            </div>
            <div class="content">
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 48px; margin-bottom: 8px;">&#x1F91D;</div>
                    <div style="font-size: 16px; font-weight: 600; color: var(--text);">Jake countered your swap!</div>
                </div>

                <div class="card" style="background: var(--bg-light);">
                    <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">You wanted:</div>
                    <div style="font-size: 16px; font-weight: 600; color: var(--text);">Vacuum living room (30 pts)</div>
                </div>

                <div style="text-align: center; font-size: 24px; padding: 8px 0;">&#x2195;&#xFE0F;</div>

                <div class="card" style="background: linear-gradient(135deg, #FFF0F5, #FFE8F0); border: 2px solid var(--secondary);">
                    <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 4px;">Jake offers instead:</div>
                    <div style="display: flex; align-items: center; gap: 12px; margin-top: 8px;">
                        <div style="font-size: 32px;">&#x1F91D;</div>
                        <div>
                            <div style="font-size: 16px; font-weight: 600; color: var(--text);">A Favor</div>
                            <div style="font-size: 14px; color: var(--text-secondary); font-style: italic; margin-top: 4px;">"I'll let you pick the movie tonight"</div>
                        </div>
                    </div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 12px;">
                        <i class="fas fa-info-circle"></i> No points  just a sibling promise
                    </div>
                </div>

                <div style="font-size: 14px; color: var(--text-secondary); text-align: center; margin: 16px 0;">
                    If you accept, <strong>Clean the garage</strong> moves to Jake.
                </div>

                <div style="display: flex; gap: 12px;">
                    <button class="btn btn-outline" onclick="showToast('Swap cancelled'); navigateTo('kid-chores');" style="flex: 1;">
                        Decline
                    </button>
                    <button class="btn btn-success" onclick="showCelebration('swap-accepted'); showToast('Favor accepted! Chore moved to Jake.'); setTimeout(function(){ navigateTo('kid-chores'); }, 1500);" style="flex: 1;">
                        <i class="fas fa-check"></i> Accept Favor
                    </button>
                </div>
            </div>
        </div>

        <!-- SCREEN 5B-6: KID SWAP ACCEPTED -->
        <div id="kid-swap-accepted" class="screen">
            <div class="success-screen">
                <div class="success-checkmark"></div>
                <div class="success-title">Swap Complete!</div>
                <div class="success-subtitle">Clean the garage is now yours. Vacuum living room is now Maggie's.</div>
                <div class="success-subtitle"><span class="parent-role">Parent</span> has been notified.</div>
                <div id="accepted-bonus" class="success-detail" style="display: none;">
                    +10 bonus points received!
                </div>
                <button class="btn btn-primary" onclick="navigateTo('kid-chores')">
                    <i class="fas fa-list"></i> Go to My Chores
                </button>
            </div>
        </div>

        <!-- SCREEN 5C-1: KID SWAP PARENT -->
        <div id="kid-swap-parent" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-swap-request')"></i>
                <h1>Request from <span class="parent-role">Parent</span></h1>
                <p>Ask to change this chore</p>
            </div>
            <div class="content">
                <div class="card">
                    <div class="card-title" style="margin-bottom: 8px;">Instead of:</div>
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-top: 12px;">
                        <div style="font-size: 16px; font-weight: 600; color: var(--text);">Clean the garage</div>
                        <div class="points-badge">50 pts</div>
                    </div>
                </div>

                <div class="section-header" style="margin-top: 24px;">
                    <div class="section-title">Choose an Existing Chore</div>
                </div>

                <div class="card swap-chore-option" onclick="selectParentSwapChore(this)" style="border: 2px solid var(--border); cursor: pointer;">
                    <div class="card-header">
                        <div class="card-title">Help with groceries</div>
                        <div class="points-badge">35 pts</div>
                    </div>
                </div>

                <div class="card swap-chore-option" onclick="selectParentSwapChore(this)" style="border: 2px solid var(--border); cursor: pointer;">
                    <div class="card-header">
                        <div class="card-title">Organize bookshelf</div>
                        <div class="points-badge">20 pts</div>
                    </div>
                </div>

                <div class="card swap-chore-option" onclick="selectParentSwapChore(this)" style="border: 2px solid var(--border); cursor: pointer;">
                    <div class="card-header">
                        <div class="card-title">Wash the car</div>
                        <div class="points-badge">45 pts</div>
                    </div>
                </div>

                <div class="section-header" style="margin-top: 30px;">
                    <div class="section-title">Or Suggest Something New</div>
                </div>

                <div class="input-group">
                    <label>Chore Name</label>
                    <input type="text" id="new-chore-name" placeholder="e.g., Help with garden">
                </div>

                <div class="input-group">
                    <label>Brief Description</label>
                    <textarea id="new-chore-desc" rows="2" placeholder="What does this chore involve?"></textarea>
                </div>

                <div class="input-group">
                    <label>Suggested Points</label>
                    <input type="number" id="new-chore-points" placeholder="e.g., 30">
                </div>

                <button class="btn btn-primary" onclick="submitParentRequest()">
                    <i class="fas fa-paper-plane"></i> Send Request to <span class="parent-role">Parent</span>
                </button>
            </div>
        </div>

        <!-- SCREEN 5C-2: KID SWAP PARENT CONFIRM -->
        <div id="kid-swap-parent-confirm" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-swap-parent')"></i>
                <h1>Confirm Request</h1>
                <p>Review before sending</p>
            </div>
            <div class="content">
                <div class="swap-summary">
                    <div class="swap-item-label">Instead of:</div>
                    <div class="swap-item">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 8px;"></div>
                            <div class="swap-item-name">Clean the garage</div>
                        </div>
                        <div class="points-badge">50 pts</div>
                    </div>

                    <div class="swap-arrow"></div>

                    <div class="swap-item-label">You'd rather do:</div>
                    <div class="swap-item">
                        <div>
                            <div style="font-size: 24px; margin-bottom: 8px;"></div>
                            <div class="swap-item-name" id="parent-confirm-chore-name">Help with groceries</div>
                        </div>
                        <div class="points-badge" id="parent-confirm-chore-pts">35 pts</div>
                    </div>
                </div>

                <div class="input-group" style="margin-top: 20px;">
                    <label>Why do you want this change? (Optional)</label>
                    <textarea id="parent-swap-reason" rows="3" placeholder="This helps your parent understand your request..."></textarea>
                </div>

                <button class="btn btn-primary" onclick="sendParentRequest()">
                    <i class="fas fa-check"></i> Send to <span class="parent-role">Parent</span>
                </button>
            </div>
        </div>

        <!-- SCREEN 5C-3: KID SWAP PARENT SENT -->
        <div id="kid-swap-parent-sent" class="screen">
            <div class="success-screen">
                <div class="success-checkmark"></div>
                <div class="success-title">Request Sent to <span class="parent-role">Parent</span>!</div>
                <div class="success-subtitle">He'll review it and let you know.</div>
                <button class="btn btn-primary" onclick="navigateTo('kid-chores')">
                    <i class="fas fa-arrow-left"></i> Back to My Chores
                </button>
            </div>
        </div>

        <!-- SCREEN 5C-4: PARENT SWAP REVIEW (Parent's perspective) -->
        <div id="parent-swap-review" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-dashboard')"></i>
                <h1>Swap Request</h1>
                <p>From Maggie</p>
            </div>
            <div class="content">
                <div style="text-align: center; margin-bottom: 24px;">
                    <div style="font-size: 48px; margin-bottom: 12px;"></div>
                    <div style="font-size: 18px; font-weight: 600; color: var(--text);">Maggie is asking to change a chore</div>
                </div>

                <div class="incoming-swap-card">
                    <div class="incoming-label">Current chore:</div>
                    <div class="incoming-chore">Clean the garage</div>
                    <div class="incoming-points">50 pts</div>
                </div>

                <div class="incoming-swap-card">
                    <div class="incoming-label">She'd rather do:</div>
                    <div class="incoming-chore">Help with groceries</div>
                    <div class="incoming-points">35 pts</div>
                </div>

                <div class="card" style="margin-top: 20px;">
                    <div class="card-title" style="margin-bottom: 8px;">Maggie's Reason:</div>
                    <div style="font-size: 14px; color: var(--text-secondary); font-style: italic;">
                        "I prefer indoor tasks and the garage is really messy right now."
                    </div>
                </div>

                <div style="display: flex; gap: 12px; margin-top: 24px;">
                    <button class="btn btn-outline" onclick="declineSwapAsParent()" style="flex: 1;">
                        <i class="fas fa-times"></i> Decline
                    </button>
                    <button class="btn btn-success" onclick="approveSwapAsParent()" style="flex: 1;">
                        <i class="fas fa-check"></i> Approve
                    </button>
                </div>

                <div id="parent-decline-reason" class="decline-reason">
                    <div class="input-group">
                        <label>Reason for declining (Optional)</label>
                        <textarea rows="2" placeholder="Let Maggie know why..."></textarea>
                    </div>
                    <button class="btn btn-danger" onclick="sendDecline()">
                        Send Decline
                    </button>
                </div>
            </div>
        </div>

        <!-- SCREEN 6: KID REWARDS SHOP -->
        <div id="kid-rewards" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <div class="role-switcher" onclick="toggleRole()">
                            <i class="fas fa-repeat"></i> <span class="role-text">Switch to Parent</span>
                        </div>
                    </div>
                    <div class="header-top-right">
                        <div class="gear-icon" onclick="navigateTo('kid-settings')"><i class="fas fa-gear"></i></div>
                        <div class="bell-icon" onclick="toggleNotifications()"><i class="fas fa-bell"></i><div class="notification-badge">3</div></div>
                    </div>
                </div>
                <div class="header-title-row">
                    <h1>Rewards Shop</h1>
                    <p style="opacity: 1;"><i class="fas fa-coins" style="color: var(--accent);"></i> 135 pts available</p>
                </div>
            </div>
            <div class="content">
                <!-- Wishlist Section -->
                <div class="section-header">
                    <div class="section-title">My Wishlist</div>
                    <div class="section-action" onclick="navigateTo('kid-add-wish')">+ Add to Wishlist</div>
                </div>
                <div class="wishlist-link-banner" onclick="navigateTo('kid-wishlist')">
                    <i class="fas fa-wand-magic-sparkles" style="font-size: 24px;"></i>
                    <div>
                        <div style="font-weight: 700; font-size: 15px;">View My Wishlist</div>
                        <div style="font-size: 12px; opacity: 0.9;">3 wishes  tap to manage</div>
                    </div>
                    <i class="fas fa-chevron-right" style="margin-left: auto; opacity: 0.7;"></i>
                </div>

                <div class="section-header" style="margin-top: 16px;">
                    <div class="section-title">Available Rewards</div>
                </div>

                <div class="reward-card" data-reward="movie-night" data-cost="50">
                    <div class="reward-icon"></div>
                    <div class="reward-title">Movie Night</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Family picks movie together</p>
                    <div class="reward-cost">50 points <span style="font-size: 12px; color: var(--text-secondary); font-weight: 400;">($2.50)</span></div>
                    <div class="reward-affordable">You can get this! </div>
                    <div class="reward-card-actions" onclick="event.stopPropagation();">
                        <div style="font-size: 13px; color: var(--text-secondary);"><i class="fas fa-coins" style="color: var(--accent);"></i> 50 pts</div>
                        <button class="reward-add-btn can-add" onclick="toggleCartItem(this, 'Movie Night', 50)"><i class="fas fa-plus"></i> <span class="btn-label-add">Add</span><span class="btn-label-remove">Remove</span></button>
                    </div>
                </div>

                <div class="reward-card" data-reward="gift-card" data-cost="100">
                    <div class="reward-icon"></div>
                    <div class="reward-title">$10 Amazon Gift Card</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Shop for what you want</p>
                    <div class="reward-cost">100 points <span style="font-size: 12px; color: var(--text-secondary); font-weight: 400;">($5.00)</span></div>
                    <div class="reward-affordable">You can get this! </div>
                    <div class="reward-card-actions" onclick="event.stopPropagation();">
                        <div style="font-size: 13px; color: var(--text-secondary);"><i class="fas fa-coins" style="color: var(--accent);"></i> 100 pts</div>
                        <button class="reward-add-btn can-add" onclick="toggleCartItem(this, '$10 Gift Card', 100)"><i class="fas fa-plus"></i> <span class="btn-label-add">Add</span><span class="btn-label-remove">Remove</span></button>
                    </div>
                </div>

                <div class="reward-card" data-reward="screen-time" data-cost="30">
                    <div class="reward-icon"></div>
                    <div class="reward-title">Extra 30 min Screen Time</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">One night bonus time</p>
                    <div class="reward-cost">30 points <span style="font-size: 12px; color: var(--text-secondary); font-weight: 400;">($1.50)</span></div>
                    <div class="reward-affordable">You can get this! </div>
                    <div class="reward-card-actions" onclick="event.stopPropagation();">
                        <div style="font-size: 13px; color: var(--text-secondary);"><i class="fas fa-coins" style="color: var(--accent);"></i> 30 pts</div>
                        <button class="reward-add-btn can-add" onclick="toggleCartItem(this, 'Screen Time', 30)"><i class="fas fa-plus"></i> <span class="btn-label-add">Add</span><span class="btn-label-remove">Remove</span></button>
                    </div>
                </div>

                <div class="reward-card" data-reward="dinner" data-cost="40">
                    <div class="reward-icon"></div>
                    <div class="reward-title">Choose Dinner Menu</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Pick what we eat tonight</p>
                    <div class="reward-cost">40 points <span style="font-size: 12px; color: var(--text-secondary); font-weight: 400;">($2.00)</span></div>
                    <div class="reward-affordable">You can get this! </div>
                    <div class="reward-card-actions" onclick="event.stopPropagation();">
                        <div style="font-size: 13px; color: var(--text-secondary);"><i class="fas fa-coins" style="color: var(--accent);"></i> 40 pts</div>
                        <button class="reward-add-btn can-add" onclick="toggleCartItem(this, 'Choose Dinner', 40)"><i class="fas fa-plus"></i> <span class="btn-label-add">Add</span><span class="btn-label-remove">Remove</span></button>
                    </div>
                </div>

                <div class="reward-card" data-reward="sleepover" data-cost="150">
                    <div class="reward-icon"></div>
                    <div class="reward-title">Sleepover with Friend</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Invite a friend over</p>
                    <div class="reward-cost">150 points <span style="font-size: 12px; color: var(--text-secondary); font-weight: 400;">($7.50)</span></div>
                    <div class="reward-nudge">15 points away!</div>
                    <div class="reward-card-actions" onclick="event.stopPropagation();">
                        <div style="font-size: 13px; color: var(--text-secondary);"><i class="fas fa-coins" style="color: var(--accent);"></i> 150 pts</div>
                        <button class="reward-add-btn disabled" disabled><i class="fas fa-lock"></i> <span>Not enough pts</span></button>
                    </div>
                </div>

                <div class="reward-card" data-reward="book" data-cost="80">
                    <div class="reward-icon"></div>
                    <div class="reward-title">New Book</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Pick any book you want</p>
                    <div class="reward-cost">80 points <span style="font-size: 12px; color: var(--text-secondary); font-weight: 400;">($4.00)</span></div>
                    <div class="reward-affordable">You can get this! </div>
                    <div class="reward-card-actions" onclick="event.stopPropagation();">
                        <div style="font-size: 13px; color: var(--text-secondary);"><i class="fas fa-coins" style="color: var(--accent);"></i> 80 pts</div>
                        <button class="reward-add-btn can-add" onclick="toggleCartItem(this, 'New Book', 80)"><i class="fas fa-plus"></i> <span class="btn-label-add">Add</span><span class="btn-label-remove">Remove</span></button>
                    </div>
                </div>

                <div class="reward-card" data-reward="skip-chore" data-cost="75">
                    <div class="reward-icon"></div>
                    <div class="reward-title">Skip One Chore Pass</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Use wisely!</p>
                    <div class="reward-cost">75 points <span style="font-size: 12px; color: var(--text-secondary); font-weight: 400;">($3.75)</span></div>
                    <div class="reward-affordable">You can get this! </div>
                    <div class="reward-card-actions" onclick="event.stopPropagation();">
                        <div style="font-size: 13px; color: var(--text-secondary);"><i class="fas fa-coins" style="color: var(--accent);"></i> 75 pts</div>
                        <button class="reward-add-btn can-add" onclick="toggleCartItem(this, 'Skip Chore Pass', 75)"><i class="fas fa-plus"></i> <span class="btn-label-add">Add</span><span class="btn-label-remove">Remove</span></button>
                    </div>
                </div>

                <div class="reward-card" data-reward="ice-cream" data-cost="60">
                    <div class="reward-icon"></div>
                    <div class="reward-title">Ice Cream Trip</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Visit your favorite spot</p>
                    <div class="reward-cost">60 points <span style="font-size: 12px; color: var(--text-secondary); font-weight: 400;">($3.00)</span></div>
                    <div class="reward-affordable">You can get this! </div>
                    <div class="reward-card-actions" onclick="event.stopPropagation();">
                        <div style="font-size: 13px; color: var(--text-secondary);"><i class="fas fa-coins" style="color: var(--accent);"></i> 60 pts</div>
                        <button class="reward-add-btn can-add" onclick="toggleCartItem(this, 'Ice Cream Trip', 60)"><i class="fas fa-plus"></i> <span class="btn-label-add">Add</span><span class="btn-label-remove">Remove</span></button>
                    </div>
                </div>

                <!-- Spacer for cart bar -->
                <div style="height: 80px;"></div>
            </div>

            <!-- Floating Cart Bar -->
            <div class="reward-cart-bar" id="reward-cart-bar">
                <div class="cart-info">
                    <div class="cart-count" id="cart-count">0 items</div>
                    <div class="cart-total" id="cart-total">0 pts total</div>
                    <div class="cart-remaining" id="cart-remaining">135 pts left</div>
                </div>
                <button class="cart-checkout-btn" onclick="checkoutCart()">Redeem All</button>
            </div>
            <div class="bottom-nav kid-nav">
                <div class="nav-item" onclick="navigateTo('kid-chores')">
                    <i class="fas fa-list-check"></i>
                    <span>Chores</span>
                </div>
                <div class="nav-item active" onclick="navigateTo('kid-rewards')">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-points')">
                    <i class="fas fa-coins"></i>
                    <span>Points</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-board')">
                    <i class="fas fa-trophy"></i>
                    <span>Board</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-living-room')">
                    <i class="fas fa-couch"></i>
                    <span>Living Room</span>
                </div>
            </div>
        </div>

        <!-- SCREEN 7: KID REWARD DETAIL -->
        <div id="kid-reward-detail" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-rewards')"></i>
                <h1>Reward Details</h1>
                <p>Ready to redeem?</p>
            </div>
            <div class="content">
                <div class="card" style="text-align: center; padding: 40px 20px;">
                    <div style="font-size: 80px; margin-bottom: 20px;"></div>
                    <div style="font-size: 24px; font-weight: 700; color: var(--text); margin-bottom: 12px;">Movie Night</div>
                    <p style="color: var(--text-secondary); font-size: 14px; line-height: 1.6; margin-bottom: 20px;">
                        The whole family picks a movie together and watches it on Friday or Saturday night. Popcorn included!
                    </p>
                    <div style="font-size: 36px; font-weight: 700; color: var(--accent); margin-bottom: 20px;">50 points</div>
                    <div style="font-size: 14px; color: var(--text-secondary);">
                        You have <strong style="color: var(--secondary);">135 points</strong> available
                    </div>
                </div>

                <button class="btn btn-primary" onclick="redeemReward()">
                    <i class="fas fa-star"></i> Redeem Now
                </button>
                <button class="btn btn-secondary" onclick="navigateTo('kid-rewards')" style="margin-top: 12px;">
                    Go Back
                </button>
            </div>
        </div>

        <!-- SCREEN 7B: KID WISHLIST -->
        <div id="kid-wishlist" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-rewards')"></i>
                <h1>My Wishlist</h1>
                <p>Things I'd love to have!</p>
            </div>
            <div class="content">
                <div class="wishlist-item">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                        <div style="font-size: 16px; font-weight: 600; color: var(--text);">Nintendo Switch Game</div>
                        <span class="wishlist-status wishlist-approved">Approved </span>
                    </div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Super Mario Wonder  it looks so fun!</p>
                    <div style="display: flex; gap: 6px; align-items: center;">
                        <span class="occasion-tag occasion-birthday"> Birthday</span>
                        <span style="font-size: 12px; color: var(--text-secondary);">~$50</span>
                    </div>
                </div>

                <div class="wishlist-item">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                        <div style="font-size: 16px; font-weight: 600; color: var(--text);">Art Supply Kit</div>
                        <span class="wishlist-status wishlist-approved">Approved </span>
                    </div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Professional colored pencils and sketchbook</p>
                    <div style="display: flex; gap: 6px; align-items: center;">
                        <span class="occasion-tag occasion-christmas"> Christmas</span>
                        <span style="font-size: 12px; color: var(--text-secondary);">~$35</span>
                    </div>
                </div>

                <div class="wishlist-item">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                        <div style="font-size: 16px; font-weight: 600; color: var(--text);">Bluetooth Speaker</div>
                        <span class="wishlist-status wishlist-pending">Pending</span>
                    </div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Small waterproof one for my room</p>
                    <div style="display: flex; gap: 6px; align-items: center;">
                        <span class="occasion-tag occasion-anytime"> Anytime</span>
                        <span style="font-size: 12px; color: var(--text-secondary);">~$25</span>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="navigateTo('kid-add-wish')" style="margin-top: 12px;">
                    <i class="fas fa-plus"></i> Add a Wish
                </button>
            </div>
        </div>

        <!-- SCREEN 7C: KID ADD WISH -->
        <div id="kid-add-wish" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-wishlist')"></i>
                <h1>Add a Wish</h1>
                <p>What do you want?</p>
            </div>
            <div class="content">
                <div class="input-group">
                    <label>What do you want?</label>
                    <input type="text" placeholder="e.g., Nintendo Switch Game">
                </div>

                <div class="input-group">
                    <label>Why do you want it?</label>
                    <textarea rows="3" placeholder="Tell your parents why this would be awesome!"></textarea>
                </div>

                <div class="input-group">
                    <label>Approximate Price</label>
                    <input type="text" placeholder="e.g., $50">
                </div>

                <div class="input-group">
                    <label>Link (optional)</label>
                    <input type="url" placeholder="Paste a link to the item">
                </div>

                <div class="input-group">
                    <label>Tag an Occasion</label>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        <div class="kid-chip selected" onclick="this.classList.toggle('selected')"> Birthday</div>
                        <div class="kid-chip" onclick="this.classList.toggle('selected')"> Christmas</div>
                        <div class="kid-chip" onclick="this.classList.toggle('selected')"> Holiday</div>
                        <div class="kid-chip" onclick="this.classList.toggle('selected')"> Anytime</div>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="navigateTo('kid-wishlist')">
                    <i class="fas fa-wand-magic-sparkles"></i> Add to Wishlist
                </button>
            </div>
        </div>

        <!-- SCREEN 7D: KID CASH-OUT -->
        <div id="kid-cashout" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-rewards')"></i>
                <h1>Cash Out</h1>
                <p>Turn points into cash</p>
            </div>
            <div class="content">
                <div class="stat-card">
                    <div class="stat-value">135</div>
                    <div class="stat-label">Points Available</div>
                </div>

                <div class="section-header">
                    <div class="section-title">Select Amount</div>
                </div>

                <div class="cashout-btn" onclick="selectCashout(this, 1, 20)">
                    <div style="font-size: 24px; font-weight: 700; color: #28a745; margin-bottom: 4px;">$1.00</div>
                    <div style="font-size: 14px; color: var(--text-secondary);">20 points</div>
                </div>

                <div class="cashout-btn selected" onclick="selectCashout(this, 5, 100)">
                    <div style="font-size: 24px; font-weight: 700; color: #28a745; margin-bottom: 4px;">$5.00</div>
                    <div style="font-size: 14px; color: var(--text-secondary);">100 points</div>
                </div>

                <div class="cashout-btn disabled">
                    <div style="font-size: 24px; font-weight: 700; color: var(--text-secondary); margin-bottom: 4px;">$10.00</div>
                    <div style="font-size: 14px; color: var(--text-secondary);">200 points  Not enough points</div>
                </div>

                <div class="cashout-btn disabled">
                    <div style="font-size: 24px; font-weight: 700; color: var(--text-secondary); margin-bottom: 4px;">$25.00</div>
                    <div style="font-size: 14px; color: var(--text-secondary);">500 points  Not enough points</div>
                </div>

                <button class="btn btn-success" onclick="processCashout()" style="margin-top: 20px;">
                    <i class="fas fa-dollar-sign"></i> Cash Out $<span id="cashout-amount">5.00</span>
                </button>
            </div>
        </div>

        <!-- SCREEN 7E: KID CASH-OUT SUCCESS -->
        <div id="kid-cashout-success" class="screen">
            <div class="success-screen">
                <div class="success-checkmark"></div>
                <div class="success-title">Cash Out Requested!</div>
                <div style="font-size: 28px; font-weight: 700; color: #28a745; margin: 16px 0;">
                    $<span id="success-cashout-amount">5.00</span> (100 pts)
                </div>
                <div class="success-subtitle"><span class="parent-role">Parent</span> will hand you the cash. We'll send a reminder!</div>
                <button class="btn btn-primary" onclick="navigateTo('kid-rewards')" style="margin-top: 24px;">
                    Back to Rewards
                </button>
            </div>
        </div>

        <!-- SCREEN 8: KID POINTS -->
        <div id="kid-points" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <div class="role-switcher" onclick="toggleRole()">
                            <i class="fas fa-repeat"></i> <span class="role-text">Switch to Parent</span>
                        </div>
                    </div>
                    <div class="header-top-right">
                        <div class="gear-icon" onclick="navigateTo('kid-settings')"><i class="fas fa-gear"></i></div>
                        <div class="bell-icon" onclick="toggleNotifications()"><i class="fas fa-bell"></i><div class="notification-badge">3</div></div>
                    </div>
                </div>
                <div class="header-title-row">
                    <h1>My Points</h1>
                    <p>Track your earnings</p>
                </div>
            </div>
            <div class="content">
                <div class="stat-card">
                    <div class="stat-value">135</div>
                    <div class="stat-label">Current Balance</div>
                </div>

                <!-- Cash-out section -->
                <div class="card" style="background: linear-gradient(135deg, #d4edda, #c3e6cb); cursor: pointer;" onclick="navigateTo('kid-cashout-confirm')">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <div style="font-size: 15px; font-weight: 600; color: #155724;">Your points are worth $6.75</div>
                            <div style="font-size: 13px; color: #28a745;">100 pts = $5.00</div>
                        </div>
                        <button class="btn btn-success" style="width: auto; padding: 10px 20px; font-size: 14px;" onclick="event.stopPropagation(); navigateTo('kid-cashout-confirm')">
                            <i class="fas fa-dollar-sign"></i> Cash Out
                        </button>
                    </div>
                </div>

                <!-- Pending Cash-Out Status Card -->
                <div class="card" style="background: linear-gradient(135deg, #FFF3CD, #FFE8A1); cursor: pointer; border: 2px solid #FFD700;" onclick="navigateTo('kid-cashout-pending')">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="font-size: 28px;"></div>
                        <div style="flex: 1;">
                            <div style="font-size: 15px; font-weight: 700; color: #856404;">Pending Cash-Out: $5.00</div>
                            <div style="font-size: 12px; color: #856404;">Waiting for <span class="parent-role">Parent</span> to confirm  Tap to check status</div>
                        </div>
                        <i class="fas fa-chevron-right" style="color: #856404;"></i>
                    </div>
                </div>

                <div class="stat-grid">
                    <div class="mini-stat">
                        <div class="mini-stat-value">85</div>
                        <div class="mini-stat-label">Earned This Week</div>
                    </div>
                    <div class="mini-stat">
                        <div class="mini-stat-value">235</div>
                        <div class="mini-stat-label">Earned This Month</div>
                    </div>
                    <div class="mini-stat">
                        <div class="mini-stat-value">100</div>
                        <div class="mini-stat-label">Spent This Month</div>
                    </div>
                    <div class="mini-stat">
                        <div class="mini-stat-value">7</div>
                        <div class="mini-stat-label">Day Streak</div>
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">Recent Activity</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div style="font-size: 14px; color: #28a745;">
                            <i class="fas fa-plus-circle"></i> Earned
                        </div>
                        <div style="font-size: 16px; font-weight: 700; color: #28a745;">+40 pts</div>
                    </div>
                    <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 4px;">Vacuum living room</div>
                    <div class="reaction-display">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div style="font-size: 12px; color: #999; margin-top: 4px;">2 days ago</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div style="font-size: 14px; color: #dc3545;">
                            <i class="fas fa-minus-circle"></i> Spent
                        </div>
                        <div style="font-size: 16px; font-weight: 700; color: #dc3545;">-50 pts</div>
                    </div>
                    <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 4px;">Redeemed: Movie Night</div>
                    <div style="font-size: 12px; color: #999;">3 days ago</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div style="font-size: 14px; color: #28a745;">
                            <i class="fas fa-plus-circle"></i> Earned
                        </div>
                        <div style="font-size: 16px; font-weight: 700; color: #28a745;">+25 pts</div>
                    </div>
                    <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 4px;">Clean your room</div>
                    <div class="reaction-display">
                        <span></span>
                        <span></span>
                    </div>
                    <div style="font-size: 12px; color: #999; margin-top: 4px;">5 days ago</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div style="font-size: 14px; color: #dc3545;">
                            <i class="fas fa-minus-circle"></i> Spent
                        </div>
                        <div style="font-size: 16px; font-weight: 700; color: #dc3545;">-30 pts</div>
                    </div>
                    <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 4px;">Redeemed: Extra Screen Time</div>
                    <div style="font-size: 12px; color: #999;">1 week ago</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div style="font-size: 14px; color: #28a745;">
                            <i class="fas fa-plus-circle"></i> Earned
                        </div>
                        <div style="font-size: 16px; font-weight: 700; color: #28a745;">+20 pts</div>
                    </div>
                    <div style="font-size: 14px; color: var(--text-secondary); margin-bottom: 4px;">Walk the dog</div>
                    <div class="reaction-display">
                        <span></span>
                    </div>
                    <div style="font-size: 12px; color: #999; margin-top: 4px;">1 week ago</div>
                </div>
            </div>
            <div class="bottom-nav kid-nav">
                <div class="nav-item" onclick="navigateTo('kid-chores')">
                    <i class="fas fa-list-check"></i>
                    <span>Chores</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-rewards')">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </div>
                <div class="nav-item active" onclick="navigateTo('kid-points')">
                    <i class="fas fa-coins"></i>
                    <span>Points</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-board')">
                    <i class="fas fa-trophy"></i>
                    <span>Board</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-living-room')">
                    <i class="fas fa-couch"></i>
                    <span>Living Room</span>
                </div>
            </div>
        </div>

        <!-- SCREEN: KID BOARD (restructured from Leaderboard) -->
        <div id="kid-board" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <div class="role-switcher" onclick="toggleRole()">
                            <i class="fas fa-repeat"></i> <span class="role-text">Switch to Parent</span>
                        </div>
                    </div>
                    <div class="header-top-right">
                        <div class="gear-icon" onclick="navigateTo('kid-settings')"><i class="fas fa-gear"></i></div>
                        <div class="bell-icon" onclick="toggleNotifications()"><i class="fas fa-bell"></i><div class="notification-badge">3</div></div>
                    </div>
                </div>
                <div class="header-title-row">
                    <h1>My Board</h1>
                    <p>Your badges, rankings & more</p>
                </div>
            </div>
            <div class="content">
                <!-- My Swag Section -->
                <div class="section-header">
                    <div class="section-title">My Swag</div>
                </div>
                <div class="swag-section">
                    <div class="swag-profile">M</div>
                    <div class="swag-badges">
                        <div class="swag-badge" style="background: linear-gradient(135deg, #FFD700, #FFA500);"></div>
                        <div class="swag-badge" style="background: linear-gradient(135deg, #FF69B4, #D63384);"></div>
                        <div class="swag-badge" style="background: linear-gradient(135deg, #39D353, #28a745);"></div>
                        <div class="swag-badge" style="background: linear-gradient(135deg, #58A6FF, #2E86AB);"></div>
                        <div class="swag-badge" style="background: linear-gradient(135deg, #FF6B9D, #FEC163);"></div>
                    </div>
                </div>

                <!-- Spotlight -->
                <div class="section-header">
                    <div class="section-title">Spotlight</div>
                </div>
                <div class="spotlight-card">
                    <div style="font-size: 36px; margin-bottom: 8px;"></div>
                    <div style="font-size: 18px; font-weight: 700;">This Week's MVP: Maggie</div>
                    <div style="font-size: 14px; opacity: 0.9; margin-top: 4px;">85 pts earned!</div>
                </div>

                <!-- Family Rankings -->
                <div class="section-header">
                    <div class="section-title">Family Rankings</div>
                </div>
                <div class="leaderboard-item" onclick="navigateTo('kid-board')" style="border: 2px solid var(--accent);">
                    <div class="leaderboard-rank"></div>
                    <div class="leaderboard-avatar">M</div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Maggie (You!)</div>
                        <div style="font-size: 13px; color: var(--text-secondary);">7 day streak </div>
                    </div>
                    <div class="leaderboard-points">85 pts</div>
                </div>
                <div class="leaderboard-item" onclick="navigateTo('sibling-profile')" style="cursor: pointer;">
                    <div class="leaderboard-rank"></div>
                    <div class="leaderboard-avatar">L</div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Lily</div>
                        <div style="font-size: 13px; color: var(--text-secondary);">5 day streak </div>
                    </div>
                    <div class="leaderboard-points">65 pts</div>
                </div>
                <div class="leaderboard-item" onclick="navigateTo('sibling-profile')" style="cursor: pointer;">
                    <div class="leaderboard-rank"></div>
                    <div class="leaderboard-avatar">J</div>
                    <div class="leaderboard-info">
                        <div class="leaderboard-name">Jake</div>
                        <div style="font-size: 13px; color: var(--text-secondary);">3 day streak </div>
                    </div>
                    <div class="leaderboard-points">50 pts</div>
                </div>

                <!-- Send Shout-Out -->
                <div class="shoutout-banner" onclick="navigateTo('kid-shoutout-select')">
                    <div style="font-size: 32px;"></div>
                    <div style="flex: 1;">
                        <div style="font-weight: 700; font-size: 16px;">Give a Shout-Out</div>
                        <div style="font-size: 13px; opacity: 0.9;">Show your sibling some love</div>
                    </div>
                    <i class="fas fa-chevron-right" style="opacity: 0.7;"></i>
                </div>
            </div>
            <div class="bottom-nav kid-nav">
                <div class="nav-item" onclick="navigateTo('kid-chores')"><i class="fas fa-list-check"></i><span>Chores</span></div>
                <div class="nav-item" onclick="navigateTo('kid-rewards')"><i class="fas fa-gift"></i><span>Rewards</span></div>
                <div class="nav-item" onclick="navigateTo('kid-points')"><i class="fas fa-coins"></i><span>Points</span></div>
                <div class="nav-item active" onclick="navigateTo('kid-board')"><i class="fas fa-trophy"></i><span>Board</span></div>
                <div class="nav-item" onclick="navigateTo('kid-living-room')"><i class="fas fa-couch"></i><span>Living Room</span></div>
            </div>
        </div>

        <!-- SCREEN: SIBLING PROFILE -->
        <div id="sibling-profile" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-board')"></i>
                <h1>Jake's Profile</h1>
                <p>Your sibling</p>
            </div>
            <div class="content">
                <div class="sibling-profile-header">
                    <div class="sibling-profile-avatar">J</div>
                    <h2 style="font-size: 22px; color: var(--text);">Jake</h2>
                    <p style="font-size: 14px; color: var(--text-secondary);">Born 2016</p>
                </div>
                <div class="section-header"><div class="section-title">Badges</div></div>
                <div class="swag-section" style="justify-content: center;">
                    <div class="swag-badges">
                        <div class="swag-badge" style="background: linear-gradient(135deg, #FFD700, #FFA500);"></div>
                        <div class="swag-badge" style="background: linear-gradient(135deg, #39D353, #28a745);"></div>
                        <div class="swag-badge" style="background: linear-gradient(135deg, #58A6FF, #2E86AB);"></div>
                    </div>
                </div>
                <div class="stat-grid">
                    <div class="mini-stat"><div class="mini-stat-value">3</div><div class="mini-stat-label">Day Streak</div></div>
                    <div class="mini-stat"><div class="mini-stat-value">70</div><div class="mini-stat-label">Points This Month</div></div>
                    <div class="mini-stat"><div class="mini-stat-value">24</div><div class="mini-stat-label">Chores Completed</div></div>
                    <div class="mini-stat"><div class="mini-stat-value">5</div><div class="mini-stat-label">Shout-Outs</div></div>
                </div>
                <button class="btn" onclick="navigateTo('kid-shoutout-select')" style="background: linear-gradient(135deg, #FF69B4, #E74C3C); color: white; margin-top: 16px;">
                    <i class="fas fa-heart"></i> Give a Shout-Out
                </button>
            </div>
        </div>

        <!-- SCREEN: KID SHOUT-OUT - SELECT SIBLING -->
        <div id="kid-shoutout-select" class="screen">
            <div class="header" style="background: linear-gradient(135deg, #FF69B4, #E74C3C);">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-board')"></i>
                <h1>Give a Shout-Out</h1>
                <p>Who do you want to celebrate?</p>
            </div>
            <div class="content">
                <div style="text-align: center; margin-bottom: 24px;">
                    <div style="font-size: 48px; margin-bottom: 8px;"></div>
                    <p style="font-size: 15px; color: var(--text-secondary); line-height: 1.5;">
                        Did your sibling do something awesome?<br>Give them a badge and let the whole family know!
                    </p>
                </div>

                <div class="shoutout-sibling-card" onclick="startShoutout('Jake')">
                    <div class="kid-avatar" style="width: 56px; height: 56px; font-size: 22px;">J</div>
                    <div class="sibling-info">
                        <div class="sibling-name">Jake</div>
                        <div class="sibling-age">Born 2016</div>
                    </div>
                    <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                </div>

                <div class="shoutout-sibling-card" onclick="startShoutout('Lily')">
                    <div class="kid-avatar" style="width: 56px; height: 56px; font-size: 22px;">L</div>
                    <div class="sibling-info">
                        <div class="sibling-name">Lily</div>
                        <div class="sibling-age">Born 2018</div>
                    </div>
                    <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                </div>
            </div>
        </div>

        <!-- SCREEN: KID SHOUT-OUT - CREATE -->
        <div id="kid-shoutout-create" class="screen">
            <div class="header" style="background: linear-gradient(135deg, #FF69B4, #E74C3C);">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-shoutout-select')"></i>
                <h1>Shout-Out for <span id="shoutout-target-name">Jake</span></h1>
                <p>Pick a badge and tell them why</p>
            </div>
            <div class="content">
                <div class="input-group">
                    <label>Choose a Badge</label>
                </div>
                <div class="badges-grid" style="margin-bottom: 20px;">
                    <div class="shoutout-badge-option" data-badge="amazing-sibling" onclick="selectShoutoutBadge(this, 'Amazing Sibling', '')">
                        <div class="badge-display">
                            <div class="badge-svg-icon"></div>
                            <div class="badge-label">Amazing Sibling</div>
                        </div>
                    </div>
                    <div class="shoutout-badge-option" data-badge="kind-heart" onclick="selectShoutoutBadge(this, 'Kind Heart', '')">
                        <div class="badge-display">
                            <div class="badge-svg-icon"></div>
                            <div class="badge-label">Kind Heart</div>
                        </div>
                    </div>
                    <div class="shoutout-badge-option" data-badge="best-helper" onclick="selectShoutoutBadge(this, 'Best Helper', '')">
                        <div class="badge-display">
                            <div class="badge-svg-icon"></div>
                            <div class="badge-label">Best Helper</div>
                        </div>
                    </div>
                    <div class="shoutout-badge-option" data-badge="so-funny" onclick="selectShoutoutBadge(this, 'So Funny', '')">
                        <div class="badge-display">
                            <div class="badge-svg-icon"></div>
                            <div class="badge-label">So Funny</div>
                        </div>
                    </div>
                    <div class="shoutout-badge-option" data-badge="super-brave" onclick="selectShoutoutBadge(this, 'Super Brave', '')">
                        <div class="badge-display">
                            <div class="badge-svg-icon"></div>
                            <div class="badge-label">Super Brave</div>
                        </div>
                    </div>
                    <div class="shoutout-badge-option" data-badge="team-player" onclick="selectShoutoutBadge(this, 'Team Player', '')">
                        <div class="badge-display">
                            <div class="badge-svg-icon"></div>
                            <div class="badge-label">Team Player</div>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label>What did they do?</label>
                    <textarea id="shoutout-note" rows="3" placeholder="e.g., Jake helped me carry the groceries without me even asking! The best sibling ever."></textarea>
                </div>

                <div class="shoutout-points-section">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                        <div>
                            <div style="font-weight: 600; color: var(--text);">Gift Points</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">Share some of your points</div>
                        </div>
                        <div id="shoutout-toggle" class="toggle-switch" onclick="toggleShoutoutPoints()"></div>
                    </div>
                    <div id="shoutout-points-slider-section" class="incentive-slider-section">
                        <div class="points-offer-display">
                            <div class="points-offer-value" style="color: #FF69B4;" id="shoutout-points-value">5</div>
                            <div class="points-offer-label">points to gift</div>
                        </div>
                        <input type="range" class="shoutout-points-slider" min="1" max="25" value="5" oninput="updateShoutoutPoints(this.value)">
                        <div style="display: flex; justify-content: space-between; font-size: 12px; color: var(--text-secondary);">
                            <span>1 pt</span>
                            <span>You have 135 pts &middot; <span id="shoutout-remaining">130</span> remaining</span>
                            <span>25 pts</span>
                        </div>
                    </div>
                </div>

                <button class="btn" onclick="navigateTo('kid-shoutout-confirm')" style="background: linear-gradient(135deg, #FF69B4, #E74C3C); color: white; margin-top: 12px;">
                    <i class="fas fa-heart"></i> Preview Shout-Out
                </button>
            </div>
        </div>

        <!-- SCREEN: KID SHOUT-OUT - CONFIRM -->
        <div id="kid-shoutout-confirm" class="screen">
            <div class="header" style="background: linear-gradient(135deg, #FF69B4, #E74C3C);">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-shoutout-create')"></i>
                <h1>Preview</h1>
                <p>Here's what they'll see</p>
            </div>
            <div class="content">
                <div class="shoutout-preview">
                    <div style="font-size: 48px; margin-bottom: 12px;"></div>
                    <div style="font-size: 13px; color: #999; text-transform: uppercase; letter-spacing: 1px;">Shout-Out from Maggie</div>
                    <div style="font-size: 22px; font-weight: 700; color: var(--text); margin: 8px 0;" id="confirm-shoutout-target">To Jake</div>
                    <div class="shoutout-badge-display" style="margin: 12px auto;" id="confirm-shoutout-badge">
                        <span></span>
                        <span style="font-weight: 600;">Amazing Sibling</span>
                    </div>
                    <div class="shoutout-note" id="confirm-shoutout-note">"Jake helped me carry the groceries without me even asking!"</div>
                    <div id="confirm-shoutout-points" style="font-size: 16px; font-weight: 700; color: #FF69B4; margin-top: 8px;">
                        + 5 pts gifted
                    </div>
                </div>

                <div style="text-align: center; margin-bottom: 20px;">
                    <p style="font-size: 14px; color: var(--text-secondary);">
                        <i class="fas fa-eye"></i> Your parents will also see this and can reward you both with extra points!
                    </p>
                </div>

                <button class="btn" onclick="sendShoutout()" style="background: linear-gradient(135deg, #FF69B4, #E74C3C); color: white;">
                    <i class="fas fa-paper-plane"></i> Send Shout-Out
                </button>
            </div>
        </div>

        <!-- SCREEN: KID SHOUT-OUT - SENT -->
        <div id="kid-shoutout-sent" class="screen">
            <div class="success-screen" style="background: linear-gradient(135deg, #FFF0F5, #FFE4E1);">
                <div class="success-checkmark" style="background: linear-gradient(135deg, #FF69B4, #E74C3C);"></div>
                <div class="success-title">Shout-Out Sent!</div>
                <div class="success-subtitle"><span class="parent-role">Parent</span> will review and deliver your shout-out!</div>
                <div id="sent-shoutout-points" class="success-detail" style="color: #FF69B4;">
                    5 pts gifted from your balance
                </div>
                <div class="success-subtitle" style="font-size: 13px; margin-bottom: 24px;">
                    <span class="parent-role">Parent</span> can boost it with extra points and add a comment before <span id="sent-shoutout-target">Jake</span> sees it
                </div>
                <button class="btn btn-primary" onclick="navigateTo('kid-living-room')" style="margin-bottom: 12px;">
                    <i class="fas fa-couch"></i> Back to Living Room
                </button>
            </div>
        </div>

        <!-- SCREEN: KID SHOUT-OUT - RECEIVED (Jake's perspective) -->
        <div id="kid-shoutout-received" class="screen">
            <div class="header" style="background: linear-gradient(135deg, #FF69B4, #E74C3C);">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-living-room')"></i>
                <h1>Shout-Out!</h1>
                <p>Someone thinks you're awesome</p>
            </div>
            <div class="content">
                <div class="shoutout-received-card">
                    <div class="shoutout-from">
                        <div class="shoutout-from-avatar">M</div>
                        <div>
                            <div style="font-size: 18px; font-weight: 700; color: var(--text);">From Maggie</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">Your sibling</div>
                        </div>
                    </div>

                    <div style="text-align: center; margin: 16px 0;">
                        <div class="shoutout-badge-display" style="font-size: 15px; padding: 10px 20px;">
                            <span style="font-size: 24px;"></span>
                            <span style="font-weight: 700;">Amazing Sibling</span>
                        </div>
                    </div>

                    <div class="shoutout-note">
                        "Jake helped me carry the groceries without me even asking! The best sibling ever."
                    </div>

                    <div style="text-align: center; margin-top: 16px;">
                        <div style="font-size: 28px; font-weight: 700; color: #FF69B4;">+5 pts</div>
                        <div style="font-size: 13px; color: var(--text-secondary);">gifted from Maggie</div>
                    </div>
                </div>

                <div class="card" style="text-align: center; background: #FFF8DC;">
                    <div style="font-size: 32px; margin-bottom: 8px;"></div>
                    <div style="font-size: 15px; font-weight: 600; color: var(--text); margin-bottom: 4px;"><span class="parent-role">Parent</span> boosted this!</div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">"This is what family is all about. So proud of you both."</div>
                    <div style="font-size: 20px; font-weight: 700; color: var(--accent);">+10 bonus pts each</div>
                </div>

                <button class="btn btn-thank-you" onclick="thankYouShoutout()" style="margin-top: 16px;">
                    <i class="fas fa-heart"></i> Thank You!
                </button>

                <button class="btn" onclick="navigateTo('kid-shoutout-select')" style="background: linear-gradient(135deg, #FF69B4, #E74C3C); color: white; margin-top: 12px;">
                    <i class="fas fa-heart"></i> Give a Shout-Out Back
                </button>
            </div>
        </div>

        <!-- SCREEN: PARENT SHOUT-OUT REVIEW -->
        <div id="parent-shoutout-review" class="screen">
            <div class="header" style="background: linear-gradient(135deg, #FF69B4, #E74C3C);">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-dashboard')"></i>
                <h1>Sibling Shout-Out</h1>
                <p>Your kids are being kind</p>
            </div>
            <div class="content">
                <div class="shoutout-received-card">
                    <div class="shoutout-from">
                        <div class="shoutout-from-avatar">M</div>
                        <div>
                            <div style="font-size: 18px; font-weight: 700; color: var(--text);">Maggie  Jake</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">1 hour ago</div>
                        </div>
                    </div>

                    <div style="text-align: center; margin: 12px 0;">
                        <div class="shoutout-badge-display" style="font-size: 15px; padding: 10px 20px;">
                            <span style="font-size: 24px;"></span>
                            <span style="font-weight: 700;">Amazing Sibling</span>
                        </div>
                    </div>

                    <div class="shoutout-note">
                        "Jake helped me carry the groceries without me even asking! The best sibling ever."
                    </div>

                    <div style="text-align: center; margin-top: 12px; font-size: 14px; color: #FF69B4; font-weight: 600;">
                        Maggie gifted Jake 5 pts
                    </div>
                </div>

                <div class="boost-section">
                    <div style="text-align: center; margin-bottom: 16px;">
                        <div style="font-size: 32px; margin-bottom: 8px;"></div>
                        <div style="font-size: 18px; font-weight: 700; color: var(--text);">Boost This Shout-Out</div>
                        <div style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                            Reward both kids for being kind to each other
                        </div>
                    </div>

                    <div class="input-group">
                        <label>Bonus points for EACH kid</label>
                        <div style="display: flex; gap: 8px; margin-top: 8px;">
                            <div class="kid-chip" onclick="selectBoostAmount(this, 5)" style="flex: 1; text-align: center;">5 pts</div>
                            <div class="kid-chip selected" onclick="selectBoostAmount(this, 10)" style="flex: 1; text-align: center;">10 pts</div>
                            <div class="kid-chip" onclick="selectBoostAmount(this, 15)" style="flex: 1; text-align: center;">15 pts</div>
                            <div class="kid-chip" onclick="selectBoostAmount(this, 25)" style="flex: 1; text-align: center;">25 pts</div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label>Add a note (optional)</label>
                        <textarea rows="2" placeholder="e.g., This is what family is all about. So proud of you both!"></textarea>
                    </div>

                    <div style="text-align: center; padding: 12px; background: var(--bg-light); border-radius: 12px; margin-bottom: 16px;">
                        <div style="font-size: 14px; color: var(--text-secondary);">Both Maggie and Jake will receive</div>
                        <div style="font-size: 28px; font-weight: 700; color: var(--accent);" id="boost-amount-display">+10 pts each</div>
                    </div>

                    <div style="text-align: center; padding: 12px; background: #FFF0F5; border-radius: 12px; margin-bottom: 16px;">
                        <div style="font-size: 13px; color: var(--text-secondary);">
                            <i class="fas fa-info-circle"></i> Jake will see your boost and comment along with Maggie's shout-out
                        </div>
                    </div>

                    <button class="btn" onclick="boostShoutout()" style="background: linear-gradient(135deg, #FF69B4, #E74C3C); color: white;">
                        <i class="fas fa-rocket"></i> Boost & Deliver to Jake
                    </button>
                </div>

                <div style="text-align: center; margin-top: 16px;">
                    <button class="btn btn-outline" onclick="navigateTo('parent-dashboard')" style="width: auto; padding: 10px 24px; display: inline-block;">
                        Skip  just view
                    </button>
                </div>
            </div>
        </div>

        <!-- THE LIVING ROOM -->
        <div id="kid-living-room" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <div class="role-switcher" onclick="toggleRole()">
                            <i class="fas fa-repeat"></i> <span class="role-text">Switch to Parent</span>
                        </div>
                    </div>
                    <div class="header-top-right">
                        <div class="gear-icon" onclick="navigateTo('kid-settings')">
                            <i class="fas fa-gear"></i>
                        </div>
                        <div class="bell-icon" onclick="toggleNotifications()">
                            <i class="fas fa-bell"></i>
                            <div class="notification-badge">3</div>
                        </div>
                    </div>
                </div>
                <div class="header-title-row">
                    <h1>The Living Room</h1>
                    <p>Your family's space</p>
                </div>
            </div>
            <div class="content" style="padding: 16px;">

                <!-- Year-End Recap Banner -->
                <div class="wrapped-banner" onclick="openYearRecap()" style="margin-bottom: 16px;">
                    <div style="font-size: 32px;"></div>
                    <div style="flex: 1;">
                        <div style="font-weight: 700; font-size: 16px;">Your 2026 Wrapped is here!</div>
                        <div style="font-size: 13px; opacity: 0.9;">See your year in review</div>
                    </div>
                    <i class="fas fa-chevron-right" style="opacity: 0.8;"></i>
                </div>

                <!-- Pinned Announcement -->
                <div class="living-room-post announcement-post">
                    <div class="post-header">
                        <div class="post-avatar" style="background: linear-gradient(135deg, var(--accent), #E65100);">D</div>
                        <div class="post-author">
                            <div class="post-author-name"><span class="parent-role">Parent</span></div>
                            <div class="post-time">Pinned</div>
                        </div>
                        <div class="pinned-indicator">
                            <i class="fas fa-thumbtack"></i> Pinned
                        </div>
                    </div>
                    <div class="post-body">
                        <div class="post-caption">
                            <strong>Family Game Night this Saturday!</strong> Everyone picks one game. Pizza is on me. Be there or be square.
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn liked" onclick="togglePostLike(this)">
                                <i class="fas fa-heart"></i> <span>4</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>2</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-comments">
                        <div class="post-comment">
                            <div class="comment-avatar">M</div>
                            <div class="comment-text"><strong>Maggie:</strong> Dibs on Monopoly!</div>
                        </div>
                        <div class="post-comment">
                            <div class="comment-avatar">J</div>
                            <div class="comment-text"><strong>Jake:</strong> No way, Uno!</div>
                        </div>
                    </div>
                </div>

                <!-- Shout-out Post (auto-generated) -->
                <div class="living-room-post" style="border-left: 4px solid #FF69B4;">
                    <div class="post-header">
                        <div class="post-avatar" style="background: linear-gradient(135deg, #FF69B4, #E74C3C);">M</div>
                        <div class="post-author">
                            <div class="post-author-name">Maggie</div>
                            <div class="post-time">1 hour ago</div>
                        </div>
                        <div class="post-type-badge shoutout-post-badge">Shout-Out</div>
                    </div>
                    <div class="post-body">
                        <div class="post-caption">
                            Gave Jake the <strong>Amazing Sibling</strong> badge! "Jake helped me carry the groceries without me even asking!"
                        </div>
                        <div style="text-align: center; padding: 8px 0;">
                            <span class="shoutout-badge-display" style="font-size: 14px; padding: 8px 16px;"> Amazing Sibling</span>
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn" onclick="togglePostLike(this)">
                                <i class="far fa-heart"></i> <span>3</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>1</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-comments">
                        <div class="post-comment">
                            <div class="comment-avatar" style="background: linear-gradient(135deg, var(--accent), #E65100);">D</div>
                            <div class="comment-text"><strong><span class="parent-role">Parent</span>:</strong> This is what family is about! +10 pts each</div>
                        </div>
                    </div>
                </div>

                <!-- Chore Proof Post (auto-generated) -->
                <div class="living-room-post">
                    <div class="post-header">
                        <div class="post-avatar">M</div>
                        <div class="post-author">
                            <div class="post-author-name">Maggie</div>
                            <div class="post-time">2 hours ago</div>
                        </div>
                        <div class="post-type-badge chore-proof-badge">Chore Done</div>
                    </div>
                    <div class="post-image-placeholder" style="background: linear-gradient(135deg, #d4edda, #A8D5E2);">
                        <div style="text-align: center;">
                            <div style="font-size: 48px; margin-bottom: 8px;"></div>
                            <div style="font-size: 14px; color: var(--primary); font-weight: 600;">Clean the garage</div>
                        </div>
                    </div>
                    <div class="post-body">
                        <div class="post-caption">
                            All done! Organized the tools and swept everything. +50 pts
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn liked" onclick="togglePostLike(this)">
                                <i class="fas fa-heart"></i> <span>2</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>1</span>
                            </div>
                            <div class="post-reaction-btn">
                                <span> </span>
                            </div>
                        </div>
                    </div>
                    <div class="post-comments">
                        <div class="post-comment">
                            <div class="comment-avatar" style="background: linear-gradient(135deg, var(--accent), #E65100);">D</div>
                            <div class="comment-text"><strong><span class="parent-role">Parent</span>:</strong> Garage looks amazing!</div>
                        </div>
                    </div>
                </div>

                <!-- Photo Post (manual - user shared) -->
                <div class="living-room-post">
                    <div class="post-header">
                        <div class="post-avatar">J</div>
                        <div class="post-author">
                            <div class="post-author-name">Jake</div>
                            <div class="post-time">5 hours ago</div>
                        </div>
                    </div>
                    <div class="post-image-placeholder" style="background: linear-gradient(135deg, #E8F4F8, #74B9FF);">
                        <div style="text-align: center;">
                            <div style="font-size: 48px; margin-bottom: 8px;"></div>
                            <div style="font-size: 14px; color: var(--primary); font-weight: 600;">Fido at the park!</div>
                        </div>
                    </div>
                    <div class="post-body">
                        <div class="post-caption">
                            Fido learned a new trick today! He can shake hands now 
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn liked" onclick="togglePostLike(this)">
                                <i class="fas fa-heart"></i> <span>5</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>3</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-comments">
                        <div class="post-comment">
                            <div class="comment-avatar">M</div>
                            <div class="comment-text"><strong>Maggie:</strong> Aww so cute!!</div>
                        </div>
                        <div class="post-comment">
                            <div class="comment-avatar">L</div>
                            <div class="comment-text"><strong>Lily:</strong> I want to teach him to roll over next!</div>
                        </div>
                        <div class="post-comment">
                            <div class="comment-avatar" style="background: linear-gradient(135deg, var(--accent), #E65100);">D</div>
                            <div class="comment-text"><strong><span class="parent-role">Parent</span>:</strong> Good boy Fido!</div>
                        </div>
                    </div>
                </div>

                <!-- Streak Post (auto-generated) -->
                <div class="living-room-post" style="border-left: 4px solid #FF6B35;">
                    <div class="post-header">
                        <div class="post-avatar">M</div>
                        <div class="post-author">
                            <div class="post-author-name">Maggie</div>
                            <div class="post-time">Yesterday</div>
                        </div>
                        <div class="post-type-badge streak-post-badge">Milestone</div>
                    </div>
                    <div class="post-body">
                        <div style="text-align: center; padding: 16px 0;">
                            <div style="font-size: 48px;"></div>
                            <div style="font-size: 24px; font-weight: 700; color: var(--text); margin-top: 8px;">7-Day Streak!</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-top: 4px;">Maggie has been on fire for a whole week!</div>
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn liked" onclick="togglePostLike(this)">
                                <i class="fas fa-heart"></i> <span>4</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>2</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reward Redeemed Post -->
                <div class="living-room-post">
                    <div class="post-header">
                        <div class="post-avatar">M</div>
                        <div class="post-author">
                            <div class="post-author-name">Maggie</div>
                            <div class="post-time">2 days ago</div>
                        </div>
                        <div class="post-type-badge" style="background: var(--accent); color: white;">Reward</div>
                    </div>
                    <div class="post-body">
                        <div style="text-align: center; padding: 12px 0;">
                            <div style="font-size: 48px;"></div>
                            <div style="font-size: 18px; font-weight: 700; color: var(--text); margin-top: 8px;">Movie Night Redeemed!</div>
                            <div style="font-size: 14px; color: var(--accent); margin-top: 4px;">-50 pts</div>
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn" onclick="togglePostLike(this)">
                                <i class="far fa-heart"></i> <span>3</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>1</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lily Photo Post -->
                <div class="living-room-post">
                    <div class="post-header">
                        <div class="post-avatar">L</div>
                        <div class="post-author">
                            <div class="post-author-name">Lily</div>
                            <div class="post-time">3 days ago</div>
                        </div>
                    </div>
                    <div class="post-image-placeholder" style="background: linear-gradient(135deg, #FFE4E1, #FFB6C1);">
                        <div style="text-align: center;">
                            <div style="font-size: 48px; margin-bottom: 8px;"></div>
                            <div style="font-size: 14px; color: #8B1A4A; font-weight: 600;">My art project!</div>
                        </div>
                    </div>
                    <div class="post-body">
                        <div class="post-caption">
                            Look what I made in art class today! It's a painting of our family
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn liked" onclick="togglePostLike(this)">
                                <i class="fas fa-heart"></i> <span>6</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>4</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-comments">
                        <div class="post-comment">
                            <div class="comment-avatar">M</div>
                            <div class="comment-text"><strong>Maggie:</strong> Lily this is beautiful!</div>
                        </div>
                        <div class="post-comment">
                            <div class="comment-avatar" style="background: linear-gradient(135deg, var(--accent), #E65100);">D</div>
                            <div class="comment-text"><strong><span class="parent-role">Parent</span>:</strong> We're putting this on the fridge!</div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Camera FAB -->
            <div class="camera-fab" onclick="navigateTo('kid-living-room')">
                <i class="fas fa-camera"></i>
            </div>
            <div class="bottom-nav kid-nav">
                <div class="nav-item" onclick="navigateTo('kid-chores')">
                    <i class="fas fa-list-check"></i>
                    <span>Chores</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-rewards')">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-points')">
                    <i class="fas fa-coins"></i>
                    <span>Points</span>
                </div>
                <div class="nav-item" onclick="navigateTo('kid-board')">
                    <i class="fas fa-trophy"></i>
                    <span>Board</span>
                </div>
                <div class="nav-item active" onclick="navigateTo('kid-living-room')">
                    <i class="fas fa-couch"></i>
                    <span>Living Room</span>
                </div>
            </div>
        </div>

        <!-- PARENT LIVING ROOM -->
        <div id="parent-living-room" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <div class="role-switcher" onclick="toggleRole()">
                            <i class="fas fa-repeat"></i> <span class="role-text">Switch to Kid</span>
                        </div>
                    </div>
                    <div class="header-top-right">
                        <div class="bell-icon" onclick="toggleNotifications()">
                            <i class="fas fa-bell"></i>
                            <div class="notification-badge">5</div>
                        </div>
                    </div>
                </div>
                <div class="header-title-row">
                    <h1>The Living Room</h1>
                    <p>Your family's space</p>
                </div>
            </div>
            <div class="content" style="padding: 16px;">

                <!-- Pinned Announcement -->
                <div class="living-room-post announcement-post">
                    <div class="post-header">
                        <div class="post-avatar" style="background: linear-gradient(135deg, var(--accent), #E65100);">D</div>
                        <div class="post-author">
                            <div class="post-author-name"><span class="parent-role">Parent</span></div>
                            <div class="post-time">Pinned</div>
                        </div>
                        <div class="pinned-indicator">
                            <i class="fas fa-thumbtack"></i> Pinned
                        </div>
                    </div>
                    <div class="post-body">
                        <div class="post-caption">
                            <strong>Family Game Night this Saturday!</strong> Everyone picks one game. Pizza is on me. Be there or be square.
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn liked" onclick="togglePostLike(this)">
                                <i class="fas fa-heart"></i> <span>4</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>2</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-comments">
                        <div class="post-comment">
                            <div class="comment-avatar">M</div>
                            <div class="comment-text"><strong>Maggie:</strong> Dibs on Monopoly!</div>
                        </div>
                        <div class="post-comment">
                            <div class="comment-avatar">J</div>
                            <div class="comment-text"><strong>Jake:</strong> No way, Uno!</div>
                        </div>
                    </div>
                </div>

                <!-- Shout-out Post (auto-generated) -->
                <div class="living-room-post" style="border-left: 4px solid #FF69B4;">
                    <div class="post-header">
                        <div class="post-avatar" style="background: linear-gradient(135deg, #FF69B4, #E74C3C);">M</div>
                        <div class="post-author">
                            <div class="post-author-name">Maggie</div>
                            <div class="post-time">1 hour ago</div>
                        </div>
                        <div class="post-type-badge shoutout-post-badge">Shout-Out</div>
                    </div>
                    <div class="post-body">
                        <div class="post-caption">
                            Gave Jake the <strong>Amazing Sibling</strong> badge! "Jake helped me carry the groceries without me even asking!"
                        </div>
                        <div style="text-align: center; padding: 8px 0;">
                            <span class="shoutout-badge-display" style="font-size: 14px; padding: 8px 16px;"> Amazing Sibling</span>
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn" onclick="togglePostLike(this)">
                                <i class="far fa-heart"></i> <span>3</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>1</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-comments">
                        <div class="post-comment">
                            <div class="comment-avatar" style="background: linear-gradient(135deg, var(--accent), #E65100);">D</div>
                            <div class="comment-text"><strong><span class="parent-role">Parent</span>:</strong> This is what family is about! +10 pts each</div>
                        </div>
                    </div>
                </div>

                <!-- Chore Proof Post (auto-generated) -->
                <div class="living-room-post">
                    <div class="post-header">
                        <div class="post-avatar">M</div>
                        <div class="post-author">
                            <div class="post-author-name">Maggie</div>
                            <div class="post-time">2 hours ago</div>
                        </div>
                        <div class="post-type-badge chore-proof-badge">Chore Done</div>
                    </div>
                    <div class="post-image-placeholder" style="background: linear-gradient(135deg, #d4edda, #A8D5E2);">
                        <div style="text-align: center;">
                            <div style="font-size: 48px; margin-bottom: 8px;"></div>
                            <div style="font-size: 14px; color: var(--primary); font-weight: 600;">Clean the garage</div>
                        </div>
                    </div>
                    <div class="post-body">
                        <div class="post-caption">
                            All done! Organized the tools and swept everything. +50 pts
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn liked" onclick="togglePostLike(this)">
                                <i class="fas fa-heart"></i> <span>2</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>1</span>
                            </div>
                            <div class="post-reaction-btn">
                                <span> </span>
                            </div>
                        </div>
                    </div>
                    <div class="post-comments">
                        <div class="post-comment">
                            <div class="comment-avatar" style="background: linear-gradient(135deg, var(--accent), #E65100);">D</div>
                            <div class="comment-text"><strong><span class="parent-role">Parent</span>:</strong> Garage looks amazing!</div>
                        </div>
                    </div>
                </div>

                <!-- Photo Post (manual - user shared) -->
                <div class="living-room-post">
                    <div class="post-header">
                        <div class="post-avatar">J</div>
                        <div class="post-author">
                            <div class="post-author-name">Jake</div>
                            <div class="post-time">5 hours ago</div>
                        </div>
                    </div>
                    <div class="post-image-placeholder" style="background: linear-gradient(135deg, #E8F4F8, #74B9FF);">
                        <div style="text-align: center;">
                            <div style="font-size: 48px; margin-bottom: 8px;"></div>
                            <div style="font-size: 14px; color: var(--primary); font-weight: 600;">Fido at the park!</div>
                        </div>
                    </div>
                    <div class="post-body">
                        <div class="post-caption">
                            Fido learned a new trick today! He can shake hands now 
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn liked" onclick="togglePostLike(this)">
                                <i class="fas fa-heart"></i> <span>5</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>3</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-comments">
                        <div class="post-comment">
                            <div class="comment-avatar">M</div>
                            <div class="comment-text"><strong>Maggie:</strong> Aww so cute!!</div>
                        </div>
                        <div class="post-comment">
                            <div class="comment-avatar">L</div>
                            <div class="comment-text"><strong>Lily:</strong> I want to teach him to roll over next!</div>
                        </div>
                        <div class="post-comment">
                            <div class="comment-avatar" style="background: linear-gradient(135deg, var(--accent), #E65100);">D</div>
                            <div class="comment-text"><strong><span class="parent-role">Parent</span>:</strong> Good boy Fido!</div>
                        </div>
                    </div>
                </div>

                <!-- Streak Post (auto-generated) -->
                <div class="living-room-post" style="border-left: 4px solid #FF6B35;">
                    <div class="post-header">
                        <div class="post-avatar">M</div>
                        <div class="post-author">
                            <div class="post-author-name">Maggie</div>
                            <div class="post-time">Yesterday</div>
                        </div>
                        <div class="post-type-badge streak-post-badge">Milestone</div>
                    </div>
                    <div class="post-body">
                        <div style="text-align: center; padding: 16px 0;">
                            <div style="font-size: 48px;"></div>
                            <div style="font-size: 24px; font-weight: 700; color: var(--text); margin-top: 8px;">7-Day Streak!</div>
                            <div style="font-size: 14px; color: var(--text-secondary); margin-top: 4px;">Maggie has been on fire for a whole week!</div>
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn liked" onclick="togglePostLike(this)">
                                <i class="fas fa-heart"></i> <span>4</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>2</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reward Redeemed Post -->
                <div class="living-room-post">
                    <div class="post-header">
                        <div class="post-avatar">M</div>
                        <div class="post-author">
                            <div class="post-author-name">Maggie</div>
                            <div class="post-time">2 days ago</div>
                        </div>
                        <div class="post-type-badge" style="background: var(--accent); color: white;">Reward</div>
                    </div>
                    <div class="post-body">
                        <div style="text-align: center; padding: 12px 0;">
                            <div style="font-size: 48px;"></div>
                            <div style="font-size: 18px; font-weight: 700; color: var(--text); margin-top: 8px;">Movie Night Redeemed!</div>
                            <div style="font-size: 14px; color: var(--accent); margin-top: 4px;">-50 pts</div>
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn" onclick="togglePostLike(this)">
                                <i class="far fa-heart"></i> <span>3</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>1</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lily Photo Post -->
                <div class="living-room-post">
                    <div class="post-header">
                        <div class="post-avatar">L</div>
                        <div class="post-author">
                            <div class="post-author-name">Lily</div>
                            <div class="post-time">3 days ago</div>
                        </div>
                    </div>
                    <div class="post-image-placeholder" style="background: linear-gradient(135deg, #FFE4E1, #FFB6C1);">
                        <div style="text-align: center;">
                            <div style="font-size: 48px; margin-bottom: 8px;"></div>
                            <div style="font-size: 14px; color: #8B1A4A; font-weight: 600;">My art project!</div>
                        </div>
                    </div>
                    <div class="post-body">
                        <div class="post-caption">
                            Look what I made in art class today! It's a painting of our family
                        </div>
                        <div class="post-reactions">
                            <div class="post-reaction-btn liked" onclick="togglePostLike(this)">
                                <i class="fas fa-heart"></i> <span>6</span>
                            </div>
                            <div class="post-reaction-btn">
                                <i class="far fa-comment"></i> <span>4</span>
                            </div>
                        </div>
                    </div>
                    <div class="post-comments">
                        <div class="post-comment">
                            <div class="comment-avatar">M</div>
                            <div class="comment-text"><strong>Maggie:</strong> Lily this is beautiful!</div>
                        </div>
                        <div class="post-comment">
                            <div class="comment-avatar" style="background: linear-gradient(135deg, var(--accent), #E65100);">D</div>
                            <div class="comment-text"><strong><span class="parent-role">Parent</span>:</strong> We're putting this on the fridge!</div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Camera FAB -->
            <div class="camera-fab" onclick="navigateTo('parent-living-room')">
                <i class="fas fa-camera"></i>
            </div>

            <div class="bottom-nav parent-nav">
                <div class="nav-item" onclick="navigateTo('parent-dashboard')">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-verify')">
                    <i class="fas fa-check-circle"></i>
                    <span>Verify</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-rewards')">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </div>
                <div class="nav-item active" onclick="navigateTo('parent-living-room')">
                    <i class="fas fa-couch"></i>
                    <span>Living Room</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-family')">
                    <i class="fas fa-users"></i>
                    <span>Family</span>
                </div>
            </div>
        </div>

        <!-- SCREEN 9B: KID SETTINGS -->
        <div id="kid-settings" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-chores')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>My Settings</h1>
                    <p>Make Challey yours!</p>
                </div>
            </div>
            <div class="content">
                <div class="card">
                    <div class="card-title" style="margin-bottom: 16px;">My Profile</div>
                    <div class="profile-pic-large" style="background: linear-gradient(135deg, var(--secondary) 0%, var(--primary) 100%);">
                        M
                        <div class="avatar-camera"><i class="fas fa-camera"></i></div>
                    </div>
                    <div style="text-align: center; font-size: 20px; font-weight: 700; color: var(--text); margin-bottom: 4px;">Maggie</div>
                    <div style="text-align: center; font-size: 14px; color: var(--text-secondary); margin-bottom: 16px;">Born 2013  The Johnson Family</div>
                    <button class="btn btn-secondary" style="font-size: 14px; padding: 12px;">
                        <i class="fas fa-camera"></i> Change Profile Picture
                    </button>
                </div>

                <div class="card">
                    <div class="card-title" style="margin-bottom: 16px;">Appearance</div>

                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <div>
                            <div style="font-size: 14px; font-weight: 600; color: var(--text);">Dark Mode</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">Easier on the eyes</div>
                        </div>
                        <div class="toggle-switch" id="kid-dark-mode-toggle" onclick="toggleDarkMode()">
                            <div class="toggle-thumb"></div>
                        </div>
                    </div>

                    <div style="font-size: 14px; font-weight: 600; color: var(--text); margin-bottom: 12px;">Color Theme</div>
                    <div class="theme-grid">
                        <div class="theme-item theme-ocean active" onclick="setTheme('ocean')">
                            <div class="theme-preview"></div>
                            <div class="theme-name">Ocean</div>
                        </div>
                        <div class="theme-item theme-sunset" onclick="setTheme('sunset')">
                            <div class="theme-preview"></div>
                            <div class="theme-name">Sunset</div>
                        </div>
                        <div class="theme-item theme-forest" onclick="setTheme('forest')">
                            <div class="theme-preview"></div>
                            <div class="theme-name">Forest</div>
                        </div>
                        <div class="theme-item theme-midnight" onclick="setTheme('midnight')">
                            <div class="theme-preview"></div>
                            <div class="theme-name">Midnight</div>
                        </div>
                        <div class="theme-item theme-bubblegum" onclick="setTheme('bubblegum')">
                            <div class="theme-preview"></div>
                            <div class="theme-name">Bubblegum</div>
                        </div>
                        <div class="theme-item theme-arctic" onclick="setTheme('arctic')">
                            <div class="theme-preview"></div>
                            <div class="theme-name">Arctic</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-title" style="margin-bottom: 12px;">Notifications</div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <span style="font-size: 14px; color: var(--text);">New chore alerts</span>
                        <div class="toggle-switch active">
                            <div class="toggle-thumb"></div>
                        </div>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <span style="font-size: 14px; color: var(--text);">Approval updates</span>
                        <div class="toggle-switch active">
                            <div class="toggle-thumb"></div>
                        </div>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 14px; color: var(--text);">Streak reminders</span>
                        <div class="toggle-switch active">
                            <div class="toggle-thumb"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-title" style="margin-bottom: 12px;">Companion</div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <span style="font-size: 24px;" data-companion-emoji></span>
                            <span style="font-size: 14px; color: var(--text);">Show Chal</span>
                        </div>
                        <div class="toggle-switch active" id="companion-toggle" onclick="toggleCompanionSetting()">
                            <div class="toggle-thumb"></div>
                        </div>
                    </div>
                    <div style="font-size: 12px; color: var(--text-secondary);">
                        Your personal cheerleader! Chal gives tips, encouragement, and fun facts.
                    </div>
                </div>

                <div class="card">
                    <div style="font-size: 14px; color: #dc3545; cursor: pointer;">
                        <i class="fas fa-sign-out-alt"></i> Log Out
                    </div>
                </div>

                <div class="card">
                    <div class="card-title" style="margin-bottom: 8px;">About</div>
                    <div style="font-size: 13px; color: #999;">
                        Challey v3.0.0<br>
                        Made with care for families
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN 10: PARENT DASHBOARD -->
        <div id="parent-dashboard" class="screen">
            <div class="dashboard-header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <div class="role-switcher" onclick="toggleRole()">
                            <i class="fas fa-repeat"></i> <span class="role-text">Switch to Kid</span>
                        </div>
                    </div>
                    <div class="header-top-right">
                        <div class="gear-icon" onclick="navigateTo('parent-settings')"><i class="fas fa-gear"></i></div>
                        <div class="bell-icon" onclick="toggleNotifications()">
                            <i class="fas fa-bell"></i>
                            <div class="notification-badge">5</div>
                        </div>
                    </div>
                </div>
                <h1>Family Dashboard</h1>
                <p>The Johnson Family</p>
                <div class="quick-stats">
                    <div class="quick-stat">
                        <div class="quick-stat-value">8</div>
                        <div class="quick-stat-label">Active Chores</div>
                    </div>
                    <div class="quick-stat">
                        <div class="quick-stat-value">3</div>
                        <div class="quick-stat-label">Pending</div>
                    </div>
                    <div class="quick-stat">
                        <div class="quick-stat-value">12</div>
                        <div class="quick-stat-label">This Week</div>
                    </div>
                </div>
            </div>
            <div class="content">
                <!-- Birthday Prep Card -->
                <div class="card" style="background: linear-gradient(135deg, #FFF0F5, #FFE4E1); border: 2px solid #FFB6C1; margin-bottom: 20px;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                        <div style="font-size: 36px;"></div>
                        <div style="flex: 1;">
                            <div style="font-size: 16px; font-weight: 700; color: var(--text);">Maggie turns 14 in 7 days!</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">February 17, 2026</div>
                        </div>
                    </div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-bottom: 16px;">
                        Prepare something special for her big day:
                    </div>
                    <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                        <div class="kid-chip selected" onclick="this.classList.toggle('selected')" style="font-size: 12px;">Remove chores</div>
                        <div class="kid-chip selected" onclick="this.classList.toggle('selected')" style="font-size: 12px;">Double points</div>
                        <div class="kid-chip" onclick="this.classList.toggle('selected')" style="font-size: 12px;">Birthday badge</div>
                        <div class="kid-chip" onclick="this.classList.toggle('selected')" style="font-size: 12px;">View wishlist</div>
                    </div>
                    <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #FFB6C1;">
                        <div style="font-size: 12px; color: #FF69B4; font-weight: 600;">
                            <i class="fas fa-users"></i> Jake and Lily will be prompted to prepare shout-outs
                        </div>
                    </div>
                </div>

                <div class="section-header">
                    <div class="section-title">Pending Verifications</div>
                    <div class="section-action" onclick="navigateTo('parent-verify')">View All</div>
                </div>

                <div class="card" onclick="navigateTo('parent-verify')">
                    <div class="card-header">
                        <div class="card-title">Clean the garage - Maggie</div>
                        <div class="points-badge">50 pts</div>
                    </div>
                    <div style="font-size: 13px; color: var(--accent); margin-top: 8px;">
                        <i class="fas fa-clock"></i> Waiting for review
                    </div>
                </div>

                <div class="card" onclick="navigateTo('parent-verify')">
                    <div class="card-header">
                        <div class="card-title">Walk the dog - Maggie</div>
                        <div class="points-badge">20 pts</div>
                    </div>
                    <div style="font-size: 13px; color: var(--accent); margin-top: 8px;">
                        <i class="fas fa-clock"></i> Waiting for review
                    </div>
                </div>

                <div class="section-header" style="margin-top: 24px;">
                    <div class="section-title">Swap Requests</div>
                </div>

                <div class="card" onclick="navigateTo('parent-swap-review')" style="background: #E8D4FF; cursor: pointer;">
                    <div class="card-header">
                        <div class="card-title">Maggie - Chore Change Request</div>
                        <div style="font-size: 24px;"></div>
                    </div>
                    <div style="font-size: 13px; color: #6f42c1; margin-top: 8px;">
                        <i class="fas fa-clock"></i> Wants to change "Clean the garage"  "Help with groceries"
                    </div>
                    <div style="font-size: 13px; color: #6f42c1; margin-top: 4px; font-weight: 600;">
                        <i class="fas fa-hand-pointer"></i> Tap to review
                    </div>
                </div>

                <!-- Suggestion Cards -->
                <div class="notification-action-card" style="border-left: 4px solid var(--secondary);">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
                        <div style="font-size: 28px;"></div>
                        <div style="flex: 1;">
                            <div style="font-size: 14px; font-weight: 600; color: var(--text);">Chore Suggestion from Maggie</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">"Can I do Help with Groceries for 30 pts?"</div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-success" style="flex: 1; font-size: 13px; padding: 8px;" onclick="showToast('Chore accepted!'); this.closest('.notification-action-card').style.display='none';">Accept</button>
                        <button class="btn btn-outline" style="flex: 1; font-size: 13px; padding: 8px;" onclick="showToast('Dismissed'); this.closest('.notification-action-card').style.display='none';">Not Now</button>
                        <button class="btn" style="flex: 0; font-size: 13px; padding: 8px 12px; background: #dc3545; color: white;" onclick="showToast('Rejected'); this.closest('.notification-action-card').style.display='none';"><i class="fas fa-times"></i></button>
                    </div>
                </div>

                <div class="notification-action-card" style="border-left: 4px solid #FF69B4;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 10px;">
                        <div style="font-size: 28px;"></div>
                        <div style="flex: 1;">
                            <div style="font-size: 14px; font-weight: 600; color: var(--text);">Reward Suggestion from Jake</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">"Can we add Pizza Night for 80 pts?"</div>
                        </div>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-success" style="flex: 1; font-size: 13px; padding: 8px;" onclick="showToast('Reward added!'); this.closest('.notification-action-card').style.display='none';">Add Reward</button>
                        <button class="btn btn-outline" style="flex: 1; font-size: 13px; padding: 8px;" onclick="showToast('Dismissed'); this.closest('.notification-action-card').style.display='none';">Not Now</button>
                    </div>
                </div>

                <div class="section-header" style="margin-top: 24px;">
                    <div class="section-title">Rewards to Fulfill</div>
                </div>

                <div class="card" style="background: #d4edda; border: 2px solid #28a745;">
                    <div class="card-header">
                        <div class="card-title">Maggie cashed out $5.00</div>
                        <div class="points-badge" style="background: #28a745;">100 pts</div>
                    </div>
                    <div style="font-size: 13px; color: #155724; margin-top: 8px;">
                        <i class="fas fa-money-bill-wave"></i> 10 minutes ago  needs cash
                    </div>
                    <button class="btn btn-success" onclick="event.stopPropagation(); alert('Marked as handed over!');" style="margin-top: 12px; font-size: 14px; padding: 10px;">
                        Hand Cash
                    </button>
                </div>

                <div class="card" style="background: #fff3cd;">
                    <div class="card-header">
                        <div class="card-title">Maggie redeemed Movie Night</div>
                        <div class="points-badge" style="background: var(--accent);">50 pts</div>
                    </div>
                    <div style="font-size: 13px; color: #856404; margin-top: 8px;">
                        <i class="fas fa-exclamation-triangle"></i> 2 days ago  unfulfilled
                    </div>
                    <button class="btn btn-success" onclick="event.stopPropagation(); alert('Marked as given!');" style="margin-top: 12px; font-size: 14px; padding: 10px;">
                        Mark as Given
                    </button>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Jake redeemed Extra Screen Time</div>
                        <div class="points-badge" style="background: var(--accent);">30 pts</div>
                    </div>
                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 8px;">
                        <i class="fas fa-clock"></i> 5 hours ago
                    </div>
                    <button class="btn btn-success" onclick="event.stopPropagation(); alert('Marked as given!');" style="margin-top: 12px; font-size: 14px; padding: 10px;">
                        Mark as Given
                    </button>
                </div>

                <div class="section-header" style="margin-top: 24px;">
                    <div class="section-title">Sibling Kindness</div>
                    <div class="section-action" style="color: #FF69B4;"> New!</div>
                </div>

                <div class="parent-shoutout-card" onclick="navigateTo('parent-shoutout-review')">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 8px;">
                        <div class="shoutout-from-avatar" style="width: 36px; height: 36px; font-size: 14px;">M</div>
                        <div style="flex: 1;">
                            <div style="font-size: 15px; font-weight: 600; color: var(--text);">Maggie  Jake</div>
                            <div style="font-size: 12px; color: var(--text-secondary);">1 hour ago</div>
                        </div>
                        <span class="shoutout-badge-display" style="font-size: 11px; padding: 4px 10px;"> Amazing Sibling</span>
                    </div>
                    <div style="font-size: 13px; color: var(--text); font-style: italic;">"Jake helped me carry the groceries without me even asking!"</div>
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-top: 10px;">
                        <div style="font-size: 12px; color: #FF69B4; font-weight: 600;">Maggie gifted 5 pts</div>
                        <div style="font-size: 12px; color: var(--secondary); font-weight: 600;">
                            <i class="fas fa-rocket"></i> Tap to boost
                        </div>
                    </div>
                </div>

                <div class="section-header" style="margin-top: 24px;">
                    <div class="section-title">Kids Overview</div>
                </div>

                <div class="kid-card">
                    <div class="kid-card-header">
                        <div class="leaderboard-avatar">M</div>
                        <div>
                            <div class="kid-name">Maggie (13)</div>
                            <div class="kid-stats">
                                <span>135 pts</span>
                                <span>4 active chores</span>
                                <span> 7 days</span>
                            </div>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 60%;"></div>
                    </div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 6px;">60% completion this week</div>
                </div>

                <div class="kid-card">
                    <div class="kid-card-header">
                        <div class="leaderboard-avatar">J</div>
                        <div>
                            <div class="kid-name">Jake (10)</div>
                            <div class="kid-stats">
                                <span>70 pts</span>
                                <span>2 active chores</span>
                                <span> 3 days</span>
                            </div>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 40%;"></div>
                    </div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 6px;">40% completion this week</div>
                </div>

                <div class="kid-card">
                    <div class="kid-card-header">
                        <div class="leaderboard-avatar">L</div>
                        <div>
                            <div class="kid-name">Lily (8)</div>
                            <div class="kid-stats">
                                <span>55 pts</span>
                                <span>2 active chores</span>
                                <span> 5 days</span>
                            </div>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%;"></div>
                    </div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 6px;">75% completion this week</div>
                </div>

                <button class="btn btn-primary" onclick="navigateTo('parent-create-chore')" style="margin-top: 20px;">
                    <i class="fas fa-plus"></i> Create New Chore
                </button>

                <div style="display: flex; gap: 12px; margin-top: 12px;">
                    <button class="btn btn-secondary" onclick="navigateTo('parent-wishlist')" style="flex: 1;">
                        <i class="fas fa-wand-magic-sparkles"></i> Wishlists
                    </button>
                    <button class="btn" onclick="navigateTo('parent-give-badge')" style="flex: 1; background: linear-gradient(135deg, #FFD700, #FFA500); color: white;">
                        <i class="fas fa-medal"></i> Give Badge
                    </button>
                </div>
            </div>
            <div class="fab" onclick="navigateTo('parent-create-chore')">
                <i class="fas fa-plus"></i>
            </div>
            <div class="bottom-nav parent-nav">
                <div class="nav-item active" onclick="navigateTo('parent-dashboard')">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-verify')">
                    <i class="fas fa-check-circle"></i>
                    <span>Verify</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-rewards')">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-living-room')">
                    <i class="fas fa-couch"></i>
                    <span>Living Room</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-family')">
                    <i class="fas fa-users"></i>
                    <span>Family</span>
                </div>
            </div>
        </div>

        <!-- SCREEN 11: PARENT CREATE CHORE -->
        <div id="parent-create-chore" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-dashboard')"></i>
                <h1>Create Chore</h1>
                <p>Assign a new task</p>
            </div>
            <div class="content">
                <div class="input-group">
                    <label>Chore Name</label>
                    <input type="text" placeholder="e.g., Clean the kitchen">
                </div>

                <div class="input-group">
                    <label>Description</label>
                    <textarea rows="3" placeholder="What needs to be done?"></textarea>
                </div>

                <div class="input-group">
                    <label>Assign To</label>
                    <div class="kid-selector">
                        <div class="kid-chip selected">Maggie</div>
                        <div class="kid-chip">Jake</div>
                        <div class="kid-chip">Lily</div>
                        <div class="kid-chip">All Kids</div>
                    </div>
                </div>

                <div class="input-group">
                    <label>Point Value</label>
                    <input type="number" placeholder="e.g., 50" value="30">
                </div>

                <div class="input-group">
                    <label>Due Date</label>
                    <input type="date">
                </div>

                <div class="input-group">
                    <label>Frequency</label>
                    <select>
                        <option>One-time</option>
                        <option>Daily</option>
                        <option>Weekly</option>
                        <option>Monthly</option>
                    </select>
                </div>

                <button class="btn btn-primary" onclick="navigateTo('parent-dashboard')">
                    <i class="fas fa-check"></i> Create Chore
                </button>
            </div>
        </div>

        <!-- SCREEN 12: PARENT VERIFY CHORE -->
        <div id="parent-verify" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-dashboard')"></i>
                    </div>
                    <div class="header-top-right">
                        <div class="approve-all-btn" onclick="approveAllChores()">Approve All</div>
                    </div>
                </div>
                <div class="header-title-row">
                    <h1>Verify Chores</h1>
                    <p><span id="chores-count">3</span> waiting for review</p>
                </div>
            </div>
            <div class="content" id="verify-content">
                <div class="swipe-card-stack" id="swipe-stack">
                    <!-- Card 1 -->
                    <div class="swipe-card" data-chore-id="1">
                        <div class="swipe-overlay approve">
                            <div>APPROVED </div>
                        </div>
                        <div class="swipe-overlay reject">
                            <div>REDO </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <div class="kid-avatar" style="width: 40px; height: 40px; font-size: 16px;">M</div>
                            <div style="flex: 1;">
                                <div style="font-size: 18px; font-weight: 700; color: var(--text);">Clean the garage</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">Maggie  2 hours ago</div>
                            </div>
                            <div class="points-badge">50 pts</div>
                        </div>
                        <div class="post-image-placeholder" style="background: linear-gradient(135deg, #d4edda, #A8D5E2); aspect-ratio: 16/9; border-radius: 12px; margin-bottom: 12px;">
                            <div style="text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 8px;"></div>
                                <div style="font-size: 14px; color: var(--primary); font-weight: 600;">Clean Garage</div>
                                <div style="font-size: 11px; color: var(--text-secondary); margin-top: 4px;"><i class="fas fa-camera"></i> Photo proof</div>
                            </div>
                        </div>
                        <div style="font-size: 14px; font-style: italic; color: var(--text-secondary); padding: 12px; background: var(--bg-light); border-radius: 8px; margin-bottom: 12px;">
                            "All done! Organized the tools and swept everything."
                        </div>
                        <div class="emoji-reactions">
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                        </div>
                        <div style="font-size: 12px; color: var(--text-secondary); text-align: center; margin-top: 12px;">
                            Swipe right to approve  Swipe left to reject
                        </div>
                    </div>
                    <!-- Card 2 -->
                    <div class="swipe-card" data-chore-id="2">
                        <div class="swipe-overlay approve">
                            <div>APPROVED </div>
                        </div>
                        <div class="swipe-overlay reject">
                            <div>REDO </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <div class="kid-avatar" style="width: 40px; height: 40px; font-size: 16px;">M</div>
                            <div style="flex: 1;">
                                <div style="font-size: 18px; font-weight: 700; color: var(--text);">Walk the dog</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">Maggie  4 hours ago</div>
                            </div>
                            <div class="points-badge">20 pts</div>
                        </div>
                        <div class="post-image-placeholder" style="background: linear-gradient(135deg, #E8F4F8, #74B9FF); aspect-ratio: 16/9; border-radius: 12px; margin-bottom: 12px;">
                            <div style="text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 8px;"></div>
                                <div style="font-size: 14px; color: var(--primary); font-weight: 600;">Walk the Dog</div>
                                <div style="font-size: 11px; color: var(--text-secondary); margin-top: 4px;"><i class="fas fa-camera"></i> Photo proof</div>
                            </div>
                        </div>
                        <div style="font-size: 14px; font-style: italic; color: var(--text-secondary); padding: 12px; background: var(--bg-light); border-radius: 8px; margin-bottom: 12px;">
                            "Fido loved it! We went around the park twice."
                        </div>
                        <div class="emoji-reactions">
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                        </div>
                    </div>
                    <!-- Card 3 -->
                    <div class="swipe-card" data-chore-id="3">
                        <div class="swipe-overlay approve">
                            <div>APPROVED </div>
                        </div>
                        <div class="swipe-overlay reject">
                            <div>REDO </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                            <div class="kid-avatar" style="width: 40px; height: 40px; font-size: 16px;">J</div>
                            <div style="flex: 1;">
                                <div style="font-size: 18px; font-weight: 700; color: var(--text);">Vacuum living room</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">Jake  1 hour ago</div>
                            </div>
                            <div class="points-badge">30 pts</div>
                        </div>
                        <div class="post-image-placeholder" style="background: linear-gradient(135deg, #FFF3CD, #FFE4B5); aspect-ratio: 16/9; border-radius: 12px; margin-bottom: 12px;">
                            <div style="text-align: center;">
                                <div style="font-size: 48px; margin-bottom: 8px;"></div>
                                <div style="font-size: 14px; color: var(--primary); font-weight: 600;">Vacuum Living Room</div>
                                <div style="font-size: 11px; color: var(--text-secondary); margin-top: 4px;"><i class="fas fa-camera"></i> Photo proof</div>
                            </div>
                        </div>
                        <div style="font-size: 14px; font-style: italic; color: var(--text-secondary); padding: 12px; background: var(--bg-light); border-radius: 8px; margin-bottom: 12px;">
                            "Got all the corners and under the couch!"
                        </div>
                        <div class="emoji-reactions">
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                            <div class="emoji-btn" onclick="event.stopPropagation(); toggleEmoji(this)"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="redo-comment" class="redo-comment-bar">
                <input type="text" placeholder="What needs fixing?" id="redo-input">
                <button onclick="sendRedo()">Send</button>
            </div>
        </div>

        <!-- SCREEN 13: PARENT REWARDS CATALOG -->
        <div id="parent-rewards" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-dashboard')"></i>
                    </div>
                    <div class="header-top-right">
                        <div class="role-switcher" onclick="toggleRole()">
                            <i class="fas fa-repeat"></i> <span class="role-text">Switch to Kid</span>
                        </div>
                    </div>
                </div>
                <div class="header-title-row">
                    <h1>Reward Catalog</h1>
                    <p>Manage rewards</p>
                </div>
            </div>
            <div class="content">
                <div class="reward-card" onclick="navigateTo('parent-create-reward')">
                    <div class="reward-icon"></div>
                    <div class="reward-title">Movie Night</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Family picks movie together</p>
                    <div class="reward-cost">50 points</div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 2px;">Value: $2.50</div>
                    <div style="margin-top: 10px; font-size: 12px; color: #999;">
                        <i class="fas fa-edit"></i> Edit
                    </div>
                </div>

                <div class="reward-card" onclick="navigateTo('parent-create-reward')">
                    <div class="reward-icon"></div>
                    <div class="reward-title">$10 Amazon Gift Card</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Shop for what you want</p>
                    <div class="reward-cost">100 points</div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 2px;">Value: $5.00</div>
                    <div style="margin-top: 10px; font-size: 12px; color: #999;">
                        <i class="fas fa-edit"></i> Edit
                    </div>
                </div>

                <div class="reward-card" onclick="navigateTo('parent-create-reward')">
                    <div class="reward-icon"></div>
                    <div class="reward-title">Extra 30 min Screen Time</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">One night bonus time</p>
                    <div class="reward-cost">30 points</div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 2px;">Value: $1.50</div>
                    <div style="margin-top: 10px; font-size: 12px; color: #999;">
                        <i class="fas fa-edit"></i> Edit
                    </div>
                </div>

                <div class="reward-card" onclick="navigateTo('parent-create-reward')">
                    <div class="reward-icon"></div>
                    <div class="reward-title">Choose Dinner Menu</div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Pick what we eat tonight</p>
                    <div class="reward-cost">40 points</div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 2px;">Value: $2.00</div>
                    <div style="margin-top: 10px; font-size: 12px; color: #999;">
                        <i class="fas fa-edit"></i> Edit
                    </div>
                </div>

                <button class="btn btn-primary" onclick="navigateTo('parent-create-reward')" style="margin-top: 12px;">
                    <i class="fas fa-plus"></i> Add New Reward
                </button>
            </div>
            <div class="bottom-nav parent-nav">
                <div class="nav-item" onclick="navigateTo('parent-dashboard')">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-verify')">
                    <i class="fas fa-check-circle"></i>
                    <span>Verify</span>
                </div>
                <div class="nav-item active" onclick="navigateTo('parent-rewards')">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-living-room')">
                    <i class="fas fa-couch"></i>
                    <span>Living Room</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-family')">
                    <i class="fas fa-users"></i>
                    <span>Family</span>
                </div>
            </div>
        </div>

        <!-- SCREEN 14: PARENT CREATE REWARD -->
        <div id="parent-create-reward" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-rewards')"></i>
                <h1>Create Reward</h1>
                <p>Add something exciting!</p>
            </div>
            <div class="content">
                <div class="input-group">
                    <label>Reward Name</label>
                    <input type="text" placeholder="e.g., Movie night">
                </div>

                <div class="input-group">
                    <label>Description</label>
                    <textarea rows="3" placeholder="What do they get?"></textarea>
                </div>

                <div class="input-group">
                    <label>Dollar Value</label>
                    <div style="position: relative;">
                        <span style="position: absolute; left: 14px; top: 50%; transform: translateY(-50%); font-size: 16px; color: var(--text-secondary);">$</span>
                        <input type="number" placeholder="e.g., 5.00" style="padding-left: 30px;" id="reward-dollar-input" oninput="updateRewardPointCost(this.value)">
                    </div>
                    <div style="margin-top: 8px; padding: 10px 14px; background: var(--bg); border-radius: 10px; display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-size: 13px; color: var(--text-secondary);">Point Cost (auto-calculated)</span>
                        <span style="font-size: 16px; font-weight: 700; color: var(--primary);" id="reward-auto-points"><i class="fas fa-coins" style="color: var(--accent); font-size: 13px;"></i> 100 pts</span>
                    </div>
                    <div style="font-size: 11px; color: var(--text-secondary); margin-top: 4px;">Based on your rate: 20 pts per $1.00</div>
                </div>

                <div class="input-group">
                    <label>Icon/Emoji</label>
                    <input type="text" placeholder="e.g., , , " maxlength="2">
                </div>

                <div class="input-group">
                    <label>Available To</label>
                    <div class="kid-selector">
                        <div class="kid-chip selected">All Kids</div>
                        <div class="kid-chip">Maggie Only</div>
                        <div class="kid-chip">Jake Only</div>
                        <div class="kid-chip">Lily Only</div>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="navigateTo('parent-rewards')">
                    <i class="fas fa-check"></i> Create Reward
                </button>
            </div>
        </div>

        <!-- SCREEN 14B: PARENT WISHLIST REVIEW -->
        <div id="parent-wishlist" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-dashboard')"></i>
                <h1>Kids' Wishlists</h1>
                <p>Review wishes & gift ideas</p>
            </div>
            <div class="content">
                <div class="section-header">
                    <div class="section-title">Maggie's Wishes</div>
                </div>

                <div class="wishlist-item">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                        <div style="font-size: 16px; font-weight: 600; color: var(--text);">Nintendo Switch Game</div>
                        <span class="wishlist-status wishlist-approved">Approved </span>
                    </div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Super Mario Wonder  it looks so fun!</p>
                    <div style="display: flex; gap: 6px; align-items: center; margin-bottom: 12px;">
                        <span class="occasion-tag occasion-birthday"> Birthday</span>
                        <span style="font-size: 12px; color: var(--text-secondary);">~$50</span>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-secondary" style="font-size: 12px; padding: 8px;" onclick="navigateTo('parent-rewards')">
                            <i class="fas fa-gift"></i> Add as Reward
                        </button>
                    </div>
                </div>

                <div class="wishlist-item">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                        <div style="font-size: 16px; font-weight: 600; color: var(--text);">Art Supply Kit</div>
                        <span class="wishlist-status wishlist-approved">Approved </span>
                    </div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Professional colored pencils and sketchbook</p>
                    <div style="display: flex; gap: 6px; align-items: center;">
                        <span class="occasion-tag occasion-christmas"> Christmas</span>
                        <span style="font-size: 12px; color: var(--text-secondary);">~$35</span>
                    </div>
                </div>

                <div class="wishlist-item">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                        <div style="font-size: 16px; font-weight: 600; color: var(--text);">Bluetooth Speaker</div>
                        <span class="wishlist-status wishlist-pending">Pending</span>
                    </div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">Small waterproof one for my room</p>
                    <div style="display: flex; gap: 6px; align-items: center; margin-bottom: 12px;">
                        <span class="occasion-tag occasion-anytime"> Anytime</span>
                        <span style="font-size: 12px; color: var(--text-secondary);">~$25</span>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-success" style="flex: 1; font-size: 12px; padding: 8px;">
                            <i class="fas fa-check"></i> Approve
                        </button>
                        <button class="btn btn-danger" style="flex: 1; font-size: 12px; padding: 8px;">
                            <i class="fas fa-times"></i> Decline
                        </button>
                    </div>
                </div>

                <div class="section-header" style="margin-top: 24px;">
                    <div class="section-title">Jake's Wishes</div>
                </div>

                <div class="wishlist-item">
                    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
                        <div style="font-size: 16px; font-weight: 600; color: var(--text);">LEGO Star Wars Set</div>
                        <span class="wishlist-status wishlist-pending">Pending</span>
                    </div>
                    <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 8px;">The Millennium Falcon one!</p>
                    <div style="display: flex; gap: 6px; align-items: center; margin-bottom: 12px;">
                        <span class="occasion-tag occasion-birthday"> Birthday</span>
                        <span style="font-size: 12px; color: var(--text-secondary);">~$80</span>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button class="btn btn-success" style="flex: 1; font-size: 12px; padding: 8px;">
                            <i class="fas fa-check"></i> Approve
                        </button>
                        <button class="btn btn-danger" style="flex: 1; font-size: 12px; padding: 8px;">
                            <i class="fas fa-times"></i> Decline
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN 14C: PARENT GIVE BADGE -->
        <div id="parent-give-badge" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-dashboard')"></i>
                <h1>Give Badge</h1>
                <p>Reward outstanding behavior</p>
            </div>
            <div class="content">
                <div class="input-group">
                    <label>Who deserves this badge?</label>
                    <div class="kid-selector">
                        <div class="kid-chip selected" onclick="this.classList.toggle('selected')">Maggie</div>
                        <div class="kid-chip" onclick="this.classList.toggle('selected')">Jake</div>
                        <div class="kid-chip" onclick="this.classList.toggle('selected')">Lily</div>
                    </div>
                </div>

                <div class="input-group">
                    <label>Choose a Badge</label>
                </div>
                <div class="badges-grid" style="margin-bottom: 20px;">
                    <div class="badge-selectable" onclick="selectBadge(this)">
                        <div class="badge-display">
                            <div class="badge-icon" style="background: linear-gradient(135deg, #FFD700, #FFA500);"></div>
                            <div class="badge-label">Super Star</div>
                        </div>
                    </div>
                    <div class="badge-selectable" onclick="selectBadge(this)">
                        <div class="badge-display">
                            <div class="badge-icon" style="background: linear-gradient(135deg, #FF69B4, #D63384);"></div>
                            <div class="badge-label">Hard Worker</div>
                        </div>
                    </div>
                    <div class="badge-selectable" onclick="selectBadge(this)">
                        <div class="badge-display">
                            <div class="badge-icon" style="background: linear-gradient(135deg, #39D353, #28a745);"></div>
                            <div class="badge-label">Above & Beyond</div>
                        </div>
                    </div>
                    <div class="badge-selectable" onclick="selectBadge(this)">
                        <div class="badge-display">
                            <div class="badge-icon" style="background: linear-gradient(135deg, #58A6FF, #2E86AB);"></div>
                            <div class="badge-label">Chore Master</div>
                        </div>
                    </div>
                    <div class="badge-selectable" onclick="selectBadge(this)">
                        <div class="badge-display">
                            <div class="badge-icon" style="background: linear-gradient(135deg, #FF6B35, #E65100);"></div>
                            <div class="badge-label">On Fire</div>
                        </div>
                    </div>
                    <div class="badge-selectable" onclick="selectBadge(this)">
                        <div class="badge-display">
                            <div class="badge-icon" style="background: linear-gradient(135deg, #9B59B6, #6C3483);"></div>
                            <div class="badge-label">Royalty</div>
                        </div>
                    </div>
                    <div class="badge-selectable" onclick="selectBadge(this)">
                        <div class="badge-display">
                            <div class="badge-icon" style="background: linear-gradient(135deg, #1ABC9C, #16A085);"></div>
                            <div class="badge-label">Team Player</div>
                        </div>
                    </div>
                    <div class="badge-selectable" onclick="selectBadge(this)">
                        <div class="badge-display">
                            <div class="badge-icon" style="background: linear-gradient(135deg, #E74C3C, #C0392B);"></div>
                            <div class="badge-label">Kind Heart</div>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label>Why are you giving this badge?</label>
                    <textarea rows="2" placeholder="e.g., Helped your sibling without being asked!"></textarea>
                </div>

                <div class="input-group">
                    <label>Bonus Points (optional)</label>
                    <input type="number" placeholder="e.g., 25">
                </div>

                <button class="btn btn-primary" onclick="navigateTo('parent-dashboard')">
                    <i class="fas fa-medal"></i> Award Badge
                </button>
            </div>
        </div>

        <!-- SCREEN 15: PARENT FAMILY MANAGEMENT -->
        <div id="parent-family" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-dashboard')"></i>
                    </div>
                    <div class="header-top-right">
                        <div class="role-switcher" onclick="toggleRole()">
                            <i class="fas fa-repeat"></i> <span class="role-text">Switch to Kid</span>
                        </div>
                    </div>
                </div>
                <div class="header-title-row">
                    <h1>Family Management</h1>
                    <p>The Johnson Family</p>
                </div>
            </div>
            <div class="content">
                <div class="section-header">
                    <div class="section-title">Adults</div>
                </div>

                <div class="member-item">
                    <div class="member-avatar">
                        M
                        <div class="avatar-camera"><i class="fas fa-camera"></i></div>
                    </div>
                    <div class="member-info">
                        <div class="member-name">Mike Johnson</div>
                        <div class="member-role">Admin</div>
                    </div>
                    <div class="badge badge-admin">ADMIN</div>
                </div>

                <div class="member-item">
                    <div class="member-avatar">
                        S
                        <div class="avatar-camera"><i class="fas fa-camera"></i></div>
                    </div>
                    <div class="member-info">
                        <div class="member-name">Sarah Johnson</div>
                        <div class="member-role">Parent</div>
                    </div>
                </div>

                <div class="section-header" style="margin-top: 24px;">
                    <div class="section-title">Kids</div>
                </div>

                <div class="member-item">
                    <div class="member-avatar">
                        M
                        <div class="avatar-camera"><i class="fas fa-camera"></i></div>
                    </div>
                    <div class="member-info">
                        <div class="member-name">Maggie (13)</div>
                        <div class="member-role">135 points  4 active chores</div>
                    </div>
                </div>

                <div class="member-item">
                    <div class="member-avatar">
                        J
                        <div class="avatar-camera"><i class="fas fa-camera"></i></div>
                    </div>
                    <div class="member-info">
                        <div class="member-name">Jake (10)</div>
                        <div class="member-role">70 points  2 active chores</div>
                    </div>
                </div>

                <div class="member-item">
                    <div class="member-avatar">
                        L
                        <div class="avatar-camera"><i class="fas fa-camera"></i></div>
                    </div>
                    <div class="member-info">
                        <div class="member-name">Lily (8)</div>
                        <div class="member-role">55 points  2 active chores</div>
                    </div>
                </div>

                <button class="btn btn-primary" style="margin-top: 20px;">
                    <i class="fas fa-user-plus"></i> Invite Family Member
                </button>

                <button class="btn btn-secondary" onclick="navigateTo('parent-settings')" style="margin-top: 12px;">
                    <i class="fas fa-cog"></i> Family Settings
                </button>
            </div>
            <div class="bottom-nav parent-nav">
                <div class="nav-item" onclick="navigateTo('parent-dashboard')">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-verify')">
                    <i class="fas fa-check-circle"></i>
                    <span>Verify</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-rewards')">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </div>
                <div class="nav-item" onclick="navigateTo('parent-living-room')">
                    <i class="fas fa-couch"></i>
                    <span>Living Room</span>
                </div>
                <div class="nav-item active" onclick="navigateTo('parent-family')">
                    <i class="fas fa-users"></i>
                    <span>Family</span>
                </div>
            </div>
        </div>

        <!-- SCREEN 15B: PARENT COMPANION CONFIG -->
        <div id="parent-companion-config" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-settings')"></i>
                <h1>Chal Settings</h1>
                <p>Shape your kids' companion</p>
            </div>
            <div class="content">
                <div class="card">
                    <div class="config-section">
                        <div class="config-section-title">Message Types</div>
                        <div class="config-toggle-item">
                            <div>
                                <div style="font-size: 14px; font-weight: 500; color: var(--text);">Motivation & Encouragement</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Positive reinforcement</div>
                            </div>
                            <div class="toggle-switch active">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                        <div class="config-toggle-item">
                            <div>
                                <div style="font-size: 14px; font-weight: 500; color: var(--text);">Chore Tips & Productivity</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">How to work smarter</div>
                            </div>
                            <div class="toggle-switch active">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                        <div class="config-toggle-item">
                            <div>
                                <div style="font-size: 14px; font-weight: 500; color: var(--text);">Fun Facts & Learning</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Educational content</div>
                            </div>
                            <div class="toggle-switch active">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                        <div class="config-toggle-item">
                            <div>
                                <div style="font-size: 14px; font-weight: 500; color: var(--text);">Kindness Reminders</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Family values</div>
                            </div>
                            <div class="toggle-switch active">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                        <div class="config-toggle-item">
                            <div>
                                <div style="font-size: 14px; font-weight: 500; color: var(--text);">Financial Literacy</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Money skills <span class="badge badge-post-mvp">POST-MVP</span></div>
                            </div>
                            <div class="toggle-switch">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="config-section">
                        <div class="config-section-title">Suggestion Mode</div>
                        <div class="config-radio-item selected">
                            <div style="font-weight: 600; margin-bottom: 4px;">Encouraging</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">"You're doing great! Keep it up!"</div>
                        </div>
                        <div class="config-radio-item">
                            <div style="font-weight: 600; margin-bottom: 4px;">Coaching</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">"Try tackling the hardest chore first!"</div>
                        </div>
                        <div class="config-radio-item">
                            <div style="font-weight: 600; margin-bottom: 4px;">Educational</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">"Did you know doing chores builds discipline?"</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="config-section">
                        <div class="config-section-title">Custom Messages</div>
                        <div class="custom-message-item">
                            <i class="fas fa-quote-left" style="margin-right: 8px; color: var(--secondary);"></i>
                            "Remember: homework before screen time!"
                        </div>
                        <div class="custom-message-item">
                            <i class="fas fa-quote-left" style="margin-right: 8px; color: var(--secondary);"></i>
                            "Be kind to your siblings today"
                        </div>
                        <button class="btn btn-secondary" style="margin-top: 12px; font-size: 14px; padding: 12px;">
                            <i class="fas fa-plus"></i> Add Message
                        </button>
                    </div>
                </div>

                <div class="card" style="background: var(--bg-light); opacity: 0.6;">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                        <div style="font-size: 32px;"></div>
                        <div>
                            <div style="font-weight: 600; display: flex; align-items: center; gap: 8px;">
                                AI Suggestions
                                <span class="badge badge-post-mvp">POST-MVP</span>
                            </div>
                        </div>
                    </div>
                    <p style="font-size: 13px; color: var(--text-secondary); line-height: 1.6;">
                        Coming soon: Chal will learn your family's patterns and give personalized advice based on each child's behavior and preferences.
                    </p>
                </div>
            </div>
        </div>

        <!-- SCREEN 16: PARENT SETTINGS -->
        <div id="parent-settings" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('parent-dashboard')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Settings</h1>
                    <p>Customize your experience</p>
                </div>
            </div>
            <div class="content">

                <!-- Family Code at top -->
                <div class="card" style="text-align: center; background: linear-gradient(135deg, var(--primary), var(--secondary));">
                    <div style="font-size: 13px; color: rgba(255,255,255,0.8); margin-bottom: 4px;">Family Code</div>
                    <div style="font-size: 28px; font-weight: 700; color: white; letter-spacing: 4px;">JOHN13</div>
                    <div style="font-size: 12px; color: rgba(255,255,255,0.7); margin-top: 4px;">Share with family members to join</div>
                </div>

                <!-- My Profile -->
                <div class="settings-section">
                    <div class="settings-section-title">My Profile</div>
                    <div class="card">
                        <div style="display: flex; align-items: center; gap: 16px;">
                            <div class="profile-pic-large" style="width: 60px; height: 60px; font-size: 24px; margin: 0;">
                                M
                                <div class="avatar-camera" style="width: 22px; height: 22px; font-size: 10px;"><i class="fas fa-camera"></i></div>
                            </div>
                            <div style="flex: 1;">
                                <div style="font-size: 18px; font-weight: 700; color: var(--text);">Mike Johnson</div>
                                <div style="font-size: 13px; color: var(--text-secondary);">Admin  mike@email.com</div>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                        </div>
                    </div>
                </div>

                <!-- My Kids -->
                <div class="settings-section">
                    <div class="settings-section-title">My Kids</div>
                    <div class="card" style="padding: 0;">
                        <div class="settings-item" style="border-bottom: 1px solid var(--border);">
                            <div style="display: flex; align-items: center; gap: 12px; flex: 1;">
                                <div style="width: 36px; height: 36px; border-radius: 50%; background: linear-gradient(135deg, var(--secondary), var(--primary)); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">M</div>
                                <div>
                                    <div style="font-weight: 600; color: var(--text);">Maggie</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">Code: MAG01</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="font-size: 12px; color: var(--text-secondary); display: flex; align-items: center; gap: 4px;">
                                    <i class="fas fa-lock" style="font-size: 10px;"></i> PIN
                                    <div class="toggle-switch active" style="transform: scale(0.7);">
                                        <div class="toggle-thumb"></div>
                                    </div>
                                </div>
                                <span style="font-size: 12px; color: var(--secondary); cursor: pointer;" onclick="showToast('PIN reset  Maggie will set a new one')">Reset PIN</span>
                            </div>
                        </div>
                        <div class="settings-item" style="border-bottom: 1px solid var(--border);">
                            <div style="display: flex; align-items: center; gap: 12px; flex: 1;">
                                <div style="width: 36px; height: 36px; border-radius: 50%; background: linear-gradient(135deg, #39D353, #2196F3); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">J</div>
                                <div>
                                    <div style="font-weight: 600; color: var(--text);">Jake</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">Code: JAK01</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="font-size: 12px; color: var(--text-secondary); display: flex; align-items: center; gap: 4px;">
                                    <i class="fas fa-lock" style="font-size: 10px;"></i> PIN
                                    <div class="toggle-switch active" style="transform: scale(0.7);">
                                        <div class="toggle-thumb"></div>
                                    </div>
                                </div>
                                <span style="font-size: 12px; color: var(--secondary); cursor: pointer;" onclick="showToast('PIN reset  Jake will set a new one')">Reset PIN</span>
                            </div>
                        </div>
                        <div class="settings-item">
                            <div style="display: flex; align-items: center; gap: 12px; flex: 1;">
                                <div style="width: 36px; height: 36px; border-radius: 50%; background: linear-gradient(135deg, #FF69B4, #FF6B35); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 14px;">L</div>
                                <div>
                                    <div style="font-weight: 600; color: var(--text);">Lily</div>
                                    <div style="font-size: 12px; color: var(--text-secondary);">Code: LIL01</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="font-size: 12px; color: var(--text-secondary); display: flex; align-items: center; gap: 4px;">
                                    <i class="fas fa-lock" style="font-size: 10px;"></i> PIN
                                    <div class="toggle-switch" style="transform: scale(0.7);">
                                        <div class="toggle-thumb"></div>
                                    </div>
                                </div>
                                <span style="font-size: 12px; color: #999;">No PIN</span>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-outline" style="font-size: 14px; margin-top: 8px;" onclick="navigateTo('add-kids')">
                        <i class="fas fa-plus"></i> Add Kid
                    </button>
                </div>

                <!-- Family Pet -->
                <div class="settings-section">
                    <div class="settings-section-title">Family Pet</div>
                    <div class="card" onclick="navigateTo('parent-companion-config')" style="cursor: pointer;">
                        <div style="display: flex; align-items: center; gap: 16px;">
                            <div style="font-size: 40px;" data-companion-emoji></div>
                            <div style="flex: 1;">
                                <div class="card-title">Chal Settings</div>
                                <p style="font-size: 13px; color: var(--text-secondary); margin-top: 4px;">
                                    Configure your kids' companion
                                </p>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary);"></i>
                        </div>
                    </div>
                </div>

                <!-- Points Economy -->
                <div class="settings-section">
                    <div class="settings-section-title">Points Economy</div>
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                            <div>
                                <div style="font-size: 14px; font-weight: 600; color: var(--text);">Points per Dollar</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">How many points equal $1.00</div>
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                            <input type="range" min="5" max="50" value="20" step="5" id="ppd-slider" oninput="updatePointsPerDollar(this.value)" style="flex: 1; accent-color: var(--primary);">
                            <div style="min-width: 70px; text-align: center; font-size: 20px; font-weight: 700; color: var(--primary);" id="ppd-value">20 pts</div>
                        </div>
                        <div style="display: flex; justify-content: space-between; font-size: 11px; color: var(--text-secondary); margin-bottom: 16px;">
                            <span>5 pts/$1</span>
                            <span>50 pts/$1</span>
                        </div>
                        <div style="background: var(--bg); border-radius: 12px; padding: 12px; display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-info-circle" style="color: var(--secondary); font-size: 16px;"></i>
                            <div style="font-size: 12px; color: var(--text-secondary); line-height: 1.4;">
                                At <strong id="ppd-rate-label">20 pts/$1</strong>: a $5 reward costs <strong id="ppd-example">100 pts</strong>. Kids earn points from chores  this rate sets reward pricing.
                            </div>
                        </div>
                        <div style="display: flex; gap: 8px; margin-top: 12px;">
                            <button class="btn btn-outline" style="flex: 1; font-size: 12px; padding: 8px;" onclick="document.getElementById('ppd-slider').value=10; updatePointsPerDollar(10);">Easy (10)</button>
                            <button class="btn btn-outline" style="flex: 1; font-size: 12px; padding: 8px; border-color: var(--primary); color: var(--primary);" onclick="document.getElementById('ppd-slider').value=20; updatePointsPerDollar(20);">Standard (20)</button>
                            <button class="btn btn-outline" style="flex: 1; font-size: 12px; padding: 8px;" onclick="document.getElementById('ppd-slider').value=40; updatePointsPerDollar(40);">Hard (40)</button>
                        </div>
                    </div>
                </div>

                <!-- Appearance -->
                <div class="settings-section">
                    <div class="settings-section-title">Appearance</div>
                    <div class="card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <div>
                                <div style="font-size: 14px; font-weight: 600; color: var(--text);">Dark Mode</div>
                                <div style="font-size: 12px; color: var(--text-secondary);">Switch to dark theme</div>
                            </div>
                            <div class="toggle-switch" id="dark-mode-toggle" onclick="toggleDarkMode()">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>

                        <div style="font-size: 14px; font-weight: 600; color: var(--text); margin-bottom: 12px;">Color Theme</div>
                        <div class="theme-grid">
                            <div class="theme-item theme-ocean active" onclick="setTheme('ocean')">
                                <div class="theme-preview"></div>
                                <div class="theme-name">Ocean</div>
                            </div>
                            <div class="theme-item theme-sunset" onclick="setTheme('sunset')">
                                <div class="theme-preview"></div>
                                <div class="theme-name">Sunset</div>
                            </div>
                            <div class="theme-item theme-forest" onclick="setTheme('forest')">
                                <div class="theme-preview"></div>
                                <div class="theme-name">Forest</div>
                            </div>
                            <div class="theme-item theme-midnight" onclick="setTheme('midnight')">
                                <div class="theme-preview"></div>
                                <div class="theme-name">Midnight</div>
                            </div>
                            <div class="theme-item theme-bubblegum" onclick="setTheme('bubblegum')">
                                <div class="theme-preview"></div>
                                <div class="theme-name">Bubblegum</div>
                            </div>
                            <div class="theme-item theme-arctic" onclick="setTheme('arctic')">
                                <div class="theme-preview"></div>
                                <div class="theme-name">Arctic</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notifications -->
                <div class="settings-section">
                    <div class="settings-section-title">Notifications</div>
                    <div class="card" style="padding: 0;">
                        <div class="settings-item" style="border-bottom: 1px solid var(--border);">
                            <span style="font-size: 14px; color: var(--text);">Chore completions</span>
                            <div class="toggle-switch active">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                        <div class="settings-item" style="border-bottom: 1px solid var(--border);">
                            <span style="font-size: 14px; color: var(--text);">Reward redemptions</span>
                            <div class="toggle-switch active">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                        <div class="settings-item" style="border-bottom: 1px solid var(--border);">
                            <span style="font-size: 14px; color: var(--text);">Cash-out requests</span>
                            <div class="toggle-switch active">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                        <div class="settings-item">
                            <span style="font-size: 14px; color: var(--text);">Weekly summaries</span>
                            <div class="toggle-switch">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Management -->
                <div class="settings-section">
                    <div class="settings-section-title">Management</div>
                    <div class="card" style="padding: 0;">
                        <div class="settings-item" style="border-bottom: 1px solid var(--border); cursor: pointer;" onclick="navigateTo('parent-rewards')">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-gift" style="color: var(--secondary); width: 20px; text-align: center;"></i>
                                <span style="font-size: 14px; color: var(--text);">Manage Rewards</span>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary); font-size: 12px;"></i>
                        </div>
                        <div class="settings-item" style="border-bottom: 1px solid var(--border); cursor: pointer;" onclick="navigateTo('parent-family')">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-users" style="color: var(--secondary); width: 20px; text-align: center;"></i>
                                <span style="font-size: 14px; color: var(--text);">Family Members</span>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary); font-size: 12px;"></i>
                        </div>
                        <div class="settings-item" style="cursor: pointer;" onclick="showToast('Invite link copied!')">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-user-plus" style="color: var(--secondary); width: 20px; text-align: center;"></i>
                                <span style="font-size: 14px; color: var(--text);">Invite Parent / Guardian</span>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary); font-size: 12px;"></i>
                        </div>
                    </div>
                </div>

                <!-- Account -->
                <div class="settings-section">
                    <div class="settings-section-title">Account</div>
                    <div class="card" style="padding: 0;">
                        <div class="settings-item" style="border-bottom: 1px solid var(--border); cursor: pointer;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-lock" style="color: var(--secondary); width: 20px; text-align: center;"></i>
                                <span style="font-size: 14px; color: var(--text);">Change Password</span>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary); font-size: 12px;"></i>
                        </div>
                        <div class="settings-item" style="border-bottom: 1px solid var(--border); cursor: pointer;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-envelope" style="color: var(--secondary); width: 20px; text-align: center;"></i>
                                <span style="font-size: 14px; color: var(--text);">Update Email</span>
                            </div>
                            <i class="fas fa-chevron-right" style="color: var(--text-secondary); font-size: 12px;"></i>
                        </div>
                        <div class="settings-item" style="cursor: pointer;" onclick="navigateTo('splash')">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-sign-out-alt" style="color: #dc3545; width: 20px; text-align: center;"></i>
                                <span style="font-size: 14px; color: #dc3545;">Log Out</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="text-align: center; padding: 16px 0 32px;">
                    <div style="font-size: 13px; color: #999;">
                        Challey v3.0.0<br>
                        Made with care for families
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN 17: NOTIFICATIONS PANEL -->
        <div id="notifications-panel" class="notification-panel">
            <div class="notification-content">
                <div class="notification-header">
                    <h2>Notifications</h2>
                    <div class="close-btn" onclick="toggleNotifications()">
                        <i class="fas fa-times"></i>
                    </div>
                </div>

                <div class="activity-item" style="background: #fff3cd;">
                    <div class="activity-icon reward">
                        <i class="fas fa-gift"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Maggie redeemed Movie Night  please fulfill</div>
                        <div class="activity-time">2 days ago</div>
                    </div>
                </div>

                <div class="activity-item" onclick="toggleNotifications(); navigateTo('parent-swap-review');" style="cursor: pointer; background: #E8D4FF;">
                    <div class="activity-icon" style="background: #6f42c1; color: white;">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Maggie wants to change a chore  review request</div>
                        <div class="activity-time">1 hour ago</div>
                    </div>
                </div>

                <div class="activity-item">
                    <div class="activity-icon new">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Maggie completed: Clean the garage  verify now</div>
                        <div class="activity-time">2 hours ago</div>
                    </div>
                </div>

                <div class="activity-item" onclick="toggleNotifications(); navigateTo('parent-shoutout-review');" style="cursor: pointer; background: #FFF0F5;">
                    <div class="activity-icon kindness">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Sibling shout-out: Maggie gave Jake "Amazing Sibling" badge with 5 pts!</div>
                        <div style="font-size: 12px; color: #FF69B4; font-weight: 600; margin-top: 2px;"><i class="fas fa-rocket"></i> Tap to boost</div>
                        <div class="activity-time">1 hour ago</div>
                    </div>
                </div>

                <div class="activity-item">
                    <div class="activity-icon" style="background: #E8D4FF; color: #6f42c1;">
                        <i class="fas fa-repeat"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Swap alert: Maggie wants to swap 'Clean garage' with Jake's 'Vacuum'</div>
                        <div class="activity-time">5 hours ago</div>
                    </div>
                </div>

                <div class="activity-item">
                    <div class="activity-icon completed">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Jake earned 30 points!</div>
                        <div class="activity-time">1 day ago</div>
                    </div>
                </div>

                <div class="activity-item" style="background: #fff3cd;">
                    <div class="activity-icon reward">
                        <i class="fas fa-gift"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Jake redeemed Extra Screen Time  please fulfill</div>
                        <div class="activity-time">5 hours ago</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN: KID CASHOUT CONFIRM -->
        <div id="kid-cashout-confirm" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-points')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Cash Out</h1>
                    <p>Choose how much to cash out</p>
                </div>
            </div>
            <div class="content" style="text-align: center; padding-top: 24px;">
                <div style="font-size: 56px; margin-bottom: 16px;"></div>
                <h2 style="font-size: 22px; color: var(--text); margin-bottom: 16px;">You're cashing out</h2>
                <div style="font-size: 36px; font-weight: 700; color: #28a745; margin-bottom: 4px;">
                    <span id="cashout-pts-display">100</span> pts ($<span id="cashout-dollar-display">5.00</span>)
                </div>
                <div style="margin: 24px 0;">
                    <input type="range" min="20" max="200" value="100" step="10"
                        oninput="updateCashoutAmount(this.value)"
                        style="width: 100%; accent-color: var(--secondary); height: 8px; cursor: pointer;">
                    <div style="display: flex; justify-content: space-between; font-size: 12px; color: var(--text-secondary); margin-top: 6px;">
                        <span>20 pts ($1.00)</span>
                        <span>200 pts ($10.00)</span>
                    </div>
                </div>
                <div style="display: flex; justify-content: center; gap: 8px; margin-bottom: 16px;">
                    <button class="btn btn-outline" onclick="document.querySelector('#kid-cashout-confirm input[type=range]').value=40; updateCashoutAmount(40);" style="padding: 6px 14px; font-size: 13px;">40 pts</button>
                    <button class="btn btn-outline" onclick="document.querySelector('#kid-cashout-confirm input[type=range]').value=100; updateCashoutAmount(100);" style="padding: 6px 14px; font-size: 13px;">100 pts</button>
                    <button class="btn btn-outline" onclick="document.querySelector('#kid-cashout-confirm input[type=range]').value=200; updateCashoutAmount(200);" style="padding: 6px 14px; font-size: 13px;">200 pts</button>
                </div>
                <p style="font-size: 14px; color: var(--text-secondary); margin-bottom: 24px;"><span class="parent-role">Parent</span> will be notified to confirm</p>
                <button class="btn btn-success" onclick="showCelebration('chore-complete'); setTimeout(function(){ navigateTo('kid-cashout-pending'); }, 800);">
                    <i class="fas fa-dollar-sign"></i> Request Cash Out
                </button>
                <button class="btn btn-outline" onclick="navigateTo('kid-points')" style="margin-top: 12px;">Cancel</button>
            </div>
        </div>

        <!-- SCREEN: KID CASHOUT PENDING (Step 2: Waiting for Parent) -->
        <div id="kid-cashout-pending" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-points')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Cash-Out Status</h1>
                    <p>100 pts  $5.00</p>
                </div>
            </div>
            <div class="content" style="display: flex; flex-direction: column; align-items: center; text-align: center; padding-top: 24px;">
                <div style="font-size: 64px; margin-bottom: 16px;"></div>
                <h2 style="font-size: 22px; color: var(--text); margin-bottom: 8px;">Pending Cash!</h2>
                <p style="font-size: 14px; color: var(--text-secondary); margin-bottom: 24px;">Waiting for <span class="parent-role">Parent</span> to confirm payment</p>
                <div style="width: 100%; max-width: 280px; text-align: left;">
                    <div class="cashout-status-step">
                        <div class="cashout-status-dot done"><i class="fas fa-check"></i></div>
                        <span style="font-size: 14px; color: var(--text);">Requested</span>
                        <span style="font-size: 11px; color: var(--text-secondary); margin-left: auto;">Just now</span>
                    </div>
                    <div class="cashout-status-line"></div>
                    <div class="cashout-status-step">
                        <div class="cashout-status-dot active"><i class="fas fa-spinner fa-spin" style="font-size: 10px;"></i></div>
                        <span style="font-size: 14px; color: var(--text);">Waiting for <span class="parent-role">Parent</span></span>
                    </div>
                    <div class="cashout-status-line"></div>
                    <div class="cashout-status-step">
                        <div class="cashout-status-dot"></div>
                        <span style="font-size: 14px; color: var(--text-secondary);"><span class="parent-role">Parent</span> confirms paid</span>
                    </div>
                    <div class="cashout-status-line"></div>
                    <div class="cashout-status-step">
                        <div class="cashout-status-dot"></div>
                        <span style="font-size: 14px; color: var(--text-secondary);">You confirm received</span>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="navigateTo('kid-points')" style="margin-top: 32px;">Back to Points</button>
                <!-- Demo: simulate parent approved + paid -->
                <button class="btn btn-outline" onclick="navigateTo('kid-cashout-paid')" style="margin-top: 12px; font-size: 13px;">
                    <i class="fas fa-forward"></i> Demo: <span class="parent-role">Parent</span> marks paid
                </button>
            </div>
        </div>

        <!-- SCREEN: KID CASHOUT PAID (Step 3: Parent paid, kid confirms) -->
        <div id="kid-cashout-paid" class="screen">
            <div class="header">
                <div class="header-top-row">
                    <div class="header-top-left">
                        <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-points')"></i>
                    </div>
                    <div class="header-top-right"></div>
                </div>
                <div class="header-title-row">
                    <h1>Cash-Out Status</h1>
                    <p>100 pts  $5.00</p>
                </div>
            </div>
            <div class="content" style="display: flex; flex-direction: column; align-items: center; text-align: center; padding-top: 24px;">
                <div style="font-size: 64px; margin-bottom: 16px;"></div>
                <h2 style="font-size: 22px; color: #28a745; margin-bottom: 8px;"><span class="parent-role">Parent</span> sent your cash!</h2>
                <p style="font-size: 14px; color: var(--text-secondary); margin-bottom: 24px;">Confirm once you've received $5.00</p>
                <div style="width: 100%; max-width: 280px; text-align: left;">
                    <div class="cashout-status-step">
                        <div class="cashout-status-dot done"><i class="fas fa-check"></i></div>
                        <span style="font-size: 14px; color: var(--text);">Requested</span>
                    </div>
                    <div class="cashout-status-line done"></div>
                    <div class="cashout-status-step">
                        <div class="cashout-status-dot done"><i class="fas fa-check"></i></div>
                        <span style="font-size: 14px; color: var(--text);"><span class="parent-role">Parent</span> approved</span>
                    </div>
                    <div class="cashout-status-line done"></div>
                    <div class="cashout-status-step">
                        <div class="cashout-status-dot done"><i class="fas fa-check"></i></div>
                        <span style="font-size: 14px; color: var(--text);"><span class="parent-role">Parent</span> marked paid</span>
                    </div>
                    <div class="cashout-status-line"></div>
                    <div class="cashout-status-step">
                        <div class="cashout-status-dot active" style="background: #28a745; border-color: #28a745;"><i class="fas fa-hand-holding-dollar" style="font-size: 10px;"></i></div>
                        <span style="font-size: 14px; font-weight: 600; color: var(--text);">Confirm you received it</span>
                    </div>
                </div>
                <button class="btn btn-success" onclick="showCelebration('reward-redeemed'); showToast('Cash received! $5.00 confirmed.'); setTimeout(function(){ navigateTo('kid-points'); }, 1500);" style="margin-top: 24px; font-size: 16px; padding: 16px;">
                    <i class="fas fa-check-circle"></i> Yes, I received $5.00!
                </button>
                <button class="btn btn-outline" onclick="navigateTo('kid-points')" style="margin-top: 12px;">Not yet  check later</button>
            </div>
        </div>

        <!-- SCREEN: KID REDEEM CONFIRM -->
        <div id="kid-redeem-confirm" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-rewards')"></i>
                <h1>Confirm Redemption</h1>
                <p>Almost there!</p>
            </div>
            <div class="content" style="text-align: center; padding-top: 40px;">
                <div style="font-size: 64px; margin-bottom: 16px;"></div>
                <h2 style="font-size: 22px; color: var(--text); margin-bottom: 8px;">Redeem Movie Night?</h2>
                <div style="font-size: 28px; font-weight: 700; color: var(--accent); margin-bottom: 8px;">50 points</div>
                <p style="font-size: 14px; color: var(--text-secondary); margin-bottom: 8px;">You'll have 85 points remaining</p>
                <p style="font-size: 13px; color: var(--text-secondary); margin-bottom: 32px;"><span class="parent-role">Parent</span> will be notified to fulfill this reward</p>
                <button class="btn btn-primary" onclick="showCelebration('reward-redeemed'); showToast('Reward redeemed!'); setTimeout(function(){ navigateTo('kid-rewards'); }, 1200);">
                    <i class="fas fa-star"></i> Redeem
                </button>
                <button class="btn btn-outline" onclick="navigateTo('kid-rewards')" style="margin-top: 12px;">Cancel</button>
            </div>
        </div>

        <!-- SCREEN 18: EDUCATION HUB (POST-MVP) -->
        <div id="education-hub" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-chores')"></i>
                <h1>Education Hub</h1>
                <p>Earn points for schoolwork</p>
                <span class="badge badge-post-mvp scope-tag">POST-MVP</span>
            </div>
            <div class="content">
                <div class="section-header">
                    <div class="section-title">Connected Accounts</div>
                </div>

                <div class="card">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                        <div style="font-size: 32px;"></div>
                        <div style="flex: 1;">
                            <div class="card-title">Khan Academy</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">Connected as Maggie J.</div>
                        </div>
                        <i class="fas fa-check-circle" style="color: #28a745; font-size: 24px;"></i>
                    </div>
                </div>

                <div class="card">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="font-size: 32px;"></div>
                        <div style="flex: 1;">
                            <div class="card-title">Google Classroom</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">Not connected</div>
                        </div>
                        <button class="btn btn-secondary" style="padding: 8px 16px; width: auto; font-size: 14px;">Connect</button>
                    </div>
                </div>

                <div class="card">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div style="font-size: 32px;"></div>
                        <div style="flex: 1;">
                            <div class="card-title">Canvas LMS</div>
                            <div style="font-size: 13px; color: var(--text-secondary);">Not connected</div>
                        </div>
                        <button class="btn btn-secondary" style="padding: 8px 16px; width: auto; font-size: 14px;">Connect</button>
                    </div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-top: 8px; padding-left: 44px;">
                        <i class="fas fa-info-circle"></i> Requires school approval
                    </div>
                </div>

                <div class="section-header" style="margin-top: 30px;">
                    <div class="section-title">Recent Education Points</div>
                </div>

                <div class="activity-item">
                    <div class="activity-icon completed">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Khan Academy: Algebra Basics  completed 3 exercises</div>
                        <div class="activity-time">Today  +15 pts</div>
                    </div>
                </div>

                <div class="activity-item">
                    <div class="activity-icon completed">
                        <i class="fas fa-video"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Khan Academy: Biology  watched 2 videos</div>
                        <div class="activity-time">Yesterday  +10 pts</div>
                    </div>
                </div>

                <div class="activity-item" style="opacity: 0.6;">
                    <div class="activity-icon" style="background: #f0f0f0; color: #999;">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Google Classroom: Math Homework submitted</div>
                        <div class="activity-time">2 days ago  +20 pts (example)</div>
                    </div>
                </div>

                <div class="card" style="margin-top: 20px;">
                    <div class="stat-grid">
                        <div class="mini-stat">
                            <div class="mini-stat-value">25</div>
                            <div class="mini-stat-label">Education This Week</div>
                        </div>
                        <div class="mini-stat">
                            <div class="mini-stat-value">135</div>
                            <div class="mini-stat-label">Chores This Week</div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 16px; padding-top: 16px; border-top: 1px solid var(--border);">
                        <div style="font-size: 28px; font-weight: 700; color: var(--secondary);">160 pts</div>
                        <div style="font-size: 13px; color: var(--text-secondary);">Total Points This Week</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SCREEN 19: ACHIEVEMENTS/BADGES (POST-MVP) -->
        <div id="achievements" class="screen">
            <div class="header">
                <i class="fas fa-arrow-left back-btn" onclick="navigateTo('kid-chores')"></i>
                <h1>Achievements</h1>
                <p>Badges & milestones</p>
                <span class="badge badge-post-mvp scope-tag">POST-MVP</span>
            </div>
            <div class="content">
                <div class="coming-soon-overlay">
                    <i class="fas fa-trophy"></i>
                    <h2>Coming Soon!</h2>
                    <p>Unlock badges, track streaks, and earn special rewards for hitting milestones.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentRole = 'kid';
        let currentTheme = 'ocean';
        let isDarkMode = false;
        let parentRoleLabel = 'Parent'; // Dynamic  set by role selection (Dad/Mom/Guardian/Relative)

        // =============================================
        // ANIMATED SVG ASSET MAPS
        // =============================================

        const MASCOT_SVGS = {
          octopus: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Octopus (Default Mascot)  Friendly, clever, multi-tasking -->
  <defs>
    <linearGradient id="m-octopus-octoBody" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#6C5CE7"/>
      <stop offset="100%" stop-color="#A855F7"/>
    </linearGradient>
    <linearGradient id="m-octopus-octoBodyDark" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#5B4BD5"/>
      <stop offset="100%" stop-color="#8B3FCF"/>
    </linearGradient>
    <radialGradient id="m-octopus-octoCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.5"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-octopus-octoShadow">
      <feDropShadow dx="0" dy="6" stdDeviation="8" flood-color="#3B1F7A" flood-opacity="0.2"/>
    </filter>
  </defs>

  <style>
    /* Tentacle wave animations */
    @keyframes octo-tentacle-wave-1 {
      0%, 100% { transform: rotate(-3deg); }
      50% { transform: rotate(3deg); }
    }
    @keyframes octo-tentacle-wave-2 {
      0%, 100% { transform: rotate(3deg); }
      50% { transform: rotate(-3deg); }
    }
    @keyframes octo-tentacle-wave-3 {
      0%, 100% { transform: rotate(-2deg); }
      50% { transform: rotate(2deg); }
    }
    @keyframes octo-tentacle-wave-4 {
      0%, 100% { transform: rotate(2deg); }
      50% { transform: rotate(-2deg); }
    }

    .octo-tentacle-back-left {
      transform-origin: 120px 260px;
      animation: octo-tentacle-wave-1 2.5s ease-in-out infinite;
    }
    .octo-tentacle-back-right {
      transform-origin: 280px 260px;
      animation: octo-tentacle-wave-2 2.5s ease-in-out infinite;
    }
    .octo-tentacle-side-left {
      transform-origin: 135px 270px;
      animation: octo-tentacle-wave-2 2.8s ease-in-out infinite;
      animation-delay: 0.2s;
    }
    .octo-tentacle-side-right {
      transform-origin: 265px 270px;
      animation: octo-tentacle-wave-1 2.8s ease-in-out infinite;
      animation-delay: 0.2s;
    }
    .octo-tentacle-front-left {
      transform-origin: 155px 275px;
      animation: octo-tentacle-wave-3 3s ease-in-out infinite;
      animation-delay: 0.4s;
    }
    .octo-tentacle-front-right {
      transform-origin: 245px 275px;
      animation: octo-tentacle-wave-4 3s ease-in-out infinite;
      animation-delay: 0.4s;
    }
    .octo-tentacle-center-left {
      transform-origin: 175px 280px;
      animation: octo-tentacle-wave-4 3.2s ease-in-out infinite;
      animation-delay: 0.6s;
    }
    .octo-tentacle-center-right {
      transform-origin: 225px 280px;
      animation: octo-tentacle-wave-3 3.2s ease-in-out infinite;
      animation-delay: 0.6s;
    }

    /* Body bob animation */
    @keyframes octo-bob {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
    .octo-body-bob {
      animation: octo-bob 3s ease-in-out infinite;
    }

    /* Eye blink animation */
    @keyframes octo-blink {
      0%, 90%, 100% { transform: scaleY(1); }
      95% { transform: scaleY(0.1); }
    }
    .octo-eye-left {
      transform-box: fill-box;
      transform-origin: center;
      animation: octo-blink 4s ease-in-out infinite;
    }
    .octo-eye-right {
      transform-box: fill-box;
      transform-origin: center;
      animation: octo-blink 4s ease-in-out infinite;
      animation-delay: 0.05s;
    }

    /* Crown bounce animation */
    @keyframes octo-crown-bounce {
      0%, 100% { transform: translate(200px, 62px) translateY(0); }
      50% { transform: translate(200px, 62px) translateY(-4px); }
    }
    .octo-crown {
      animation: octo-crown-bounce 2s ease-in-out infinite;
    }

    /* Cheek pulse animation */
    @keyframes octo-cheek-pulse {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
    }
    .octo-cheek-left,
    .octo-cheek-right {
      animation: octo-cheek-pulse 2s ease-in-out infinite;
    }
    .octo-cheek-right {
      animation-delay: 0.3s;
    }
  </style>

  <!-- Body shadow -->
  <ellipse cx="200" cy="370" rx="90" ry="12" fill="#3B1F7A" opacity="0.12"/>

  <!-- Tentacles (back layer) -->
  <g class="octo-body-bob">
    <g filter="url(#m-octopus-octoShadow)">
      <!-- Back tentacles -->
      <g class="octo-tentacle-back-left">
        <path d="M120 260 Q95 310 80 340 Q75 355 85 355 Q95 355 100 340 Q110 310 130 270" fill="url(#m-octopus-octoBodyDark)" stroke="none"/>
      </g>
      <g class="octo-tentacle-back-right">
        <path d="M280 260 Q305 310 320 340 Q325 355 315 355 Q305 355 300 340 Q290 310 270 270" fill="url(#m-octopus-octoBodyDark)" stroke="none"/>
      </g>

      <!-- Side tentacles -->
      <g class="octo-tentacle-side-left">
        <path d="M135 270 Q110 320 100 350 Q95 368 108 365 Q118 362 120 345 Q125 315 145 275" fill="url(#m-octopus-octoBody)" stroke="none"/>
      </g>
      <g class="octo-tentacle-side-right">
        <path d="M265 270 Q290 320 300 350 Q305 368 292 365 Q282 362 280 345 Q275 315 255 275" fill="url(#m-octopus-octoBody)" stroke="none"/>
      </g>

      <!-- Front tentacles -->
      <g class="octo-tentacle-front-left">
        <path d="M155 275 Q140 330 135 355 Q132 372 145 368 Q155 365 152 348 Q150 325 165 280" fill="url(#m-octopus-octoBody)" stroke="none"/>
      </g>
      <g class="octo-tentacle-front-right">
        <path d="M245 275 Q260 330 265 355 Q268 372 255 368 Q245 365 248 348 Q250 325 235 280" fill="url(#m-octopus-octoBody)" stroke="none"/>
      </g>

      <!-- Center front tentacles -->
      <g class="octo-tentacle-center-left">
        <path d="M175 280 Q170 335 168 358 Q166 374 180 370 Q188 368 185 350 Q182 330 185 282" fill="url(#m-octopus-octoBody)" stroke="none"/>
      </g>
      <g class="octo-tentacle-center-right">
        <path d="M225 280 Q230 335 232 358 Q234 374 220 370 Q212 368 215 350 Q218 330 215 282" fill="url(#m-octopus-octoBody)" stroke="none"/>
      </g>
    </g>

    <!-- Suction cups (dots on tentacles) -->
    <g fill="#5B4BD5" opacity="0.3">
      <circle cx="92" cy="335" r="4"/>
      <circle cx="105" cy="345" r="3.5"/>
      <circle cx="308" cy="335" r="4"/>
      <circle cx="295" cy="345" r="3.5"/>
      <circle cx="140" cy="350" r="3.5"/>
      <circle cx="260" cy="350" r="3.5"/>
      <circle cx="170" cy="355" r="3"/>
      <circle cx="230" cy="355" r="3"/>
    </g>

    <!-- Main head/body -->
    <ellipse cx="200" cy="190" rx="120" ry="130" fill="url(#m-octopus-octoBody)" filter="url(#m-octopus-octoShadow)"/>

    <!-- Head dome highlight -->
    <ellipse cx="185" cy="130" rx="70" ry="55" fill="white" opacity="0.08"/>
    <ellipse cx="175" cy="115" rx="35" ry="25" fill="white" opacity="0.06"/>

    <!-- Eyes -->
    <g class="octo-eye-left">
      <ellipse cx="162" cy="185" rx="32" ry="35" fill="white"/>
      <ellipse cx="168" cy="190" rx="16" ry="19" fill="#1B2A4A"/>
      <!-- Eye highlights -->
      <circle cx="174" cy="182" r="7" fill="white" opacity="0.9"/>
      <circle cx="164" cy="194" r="3.5" fill="white" opacity="0.5"/>
    </g>
    <g class="octo-eye-right">
      <ellipse cx="238" cy="185" rx="32" ry="35" fill="white"/>
      <ellipse cx="232" cy="190" rx="16" ry="19" fill="#1B2A4A"/>
      <!-- Eye highlights -->
      <circle cx="238" cy="182" r="7" fill="white" opacity="0.9"/>
      <circle cx="228" cy="194" r="3.5" fill="white" opacity="0.5"/>
    </g>

    <!-- Happy mouth -->
    <path d="M180 225 Q200 245 220 225" fill="none" stroke="#3B1F7A" stroke-width="3.5" stroke-linecap="round"/>

    <!-- Cheek blush -->
    <g class="octo-cheek-left">
      <ellipse cx="140" cy="215" rx="18" ry="12" fill="url(#m-octopus-octoCheek)"/>
    </g>
    <g class="octo-cheek-right">
      <ellipse cx="260" cy="215" rx="18" ry="12" fill="url(#m-octopus-octoCheek)"/>
    </g>

    <!-- Crown/party hat accessory -->
    <g class="octo-crown" transform="translate(200, 62)">
      <polygon points="0,-20 -14,8 14,8" fill="#F18F01"/>
      <polygon points="0,-20 -8,5 8,5" fill="#FFB347" opacity="0.6"/>
      <circle cx="0" cy="-22" r="5" fill="#FFD700"/>
    </g>
  </g>
</svg>`,
          dog: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Dog  Loyal, energetic, tail-wagging -->
  <defs>
    <linearGradient id="m-dog-dogBody" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#D4915E"/>
      <stop offset="100%" stop-color="#B8763E"/>
    </linearGradient>
    <linearGradient id="m-dog-dogDark" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#A66832"/>
      <stop offset="100%" stop-color="#8B5526"/>
    </linearGradient>
    <radialGradient id="m-dog-dogCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.4"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-dog-dogShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#6B3E1A" flood-opacity="0.15"/>
    </filter>
  </defs>

  <style>
    /* Tail wag animation */
    @keyframes dog-wag {
      0%, 100% { transform: rotate(-15deg); }
      50% { transform: rotate(15deg); }
    }
    .dog-tail {
      transform-origin: 285px 280px;
      animation: dog-wag 0.4s ease-in-out infinite;
    }

    /* Ear flop animation */
    @keyframes dog-ear-flop-left {
      0%, 100% { transform: rotate(-15deg) rotate(0deg); }
      50% { transform: rotate(-15deg) rotate(-5deg); }
    }
    @keyframes dog-ear-flop-right {
      0%, 100% { transform: rotate(15deg) rotate(0deg); }
      50% { transform: rotate(15deg) rotate(5deg); }
    }
    .dog-ear-left {
      transform-origin: 115px 120px;
      animation: dog-ear-flop-left 1.5s ease-in-out infinite;
    }
    .dog-ear-right {
      transform-origin: 285px 120px;
      animation: dog-ear-flop-right 1.5s ease-in-out infinite;
      animation-delay: 0.3s;
    }

    /* Tongue bounce animation */
    @keyframes dog-tongue-bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(3px); }
    }
    .dog-tongue {
      transform-box: fill-box;
      transform-origin: center top;
      animation: dog-tongue-bounce 0.8s ease-in-out infinite;
    }

    /* Body wiggle animation */
    @keyframes dog-wiggle {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-3px); }
      75% { transform: translateX(3px); }
    }
    .dog-body-wiggle {
      animation: dog-wiggle 2s ease-in-out infinite;
    }

    /* Bandana sway animation */
    @keyframes dog-bandana-sway {
      0%, 100% { transform: translate(200px, 248px) rotate(0deg); }
      33% { transform: translate(200px, 248px) rotate(-2deg); }
      66% { transform: translate(200px, 248px) rotate(2deg); }
    }
    .dog-bandana {
      animation: dog-bandana-sway 3s ease-in-out infinite;
    }

    /* Eye blink for dog (subtle) */
    @keyframes dog-blink {
      0%, 92%, 100% { transform: scaleY(1); }
      96% { transform: scaleY(0.1); }
    }
    .dog-eyes {
      transform-box: fill-box;
      transform-origin: center;
      animation: dog-blink 5s ease-in-out infinite;
    }
  </style>

  <g class="dog-body-wiggle">
    <!-- Body shadow -->
    <ellipse cx="200" cy="375" rx="80" ry="10" fill="#6B3E1A" opacity="0.1"/>
    <!-- Body -->
    <ellipse cx="200" cy="300" rx="85" ry="70" fill="url(#m-dog-dogBody)" filter="url(#m-dog-dogShadow)"/>
    <!-- Belly patch -->
    <ellipse cx="200" cy="315" rx="50" ry="45" fill="#F2DCC4"/>
    <!-- Front paws -->
    <ellipse cx="155" cy="360" rx="22" ry="18" fill="url(#m-dog-dogBody)"/>
    <ellipse cx="245" cy="360" rx="22" ry="18" fill="url(#m-dog-dogBody)"/>
    <ellipse cx="155" cy="362" rx="16" ry="10" fill="#F2DCC4"/>
    <ellipse cx="245" cy="362" rx="16" ry="10" fill="#F2DCC4"/>
    <!-- Paw toe lines -->
    <g stroke="#C4956A" stroke-width="1.5" fill="none" stroke-linecap="round">
      <path d="M149 362 L149 368"/>
      <path d="M155 362 L155 369"/>
      <path d="M161 362 L161 368"/>
      <path d="M239 362 L239 368"/>
      <path d="M245 362 L245 369"/>
      <path d="M251 362 L251 368"/>
    </g>

    <!-- Tail (wagging!) -->
    <g class="dog-tail">
      <path d="M285 280 Q320 260 330 230 Q335 215 320 225 Q310 240 295 265" fill="url(#m-dog-dogBody)" stroke="none"/>
    </g>

    <!-- Head -->
    <ellipse cx="200" cy="175" rx="95" ry="90" fill="url(#m-dog-dogBody)" filter="url(#m-dog-dogShadow)"/>
    <!-- Head highlight -->
    <ellipse cx="185" cy="140" rx="50" ry="35" fill="white" opacity="0.06"/>

    <!-- Floppy ears -->
    <g class="dog-ear-left">
      <ellipse cx="115" cy="145" rx="35" ry="55" fill="url(#m-dog-dogDark)" transform="rotate(-15, 115, 145)"/>
      <ellipse cx="118" cy="150" rx="20" ry="35" fill="#E8A87C" transform="rotate(-15, 118, 150)" opacity="0.5"/>
    </g>
    <g class="dog-ear-right">
      <ellipse cx="285" cy="145" rx="35" ry="55" fill="url(#m-dog-dogDark)" transform="rotate(15, 285, 145)"/>
      <ellipse cx="282" cy="150" rx="20" ry="35" fill="#E8A87C" transform="rotate(15, 282, 150)" opacity="0.5"/>
    </g>

    <!-- Face patch -->
    <ellipse cx="200" cy="205" rx="50" ry="40" fill="#F2DCC4"/>

    <!-- Eyes -->
    <g class="dog-eyes">
      <ellipse cx="168" cy="175" rx="22" ry="25" fill="white"/>
      <ellipse cx="232" cy="175" rx="22" ry="25" fill="white"/>
      <ellipse cx="172" cy="179" rx="13" ry="15" fill="#3D2512"/>
      <ellipse cx="228" cy="179" rx="13" ry="15" fill="#3D2512"/>
      <circle cx="177" cy="173" r="6" fill="white" opacity="0.9"/>
      <circle cx="233" cy="173" r="6" fill="white" opacity="0.9"/>
      <circle cx="169" cy="183" r="3" fill="white" opacity="0.4"/>
      <circle cx="225" cy="183" r="3" fill="white" opacity="0.4"/>
    </g>

    <!-- Eyebrows -->
    <path d="M150 157 Q165 148 182 155" fill="none" stroke="#8B5526" stroke-width="3" stroke-linecap="round"/>
    <path d="M218 155 Q235 148 250 157" fill="none" stroke="#8B5526" stroke-width="3" stroke-linecap="round"/>

    <!-- Nose -->
    <ellipse cx="200" cy="205" rx="14" ry="10" fill="#3D2512"/>
    <ellipse cx="200" cy="203" rx="6" ry="4" fill="#5A3A1E" opacity="0.4"/>

    <!-- Mouth -->
    <path d="M200 215 L195 225" fill="none" stroke="#6B3E1A" stroke-width="2.5" stroke-linecap="round"/>
    <path d="M200 215 L205 225" fill="none" stroke="#6B3E1A" stroke-width="2.5" stroke-linecap="round"/>
    <path d="M182 225 Q195 235 200 232" fill="none" stroke="#6B3E1A" stroke-width="2.5" stroke-linecap="round"/>
    <path d="M218 225 Q205 235 200 232" fill="none" stroke="#6B3E1A" stroke-width="2.5" stroke-linecap="round"/>

    <!-- Tongue -->
    <g class="dog-tongue">
      <ellipse cx="207" cy="232" rx="8" ry="10" fill="#FF7675"/>
      <path d="M203 230 Q207 234 211 230" fill="none" stroke="#E06665" stroke-width="1"/>
    </g>

    <!-- Cheek blush -->
    <ellipse cx="142" cy="200" rx="16" ry="10" fill="url(#m-dog-dogCheek)"/>
    <ellipse cx="258" cy="200" rx="16" ry="10" fill="url(#m-dog-dogCheek)"/>

    <!-- Challey bandana -->
    <g class="dog-bandana" transform="translate(200, 248)">
      <path d="M-55,-5 Q-30,-15 0,-8 Q30,-15 55,-5 L30,25 Q0,35 -30,25 Z" fill="#2E86AB"/>
      <path d="M-40,-8 Q-20,-15 0,-10 Q20,-15 40,-8 L22,18 Q0,26 -22,18 Z" fill="#3A9BC5" opacity="0.4"/>
      <path d="M-5,5 L0,10 L10,0" fill="none" stroke="#F18F01" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
    </g>
  </g>
</svg>
`,
          cat: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Cat  Curious, independent, clever -->
  <defs>
    <linearGradient id="m-cat-catBody" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#636E72"/>
      <stop offset="100%" stop-color="#4A5459"/>
    </linearGradient>
    <linearGradient id="m-cat-catLight" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#B2BEC3"/>
      <stop offset="100%" stop-color="#95A5A6"/>
    </linearGradient>
    <radialGradient id="m-cat-catCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.35"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-cat-catShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#2D3436" flood-opacity="0.15"/>
    </filter>
  </defs>

  <style>
    /* Tail swish animation */
    @keyframes cat-tail-swish {
      0%, 100% { transform: rotate(-10deg); }
      50% { transform: rotate(10deg); }
    }
    .cat-tail {
      transform-origin: 285px 310px;
      animation: cat-tail-swish 2s ease-in-out infinite;
    }

    /* Ear twitch animation */
    @keyframes cat-ear-twitch {
      0%, 85%, 100% { transform: rotate(0deg); }
      88% { transform: rotate(-6deg); }
      91% { transform: rotate(3deg); }
      94% { transform: rotate(-2deg); }
    }
    .cat-ear-left {
      transform-origin: 130px 130px;
      animation: cat-ear-twitch 3s ease-in-out infinite;
    }
    .cat-ear-right {
      transform-origin: 270px 130px;
      animation: cat-ear-twitch 3s ease-in-out infinite;
      animation-delay: 1.5s;
    }

    /* Slow blink animation */
    @keyframes cat-slow-blink {
      0%, 80%, 100% { transform: scaleY(1); }
      86% { transform: scaleY(0.05); }
      90% { transform: scaleY(0.05); }
      96% { transform: scaleY(1); }
    }
    .cat-eye-left {
      transform-box: fill-box;
      transform-origin: center;
      animation: cat-slow-blink 5s ease-in-out infinite;
    }
    .cat-eye-right {
      transform-box: fill-box;
      transform-origin: center;
      animation: cat-slow-blink 5s ease-in-out infinite;
      animation-delay: 0.05s;
    }

    /* Whisker wiggle animation */
    @keyframes cat-whisker-wiggle {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-1px); }
      75% { transform: translateX(1px); }
    }
    .cat-whiskers {
      animation: cat-whisker-wiggle 1.5s ease-in-out infinite;
    }

    /* Bell swing animation */
    @keyframes cat-bell-swing {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(-5deg); }
      75% { transform: rotate(5deg); }
    }
    .cat-bell {
      transform-origin: 200px 268px;
      animation: cat-bell-swing 1.5s ease-in-out infinite;
    }

    /* Paw knead animation */
    @keyframes cat-paw-knead {
      0%, 100% { transform: scaleY(1); }
      50% { transform: scaleY(0.9); }
    }
    .cat-paw-left {
      transform-box: fill-box;
      transform-origin: center bottom;
      animation: cat-paw-knead 2s ease-in-out infinite;
    }

    /* Body idle breathing */
    @keyframes cat-breathe {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }
    .cat-body-breathe {
      animation: cat-breathe 4s ease-in-out infinite;
    }
  </style>

  <g class="cat-body-breathe">
    <!-- Body shadow -->
    <ellipse cx="200" cy="375" rx="75" ry="10" fill="#2D3436" opacity="0.1"/>

    <!-- Tail -->
    <g class="cat-tail">
      <path d="M285 310 Q330 280 340 240 Q345 210 330 220 Q320 240 310 260 Q295 290 275 305" fill="url(#m-cat-catBody)" stroke="none"/>
    </g>

    <!-- Body -->
    <ellipse cx="200" cy="305" rx="80" ry="65" fill="url(#m-cat-catBody)" filter="url(#m-cat-catShadow)"/>
    <!-- Belly -->
    <ellipse cx="200" cy="320" rx="45" ry="40" fill="#DFE6E9"/>

    <!-- Front paws -->
    <g class="cat-paw-left">
      <ellipse cx="155" cy="360" rx="20" ry="16" fill="url(#m-cat-catBody)"/>
      <ellipse cx="155" cy="362" rx="14" ry="9" fill="#DFE6E9"/>
      <!-- Paw beans left -->
      <g fill="#B2BEC3" opacity="0.5">
        <circle cx="150" cy="363" r="3"/>
        <circle cx="155" cy="365" r="2.5"/>
        <circle cx="160" cy="363" r="3"/>
      </g>
    </g>
    <g>
      <ellipse cx="245" cy="360" rx="20" ry="16" fill="url(#m-cat-catBody)"/>
      <ellipse cx="245" cy="362" rx="14" ry="9" fill="#DFE6E9"/>
      <!-- Paw beans right -->
      <g fill="#B2BEC3" opacity="0.5">
        <circle cx="240" cy="363" r="3"/>
        <circle cx="245" cy="365" r="2.5"/>
        <circle cx="250" cy="363" r="3"/>
      </g>
    </g>

    <!-- Head -->
    <ellipse cx="200" cy="180" rx="90" ry="85" fill="url(#m-cat-catBody)" filter="url(#m-cat-catShadow)"/>
    <ellipse cx="185" cy="140" rx="45" ry="30" fill="white" opacity="0.05"/>

    <!-- Pointed ears -->
    <g class="cat-ear-left">
      <polygon points="130,130 108,55 155,110" fill="url(#m-cat-catBody)"/>
      <polygon points="133,122 116,70 150,112" fill="#E8A0B5" opacity="0.5"/>
    </g>
    <g class="cat-ear-right">
      <polygon points="270,130 292,55 245,110" fill="url(#m-cat-catBody)"/>
      <polygon points="267,122 284,70 250,112" fill="#E8A0B5" opacity="0.5"/>
    </g>

    <!-- Face -->
    <ellipse cx="200" cy="210" rx="42" ry="32" fill="#DFE6E9"/>

    <!-- Eyes -->
    <g class="cat-eye-left">
      <ellipse cx="170" cy="178" rx="22" ry="24" fill="white"/>
      <ellipse cx="172" cy="180" rx="9" ry="16" fill="#2E86AB"/>
      <ellipse cx="172" cy="180" rx="4" ry="14" fill="#1B2A4A"/>
      <circle cx="178" cy="173" r="6" fill="white" opacity="0.85"/>
      <circle cx="168" cy="185" r="3" fill="white" opacity="0.4"/>
    </g>
    <g class="cat-eye-right">
      <ellipse cx="230" cy="178" rx="22" ry="24" fill="white"/>
      <ellipse cx="228" cy="180" rx="9" ry="16" fill="#2E86AB"/>
      <ellipse cx="228" cy="180" rx="4" ry="14" fill="#1B2A4A"/>
      <circle cx="234" cy="173" r="6" fill="white" opacity="0.85"/>
      <circle cx="224" cy="185" r="3" fill="white" opacity="0.4"/>
    </g>

    <!-- Nose -->
    <path d="M194 205 L200 212 L206 205 Z" fill="#FF9FF3"/>
    <!-- Mouth -->
    <path d="M200 212 L193 220" fill="none" stroke="#4A5459" stroke-width="2" stroke-linecap="round"/>
    <path d="M200 212 L207 220" fill="none" stroke="#4A5459" stroke-width="2" stroke-linecap="round"/>

    <!-- Whiskers -->
    <g class="cat-whiskers" stroke="#95A5A6" stroke-width="1.5" fill="none" stroke-linecap="round">
      <line x1="115" y1="195" x2="160" y2="205"/>
      <line x1="110" y1="210" x2="158" y2="212"/>
      <line x1="118" y1="225" x2="162" y2="218"/>
      <line x1="285" y1="195" x2="240" y2="205"/>
      <line x1="290" y1="210" x2="242" y2="212"/>
      <line x1="282" y1="225" x2="238" y2="218"/>
    </g>

    <!-- Cheek blush -->
    <ellipse cx="143" cy="205" rx="15" ry="10" fill="url(#m-cat-catCheek)"/>
    <ellipse cx="257" cy="205" rx="15" ry="10" fill="url(#m-cat-catCheek)"/>

    <!-- Challey collar -->
    <g>
      <path d="M140 250 Q200 270 260 250" fill="none" stroke="#F18F01" stroke-width="6" stroke-linecap="round"/>
      <g class="cat-bell">
        <circle cx="200" cy="268" r="10" fill="#FFD700"/>
        <circle cx="200" cy="268" r="6" fill="#F18F01"/>
        <line x1="200" y1="268" x2="200" y2="275" stroke="#B8763E" stroke-width="1.5"/>
      </g>
    </g>
  </g>
</svg>
`,
          bunny: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Bunny  Sweet, fast, earns points quickly -->
  <defs>
    <linearGradient id="m-bunny-bunnyBody" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FAFAFA"/>
      <stop offset="100%" stop-color="#E8E8E8"/>
    </linearGradient>
    <radialGradient id="m-bunny-bunnyCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FFB8D0" stop-opacity="0.5"/>
      <stop offset="100%" stop-color="#FFB8D0" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-bunny-bunnyShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#B0B0B0" flood-opacity="0.2"/>
    </filter>
  </defs>

  <style>
    /* Hop bounce  whole body */
    @keyframes bunny-hop {
      0%   { transform: translateY(0); }
      30%  { transform: translateY(-12px); }
      50%  { transform: translateY(0); }
      65%  { transform: translateY(2px) scaleY(0.97) scaleX(1.02); }
      80%  { transform: translateY(0) scaleY(1) scaleX(1); }
      100% { transform: translateY(0); }
    }
    .bunny-hop {
      animation: bunny-hop 1.8s ease infinite;
      transform-origin: 200px 378px;
    }

    /* Left ear wiggle */
    @keyframes bunny-ear-left {
      0%   { transform: rotate(-15deg); }
      50%  { transform: rotate(-5deg); }
      100% { transform: rotate(-15deg); }
    }
    .bunny-ear-left {
      animation: bunny-ear-left 2s ease-in-out infinite;
      transform-origin: 160px 155px;
      transform-box: fill-box;
    }

    /* Right ear wiggle */
    @keyframes bunny-ear-right {
      0%   { transform: rotate(5deg); }
      50%  { transform: rotate(15deg); }
      100% { transform: rotate(5deg); }
    }
    .bunny-ear-right {
      animation: bunny-ear-right 2s ease-in-out infinite;
      animation-delay: 0.3s;
      transform-origin: 240px 155px;
      transform-box: fill-box;
    }

    /* Nose twitch */
    @keyframes bunny-nose {
      0%   { transform: scale(1); }
      5%   { transform: scale(1.2); }
      10%  { transform: scale(1); }
      100% { transform: scale(1); }
    }
    .bunny-nose {
      animation: bunny-nose 2s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center;
    }

    /* Tail wiggle */
    @keyframes bunny-tail {
      0%   { transform: translateX(0); }
      25%  { transform: translateX(4px); }
      75%  { transform: translateX(-4px); }
      100% { transform: translateX(0); }
    }
    .bunny-tail {
      animation: bunny-tail 1s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center;
    }

    /* Bow tie spin */
    @keyframes bunny-bowtie {
      0%   { transform: translate(200px, 260px) rotate(-5deg); }
      50%  { transform: translate(200px, 260px) rotate(5deg); }
      100% { transform: translate(200px, 260px) rotate(-5deg); }
    }
    .bunny-bowtie {
      animation: bunny-bowtie 3s ease-in-out infinite;
      transform-origin: 0px 0px;
    }
  </style>

  <g class="bunny-hop">
    <!-- Ground shadow -->
    <ellipse cx="200" cy="378" rx="70" ry="8" fill="#999" opacity="0.08"/>

    <!-- Body -->
    <ellipse cx="200" cy="310" rx="78" ry="65" fill="url(#m-bunny-bunnyBody)" filter="url(#m-bunny-bunnyShadow)" stroke="#DDD" stroke-width="1"/>
    <ellipse cx="200" cy="318" rx="45" ry="38" fill="#FFF5F5"/>

    <!-- Tail -->
    <g class="bunny-tail">
      <circle cx="275" cy="320" r="18" fill="white" stroke="#E0E0E0" stroke-width="1"/>
    </g>

    <!-- Legs and feet -->
    <ellipse cx="158" cy="360" rx="18" ry="14" fill="url(#m-bunny-bunnyBody)" stroke="#DDD" stroke-width="0.8"/>
    <ellipse cx="242" cy="360" rx="18" ry="14" fill="url(#m-bunny-bunnyBody)" stroke="#DDD" stroke-width="0.8"/>
    <ellipse cx="148" cy="372" rx="25" ry="10" fill="url(#m-bunny-bunnyBody)" stroke="#DDD" stroke-width="0.8"/>
    <ellipse cx="252" cy="372" rx="25" ry="10" fill="url(#m-bunny-bunnyBody)" stroke="#DDD" stroke-width="0.8"/>
    <ellipse cx="148" cy="374" rx="16" ry="6" fill="#FFE0E8"/>
    <ellipse cx="252" cy="374" rx="16" ry="6" fill="#FFE0E8"/>

    <!-- Head -->
    <ellipse cx="200" cy="190" rx="82" ry="80" fill="url(#m-bunny-bunnyBody)" filter="url(#m-bunny-bunnyShadow)" stroke="#DDD" stroke-width="1"/>
    <ellipse cx="185" cy="150" rx="40" ry="28" fill="white" opacity="0.3"/>

    <!-- Left ear -->
    <g class="bunny-ear-left">
      <ellipse cx="160" cy="80" rx="24" ry="75" fill="url(#m-bunny-bunnyBody)" stroke="#DDD" stroke-width="1" transform="rotate(-10, 160, 80)"/>
      <ellipse cx="160" cy="80" rx="14" ry="55" fill="#FFB8D0" opacity="0.5" transform="rotate(-10, 160, 80)"/>
    </g>

    <!-- Right ear -->
    <g class="bunny-ear-right">
      <ellipse cx="240" cy="80" rx="24" ry="75" fill="url(#m-bunny-bunnyBody)" stroke="#DDD" stroke-width="1" transform="rotate(10, 240, 80)"/>
      <ellipse cx="240" cy="80" rx="14" ry="55" fill="#FFB8D0" opacity="0.5" transform="rotate(10, 240, 80)"/>
    </g>

    <!-- Eyes -->
    <ellipse cx="172" cy="185" rx="22" ry="25" fill="white" stroke="#DDD" stroke-width="0.5"/>
    <ellipse cx="228" cy="185" rx="22" ry="25" fill="white" stroke="#DDD" stroke-width="0.5"/>
    <ellipse cx="176" cy="189" rx="13" ry="16" fill="#1B2A4A"/>
    <ellipse cx="224" cy="189" rx="13" ry="16" fill="#1B2A4A"/>
    <circle cx="181" cy="182" r="6" fill="white" opacity="0.9"/>
    <circle cx="229" cy="182" r="6" fill="white" opacity="0.9"/>
    <circle cx="173" cy="193" r="3" fill="white" opacity="0.4"/>
    <circle cx="221" cy="193" r="3" fill="white" opacity="0.4"/>

    <!-- Nose -->
    <g class="bunny-nose">
      <path d="M195 212 L200 218 L205 212 Z" fill="#FFB8D0"/>
    </g>

    <!-- Mouth -->
    <path d="M200 218 L200 225" fill="none" stroke="#C0C0C0" stroke-width="2" stroke-linecap="round"/>
    <path d="M190 228 Q200 235 210 228" fill="none" stroke="#C0C0C0" stroke-width="2" stroke-linecap="round"/>

    <!-- Whiskers -->
    <g stroke="#D0D0D0" stroke-width="1.2" fill="none" stroke-linecap="round">
      <line x1="125" y1="205" x2="163" y2="215"/>
      <line x1="120" y1="220" x2="162" y2="222"/>
      <line x1="275" y1="205" x2="237" y2="215"/>
      <line x1="280" y1="220" x2="238" y2="222"/>
    </g>

    <!-- Buck teeth -->
    <rect x="194" y="225" width="5" height="7" rx="2" fill="white" stroke="#DDD" stroke-width="0.8"/>
    <rect x="201" y="225" width="5" height="7" rx="2" fill="white" stroke="#DDD" stroke-width="0.8"/>

    <!-- Cheek blush -->
    <ellipse cx="148" cy="210" rx="16" ry="10" fill="url(#m-bunny-bunnyCheek)"/>
    <ellipse cx="252" cy="210" rx="16" ry="10" fill="url(#m-bunny-bunnyCheek)"/>

    <!-- Bow tie -->
    <g class="bunny-bowtie">
      <polygon points="-20,-8 0,0 -20,8" fill="#2E86AB"/>
      <polygon points="20,-8 0,0 20,8" fill="#2E86AB"/>
      <circle cx="0" cy="0" r="5" fill="#F18F01"/>
    </g>
  </g>
</svg>`,
          hamster: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Hamster  Adorable, chubby, collector (hoards points!) -->
  <defs>
    <linearGradient id="m-hamster-hamBody" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FDCB6E"/>
      <stop offset="100%" stop-color="#E8A930"/>
    </linearGradient>
    <radialGradient id="m-hamster-hamCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.5"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-hamster-hamShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#A67C20" flood-opacity="0.15"/>
    </filter>
  </defs>

  <style>
    /* Body wobble  whole character */
    @keyframes ham-wobble {
      0%   { transform: rotate(0deg); }
      25%  { transform: rotate(-2deg); }
      75%  { transform: rotate(2deg); }
      100% { transform: rotate(0deg); }
    }
    .ham-wobble {
      animation: ham-wobble 2.5s ease-in-out infinite;
      transform-origin: 200px 300px;
    }

    /* Cheek puff  left */
    @keyframes ham-cheek-left {
      0%   { transform: scaleX(1); }
      50%  { transform: scaleX(1.1); }
      100% { transform: scaleX(1); }
    }
    .ham-cheek-left {
      animation: ham-cheek-left 2s ease-in-out infinite;
      transform-origin: 140px 210px;
    }

    /* Cheek puff  right */
    @keyframes ham-cheek-right {
      0%   { transform: scaleX(1); }
      50%  { transform: scaleX(1.1); }
      100% { transform: scaleX(1); }
    }
    .ham-cheek-right {
      animation: ham-cheek-right 2s ease-in-out infinite;
      transform-origin: 260px 210px;
    }

    /* Ear wiggle  both ears twitch */
    @keyframes ham-ear {
      0%   { transform: translateY(0); }
      5%   { transform: translateY(-3px); }
      10%  { transform: translateY(0); }
      100% { transform: translateY(0); }
    }
    .ham-ear-left {
      animation: ham-ear 3s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center;
    }
    .ham-ear-right {
      animation: ham-ear 3s ease-in-out infinite;
      animation-delay: 0.15s;
      transform-box: fill-box;
      transform-origin: center;
    }

    /* Seed sparkle  star opacity pulse */
    @keyframes ham-sparkle {
      0%   { opacity: 0.5; }
      50%  { opacity: 1; }
      100% { opacity: 0.5; }
    }
    .ham-sparkle {
      animation: ham-sparkle 1.5s ease-in-out infinite;
    }

    /* Nose twitch */
    @keyframes ham-nose {
      0%   { transform: scale(1); }
      4%   { transform: scale(1.15); }
      8%   { transform: scale(1); }
      100% { transform: scale(1); }
    }
    .ham-nose {
      animation: ham-nose 2.5s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center;
    }
  </style>

  <g class="ham-wobble">
    <!-- Ground shadow -->
    <ellipse cx="200" cy="378" rx="75" ry="8" fill="#A67C20" opacity="0.1"/>

    <!-- Body -->
    <ellipse cx="200" cy="300" rx="85" ry="72" fill="url(#m-hamster-hamBody)" filter="url(#m-hamster-hamShadow)"/>
    <ellipse cx="200" cy="315" rx="52" ry="42" fill="#FFF5E0"/>

    <!-- Hands -->
    <ellipse cx="152" cy="330" rx="15" ry="12" fill="url(#m-hamster-hamBody)"/>
    <ellipse cx="248" cy="330" rx="15" ry="12" fill="url(#m-hamster-hamBody)"/>
    <ellipse cx="152" cy="332" rx="10" ry="7" fill="#FFF5E0"/>
    <ellipse cx="248" cy="332" rx="10" ry="7" fill="#FFF5E0"/>

    <!-- Feet -->
    <ellipse cx="160" cy="365" rx="16" ry="10" fill="url(#m-hamster-hamBody)"/>
    <ellipse cx="240" cy="365" rx="16" ry="10" fill="url(#m-hamster-hamBody)"/>
    <ellipse cx="160" cy="367" rx="10" ry="6" fill="#FFE0B8"/>
    <ellipse cx="240" cy="367" rx="10" ry="6" fill="#FFE0B8"/>

    <!-- Head -->
    <ellipse cx="200" cy="185" rx="90" ry="88" fill="url(#m-hamster-hamBody)" filter="url(#m-hamster-hamShadow)"/>
    <ellipse cx="180" cy="140" rx="45" ry="32" fill="white" opacity="0.08"/>

    <!-- Head stripe -->
    <path d="M170 100 Q200 95 230 100 Q215 115 200 120 Q185 115 170 100" fill="#C4880C" opacity="0.4"/>

    <!-- Left ear -->
    <g class="ham-ear-left">
      <circle cx="128" cy="125" r="28" fill="url(#m-hamster-hamBody)"/>
      <circle cx="130" cy="127" r="17" fill="#FFB8D0" opacity="0.5"/>
    </g>

    <!-- Right ear -->
    <g class="ham-ear-right">
      <circle cx="272" cy="125" r="28" fill="url(#m-hamster-hamBody)"/>
      <circle cx="270" cy="127" r="17" fill="#FFB8D0" opacity="0.5"/>
    </g>

    <!-- Poofy cheeks -->
    <g class="ham-cheek-left">
      <ellipse cx="140" cy="210" rx="35" ry="30" fill="#FDCB6E"/>
    </g>
    <g class="ham-cheek-right">
      <ellipse cx="260" cy="210" rx="35" ry="30" fill="#FDCB6E"/>
    </g>

    <!-- Face -->
    <ellipse cx="200" cy="215" rx="38" ry="30" fill="#FFF5E0"/>

    <!-- Eyes -->
    <ellipse cx="175" cy="185" rx="17" ry="19" fill="white"/>
    <ellipse cx="225" cy="185" rx="17" ry="19" fill="white"/>
    <ellipse cx="178" cy="188" rx="11" ry="13" fill="#1B2A4A"/>
    <ellipse cx="222" cy="188" rx="11" ry="13" fill="#1B2A4A"/>
    <circle cx="182" cy="182" r="5" fill="white" opacity="0.9"/>
    <circle cx="226" cy="182" r="5" fill="white" opacity="0.9"/>
    <circle cx="175" cy="191" r="2.5" fill="white" opacity="0.4"/>
    <circle cx="219" cy="191" r="2.5" fill="white" opacity="0.4"/>

    <!-- Nose -->
    <g class="ham-nose">
      <ellipse cx="200" cy="210" rx="8" ry="6" fill="#FF9FF3"/>
    </g>

    <!-- Mouth -->
    <path d="M192 218 Q200 226 208 218" fill="none" stroke="#C4880C" stroke-width="2" stroke-linecap="round"/>

    <!-- Whiskers -->
    <g stroke="#D4A830" stroke-width="1" fill="none" stroke-linecap="round">
      <line x1="120" y1="210" x2="165" y2="215"/>
      <line x1="118" y1="222" x2="164" y2="220"/>
      <line x1="280" y1="210" x2="235" y2="215"/>
      <line x1="282" y1="222" x2="236" y2="220"/>
    </g>

    <!-- Buck teeth -->
    <rect x="196" y="222" width="4" height="5" rx="1.5" fill="white" stroke="#DDD" stroke-width="0.6"/>
    <rect x="201" y="222" width="4" height="5" rx="1.5" fill="white" stroke="#DDD" stroke-width="0.6"/>

    <!-- Cheek blush -->
    <ellipse cx="135" cy="218" rx="20" ry="12" fill="url(#m-hamster-hamCheek)"/>
    <ellipse cx="265" cy="218" rx="20" ry="12" fill="url(#m-hamster-hamCheek)"/>

    <!-- Sunflower seed -->
    <g transform="translate(200, 332)">
      <ellipse cx="0" cy="0" rx="10" ry="7" fill="#8B6914" transform="rotate(-15)"/>
      <ellipse cx="0" cy="-1" rx="6" ry="4" fill="#A67C20" opacity="0.5" transform="rotate(-15)"/>
      <path class="ham-sparkle" d="M0,-4 L1.5,-1 L4.5,-1 L2,1 L3,4 L0,2 L-3,4 L-2,1 L-4.5,-1 L-1.5,-1 Z" fill="#F18F01" opacity="0.8" transform="scale(0.7)"/>
    </g>
  </g>
</svg>`,
          parrot: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Parrot  Chatty, colorful, encouraging -->
  <defs>
    <linearGradient id="m-parrot-parrotBody" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#00B894"/>
      <stop offset="100%" stop-color="#00896A"/>
    </linearGradient>
    <linearGradient id="m-parrot-parrotWing" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#0984E3"/>
      <stop offset="100%" stop-color="#0670C4"/>
    </linearGradient>
    <linearGradient id="m-parrot-parrotHead" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FDCB6E"/>
      <stop offset="100%" stop-color="#F0B429"/>
    </linearGradient>
    <radialGradient id="m-parrot-parrotCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.4"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-parrot-parrotShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#005A42" flood-opacity="0.15"/>
    </filter>
  </defs>

  <style>
    /* Wing flap  left wing */
    @keyframes parrot-flap-left {
      0%   { transform: rotate(0deg); }
      25%  { transform: rotate(-5deg); }
      75%  { transform: rotate(5deg); }
      100% { transform: rotate(0deg); }
    }
    .parrot-wing-left {
      animation: parrot-flap-left 0.8s ease-in-out infinite;
      transform-origin: 140px 260px;
    }

    /* Wing flap  right wing */
    @keyframes parrot-flap-right {
      0%   { transform: rotate(0deg); }
      25%  { transform: rotate(5deg); }
      75%  { transform: rotate(-5deg); }
      100% { transform: rotate(0deg); }
    }
    .parrot-wing-right {
      animation: parrot-flap-right 0.8s ease-in-out infinite;
      transform-origin: 260px 260px;
    }

    /* Crest sway  feather 1 (red) */
    @keyframes parrot-crest-1 {
      0%   { transform: translateX(0); }
      50%  { transform: translateX(-3px); }
      100% { transform: translateX(0); }
    }
    .parrot-crest-1 {
      animation: parrot-crest-1 2s ease-in-out infinite;
    }

    /* Crest sway  feather 2 (yellow) */
    @keyframes parrot-crest-2 {
      0%   { transform: translateX(0); }
      50%  { transform: translateX(3px); }
      100% { transform: translateX(0); }
    }
    .parrot-crest-2 {
      animation: parrot-crest-2 2s ease-in-out infinite;
      animation-delay: 0.3s;
    }

    /* Crest sway  feather 3 (green) */
    @keyframes parrot-crest-3 {
      0%   { transform: translateX(0); }
      50%  { transform: translateX(-3px); }
      100% { transform: translateX(0); }
    }
    .parrot-crest-3 {
      animation: parrot-crest-3 2s ease-in-out infinite;
      animation-delay: 0.6s;
    }

    /* Head bob  side-to-side tilt */
    @keyframes parrot-head-bob {
      0%   { transform: rotate(0deg); }
      25%  { transform: rotate(-3deg); }
      75%  { transform: rotate(3deg); }
      100% { transform: rotate(0deg); }
    }
    .parrot-head {
      animation: parrot-head-bob 2s ease-in-out infinite;
      transform-origin: 200px 220px;
    }

    /* Tail fan  sway opposite to body */
    @keyframes parrot-tail {
      0%   { transform: rotate(0deg); }
      25%  { transform: rotate(3deg); }
      75%  { transform: rotate(-3deg); }
      100% { transform: rotate(0deg); }
    }
    .parrot-tail {
      animation: parrot-tail 2.5s ease-in-out infinite;
      transform-origin: 180px 340px;
    }

    /* Badge spin */
    @keyframes parrot-badge-spin {
      0%   { transform: translate(200px, 280px) rotate(0deg); }
      100% { transform: translate(200px, 280px) rotate(360deg); }
    }
    .parrot-badge {
      animation: parrot-badge-spin 6s linear infinite;
      transform-origin: 0px 0px;
    }

    /* Beak open  talking */
    @keyframes parrot-beak {
      0%   { transform: scaleY(1); }
      40%  { transform: scaleY(1.05); }
      60%  { transform: scaleY(1.05); }
      100% { transform: scaleY(1); }
    }
    .parrot-beak {
      animation: parrot-beak 1s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center top;
    }
  </style>

  <!-- Ground shadow -->
  <ellipse cx="200" cy="378" rx="65" ry="8" fill="#005A42" opacity="0.1"/>

  <!-- Tail feathers -->
  <g class="parrot-tail">
    <path d="M160 340 Q140 380 125 395" fill="none" stroke="#E17055" stroke-width="10" stroke-linecap="round"/>
    <path d="M175 340 Q165 385 155 398" fill="none" stroke="#00B894" stroke-width="10" stroke-linecap="round"/>
    <path d="M190 340 Q188 388 185 398" fill="none" stroke="#0984E3" stroke-width="10" stroke-linecap="round"/>
  </g>

  <!-- Body -->
  <ellipse cx="200" cy="290" rx="70" ry="75" fill="url(#m-parrot-parrotBody)" filter="url(#m-parrot-parrotShadow)"/>
  <ellipse cx="200" cy="305" rx="42" ry="48" fill="#55EFC4" opacity="0.4"/>

  <!-- Left wing -->
  <g class="parrot-wing-left">
    <path d="M130 260 Q110 300 120 340 Q135 325 140 290 Q145 265 140 255" fill="url(#m-parrot-parrotWing)"/>
    <path d="M122 315 Q130 320 138 310" fill="none" stroke="#0670C4" stroke-width="1.5" opacity="0.4"/>
    <path d="M125 300 Q132 305 139 296" fill="none" stroke="#0670C4" stroke-width="1.5" opacity="0.4"/>
  </g>

  <!-- Right wing -->
  <g class="parrot-wing-right">
    <path d="M270 260 Q290 300 280 340 Q265 325 260 290 Q255 265 260 255" fill="url(#m-parrot-parrotWing)"/>
    <path d="M278 315 Q270 320 262 310" fill="none" stroke="#0670C4" stroke-width="1.5" opacity="0.4"/>
    <path d="M275 300 Q268 305 261 296" fill="none" stroke="#0670C4" stroke-width="1.5" opacity="0.4"/>
  </g>

  <!-- Feet -->
  <g fill="#E8A930" stroke="#D49520" stroke-width="1.5">
    <path d="M170 360 L160 375 M170 360 L170 378 M170 360 L180 375" fill="none"/>
    <path d="M230 360 L220 375 M230 360 L230 378 M230 360 L240 375" fill="none"/>
  </g>

  <!-- Head group (bob animation) -->
  <g class="parrot-head">
    <!-- Head -->
    <ellipse cx="200" cy="170" rx="75" ry="72" fill="url(#m-parrot-parrotHead)" filter="url(#m-parrot-parrotShadow)"/>

    <!-- Crest feathers -->
    <path class="parrot-crest-1" d="M200 100 Q195 65 180 50" fill="none" stroke="#E17055" stroke-width="6" stroke-linecap="round"/>
    <path class="parrot-crest-2" d="M205 100 Q210 60 215 42" fill="none" stroke="#FDCB6E" stroke-width="6" stroke-linecap="round"/>
    <path class="parrot-crest-3" d="M210 102 Q225 70 240 58" fill="none" stroke="#00B894" stroke-width="6" stroke-linecap="round"/>

    <!-- Green cap -->
    <path d="M140 150 Q200 115 260 150" fill="url(#m-parrot-parrotBody)" opacity="0.6"/>

    <!-- Eyes -->
    <circle cx="175" cy="168" r="20" fill="white"/>
    <circle cx="225" cy="168" r="20" fill="white"/>
    <circle cx="178" cy="170" r="12" fill="#1B2A4A"/>
    <circle cx="222" cy="170" r="12" fill="#1B2A4A"/>
    <circle cx="175" cy="168" r="20" fill="none" stroke="white" stroke-width="3"/>
    <circle cx="225" cy="168" r="20" fill="none" stroke="white" stroke-width="3"/>
    <circle cx="182" cy="164" r="5" fill="white" opacity="0.9"/>
    <circle cx="226" cy="164" r="5" fill="white" opacity="0.9"/>

    <!-- Beak -->
    <g class="parrot-beak">
      <path d="M188 195 Q200 190 212 195 Q208 215 200 222 Q192 215 188 195 Z" fill="#E8A930"/>
      <path d="M192 198 Q200 195 208 198 Q206 208 200 212 Q194 208 192 198 Z" fill="#D49520" opacity="0.5"/>
      <path d="M192 200 Q200 203 208 200" fill="none" stroke="#B8820E" stroke-width="1.5"/>
    </g>

    <!-- Cheek blush -->
    <ellipse cx="152" cy="185" rx="14" ry="10" fill="url(#m-parrot-parrotCheek)"/>
    <ellipse cx="248" cy="185" rx="14" ry="10" fill="url(#m-parrot-parrotCheek)"/>
  </g>

  <!-- Star badge -->
  <g class="parrot-badge">
    <circle cx="0" cy="0" r="14" fill="#2E86AB"/>
    <path d="M0,-8 L2.5,-3 L8,-3 L3.5,1 L5,7 L0,3.5 L-5,7 L-3.5,1 L-8,-3 L-2.5,-3 Z" fill="#F18F01"/>
  </g>
</svg>`,
          turtle: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Turtle  Patient, steady, reliable streak-keeper -->
  <defs>
    <linearGradient id="m-turtle-turtleShell" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#00B894"/>
      <stop offset="100%" stop-color="#00896A"/>
    </linearGradient>
    <linearGradient id="m-turtle-turtleSkin" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#81ECAC"/>
      <stop offset="100%" stop-color="#55D98B"/>
    </linearGradient>
    <linearGradient id="m-turtle-shellDark" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#009E7E"/>
      <stop offset="100%" stop-color="#007A5E"/>
    </linearGradient>
    <radialGradient id="m-turtle-turtleCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.35"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-turtle-turtleShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#005A42" flood-opacity="0.15"/>
    </filter>
  </defs>

  <style>
    /* Gentle sway  whole character tilts very slightly, turtle-like */
    @keyframes turtle-sway {
      0%, 100% { transform: rotate(-1deg); }
      50% { transform: rotate(1deg); }
    }
    .turtle-sway {
      animation: turtle-sway 6s ease-in-out infinite;
      transform-origin: 200px 380px;
    }

    /* Slow head bob  head and neck gently move up and down */
    @keyframes turtle-bob {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }
    .turtle-bob {
      animation: turtle-bob 4s ease-in-out infinite;
    }

    /* Shell shimmer  shell pattern opacity pulses */
    @keyframes turtle-shimmer {
      0%, 100% { opacity: 0.4; }
      50% { opacity: 0.6; }
    }
    .turtle-shimmer {
      animation: turtle-shimmer 5s ease-in-out infinite;
    }

    /* Leg paddle  front legs rotate in alternation */
    @keyframes turtle-paddle-left {
      0%, 100% { transform: rotate(5deg); }
      50% { transform: rotate(-5deg); }
    }
    @keyframes turtle-paddle-right {
      0%, 100% { transform: rotate(-5deg); }
      50% { transform: rotate(5deg); }
    }
    .turtle-paddle-left {
      animation: turtle-paddle-left 3s ease-in-out infinite;
      transform-origin: 120px 340px;
    }
    .turtle-paddle-right {
      animation: turtle-paddle-right 3s ease-in-out infinite;
      transform-origin: 280px 340px;
    }

    /* Hat tip  top hat tilts slightly */
    @keyframes turtle-hat-tip {
      0%, 100% { transform: translate(200px, 118px) rotate(-3deg); }
      50% { transform: translate(200px, 118px) rotate(3deg); }
    }
    .turtle-hat-tip {
      animation: turtle-hat-tip 4s ease-in-out infinite;
      transform-origin: 0px 8px;
    }

    /* Blink  eyes blink slowly */
    @keyframes turtle-blink {
      0%, 85%, 100% { transform: scaleY(1); }
      90%, 95% { transform: scaleY(0); }
    }
    .turtle-blink {
      animation: turtle-blink 6s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center;
    }
  </style>

  <g class="turtle-sway">
    <ellipse cx="200" cy="380" rx="100" ry="10" fill="#005A42" opacity="0.1"/>
    <!-- Shell -->
    <ellipse cx="200" cy="280" rx="110" ry="85" fill="url(#m-turtle-turtleShell)" filter="url(#m-turtle-turtleShadow)"/>
    <!-- Shell pattern -->
    <g class="turtle-shimmer" fill="none" stroke="url(#m-turtle-shellDark)" stroke-width="2.5">
      <path d="M170 250 L200 235 L230 250 L230 280 L200 295 L170 280 Z"/>
      <path d="M170 250 L200 235 L200 210 L175 220 L155 240 Z"/>
      <path d="M230 250 L200 235 L200 210 L225 220 L245 240 Z"/>
      <path d="M170 280 L155 240 L125 265 L135 295 Z"/>
      <path d="M230 280 L245 240 L275 265 L265 295 Z"/>
      <path d="M170 280 L200 295 L200 320 L165 310 L135 295 Z"/>
      <path d="M230 280 L200 295 L200 320 L235 310 L265 295 Z"/>
    </g>
    <ellipse cx="185" cy="245" rx="40" ry="25" fill="white" opacity="0.06"/>
    <ellipse cx="200" cy="340" rx="105" ry="20" fill="url(#m-turtle-shellDark)" opacity="0.3"/>
    <!-- Legs -->
    <g class="turtle-paddle-left">
      <ellipse cx="120" cy="340" rx="22" ry="18" fill="url(#m-turtle-turtleSkin)" transform="rotate(-20, 120, 340)"/>
    </g>
    <g class="turtle-paddle-right">
      <ellipse cx="280" cy="340" rx="22" ry="18" fill="url(#m-turtle-turtleSkin)" transform="rotate(20, 280, 340)"/>
    </g>
    <ellipse cx="135" cy="365" rx="20" ry="14" fill="url(#m-turtle-turtleSkin)" transform="rotate(-10, 135, 365)"/>
    <ellipse cx="265" cy="365" rx="20" ry="14" fill="url(#m-turtle-turtleSkin)" transform="rotate(10, 265, 365)"/>
    <!-- Tail -->
    <path d="M200 360 Q200 375 195 378 Q192 380 195 375 Q198 368 200 360" fill="url(#m-turtle-turtleSkin)"/>

    <!-- Head and neck group  bobs up and down -->
    <g class="turtle-bob">
      <!-- Neck -->
      <ellipse cx="200" cy="225" rx="30" ry="40" fill="url(#m-turtle-turtleSkin)"/>
      <!-- Head -->
      <ellipse cx="200" cy="175" rx="60" ry="55" fill="url(#m-turtle-turtleSkin)" filter="url(#m-turtle-turtleShadow)"/>
      <ellipse cx="190" cy="150" rx="28" ry="20" fill="white" opacity="0.08"/>
      <!-- Eyes -->
      <g class="turtle-blink">
        <ellipse cx="178" cy="170" rx="18" ry="20" fill="white"/>
        <ellipse cx="222" cy="170" rx="18" ry="20" fill="white"/>
        <ellipse cx="181" cy="173" rx="11" ry="13" fill="#1B2A4A"/>
        <ellipse cx="219" cy="173" rx="11" ry="13" fill="#1B2A4A"/>
        <circle cx="185" cy="167" r="5" fill="white" opacity="0.9"/>
        <circle cx="223" cy="167" r="5" fill="white" opacity="0.9"/>
        <circle cx="178" cy="177" r="2.5" fill="white" opacity="0.4"/>
        <circle cx="216" cy="177" r="2.5" fill="white" opacity="0.4"/>
      </g>
      <!-- Smile -->
      <path d="M185 200 Q200 215 215 200" fill="none" stroke="#3D8B6E" stroke-width="2.5" stroke-linecap="round"/>
      <!-- Nostrils -->
      <circle cx="195" cy="192" r="2.5" fill="#3D8B6E" opacity="0.5"/>
      <circle cx="205" cy="192" r="2.5" fill="#3D8B6E" opacity="0.5"/>
      <!-- Cheek blush -->
      <ellipse cx="155" cy="190" rx="14" ry="9" fill="url(#m-turtle-turtleCheek)"/>
      <ellipse cx="245" cy="190" rx="14" ry="9" fill="url(#m-turtle-turtleCheek)"/>
      <!-- Top hat -->
      <g class="turtle-hat-tip">
        <ellipse cx="0" cy="8" rx="22" ry="5" fill="#1B2A4A"/>
        <rect x="-14" y="-15" width="28" height="23" rx="3" fill="#1B2A4A"/>
        <ellipse cx="0" cy="-15" rx="14" ry="4" fill="#2E3D52"/>
        <rect x="-14" y="0" width="28" height="5" fill="#F18F01"/>
      </g>
    </g>
  </g>
</svg>`,
          fox: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Fox  Clever, strategic, quick thinker -->
  <defs>
    <linearGradient id="m-fox-foxBody" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#E17055"/>
      <stop offset="100%" stop-color="#D35137"/>
    </linearGradient>
    <linearGradient id="m-fox-foxDark" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#C44232"/>
      <stop offset="100%" stop-color="#A33528"/>
    </linearGradient>
    <radialGradient id="m-fox-foxCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.4"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-fox-foxShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#8B2920" flood-opacity="0.15"/>
    </filter>
  </defs>

  <style>
    /* Tail swish  fluffy tail rotates gently around its base */
    @keyframes fox-tail-swish {
      0%, 100% { transform: rotate(-8deg); }
      50% { transform: rotate(8deg); }
    }
    .fox-tail-swish {
      animation: fox-tail-swish 2s ease-in-out infinite;
      transform-origin: 275px 290px;
    }

    /* Ear perk  ears do a quick perk up */
    @keyframes fox-ear-perk {
      0%, 90%, 100% { transform: translateY(0); }
      93%, 97% { transform: translateY(-4px); }
    }
    .fox-ear-perk {
      animation: fox-ear-perk 4s ease-in-out infinite;
    }

    /* Sly eye  pupils shift side-to-side */
    @keyframes fox-sly-eye {
      0%, 100% { transform: translateX(-2px); }
      50% { transform: translateX(2px); }
    }
    .fox-sly-eye {
      animation: fox-sly-eye 3s ease-in-out infinite;
    }

    /* Scarf flutter  scarf sways gently */
    @keyframes fox-scarf-flutter {
      0%, 100% { transform: translate(200px, 250px) rotate(-2deg); }
      50% { transform: translate(200px, 250px) rotate(2deg); }
    }
    .fox-scarf-flutter {
      animation: fox-scarf-flutter 2.5s ease-in-out infinite;
      transform-origin: 0px 0px;
    }

    /* Whisker twitch  whiskers translate slightly */
    @keyframes fox-whisker-twitch-left {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(-1px); }
    }
    @keyframes fox-whisker-twitch-right {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(1px); }
    }
    .fox-whisker-twitch-left {
      animation: fox-whisker-twitch-left 1s ease-in-out infinite;
    }
    .fox-whisker-twitch-right {
      animation: fox-whisker-twitch-right 1s ease-in-out infinite;
    }
  </style>

  <ellipse cx="200" cy="378" rx="75" ry="9" fill="#8B2920" opacity="0.1"/>
  <!-- Fluffy tail -->
  <g class="fox-tail-swish">
    <path d="M275 290 Q340 250 350 200 Q355 170 335 190 Q310 220 290 260 Q285 275 280 285" fill="url(#m-fox-foxBody)"/>
    <path d="M335 195 Q340 185 330 192" fill="#FFF5E0" opacity="0.7"/>
  </g>
  <!-- Body -->
  <ellipse cx="200" cy="305" rx="78" ry="65" fill="url(#m-fox-foxBody)" filter="url(#m-fox-foxShadow)"/>
  <ellipse cx="200" cy="318" rx="48" ry="42" fill="#FFF5E0"/>
  <!-- Dark paws -->
  <ellipse cx="155" cy="362" rx="18" ry="14" fill="#3D2512"/>
  <ellipse cx="245" cy="362" rx="18" ry="14" fill="#3D2512"/>
  <!-- Head -->
  <ellipse cx="200" cy="180" rx="85" ry="80" fill="url(#m-fox-foxBody)" filter="url(#m-fox-foxShadow)"/>
  <ellipse cx="185" cy="140" rx="40" ry="28" fill="white" opacity="0.06"/>
  <!-- Pointed ears -->
  <g class="fox-ear-perk">
    <polygon points="130,130 100,50 162,110" fill="url(#m-fox-foxBody)"/>
    <polygon points="270,130 300,50 238,110" fill="url(#m-fox-foxBody)"/>
    <polygon points="133,122 110,65 155,112" fill="#FFB8A0" opacity="0.5"/>
    <polygon points="267,122 290,65 245,112" fill="#FFB8A0" opacity="0.5"/>
  </g>
  <!-- White face -->
  <path d="M155 160 Q200 145 245 160 Q235 205 200 225 Q165 205 155 160" fill="#FFF5E0"/>
  <!-- Eyes  whites and outer structure -->
  <ellipse cx="172" cy="178" rx="20" ry="22" fill="white"/>
  <ellipse cx="228" cy="178" rx="20" ry="22" fill="white"/>
  <!-- Pupils  sly side-to-side movement -->
  <g class="fox-sly-eye">
    <ellipse cx="176" cy="181" rx="12" ry="14" fill="#F18F01"/>
    <ellipse cx="224" cy="181" rx="12" ry="14" fill="#F18F01"/>
    <ellipse cx="176" cy="181" rx="6" ry="10" fill="#1B2A4A"/>
    <ellipse cx="224" cy="181" rx="6" ry="10" fill="#1B2A4A"/>
    <circle cx="180" cy="175" r="5" fill="white" opacity="0.9"/>
    <circle cx="228" cy="175" r="5" fill="white" opacity="0.9"/>
    <circle cx="173" cy="185" r="2.5" fill="white" opacity="0.4"/>
    <circle cx="221" cy="185" r="2.5" fill="white" opacity="0.4"/>
  </g>
  <!-- Eyebrows -->
  <path d="M155 162 Q168 155 185 160" fill="none" stroke="#A33528" stroke-width="2.5" stroke-linecap="round"/>
  <path d="M215 160 Q232 155 245 162" fill="none" stroke="#A33528" stroke-width="2.5" stroke-linecap="round"/>
  <!-- Nose -->
  <ellipse cx="200" cy="205" rx="10" ry="7" fill="#3D2512"/>
  <ellipse cx="200" cy="203" rx="4" ry="3" fill="#5A3A1E" opacity="0.3"/>
  <!-- Mouth -->
  <path d="M200 212 L194 220" fill="none" stroke="#8B4030" stroke-width="2" stroke-linecap="round"/>
  <path d="M200 212 L206 220" fill="none" stroke="#8B4030" stroke-width="2" stroke-linecap="round"/>
  <path d="M186 222 Q194 228 200 226" fill="none" stroke="#8B4030" stroke-width="2" stroke-linecap="round"/>
  <path d="M214 222 Q206 228 200 226" fill="none" stroke="#8B4030" stroke-width="2" stroke-linecap="round"/>
  <!-- Whiskers -->
  <g class="fox-whisker-twitch-left" stroke="#D35137" stroke-width="1.2" fill="none" stroke-linecap="round">
    <line x1="125" y1="200" x2="162" y2="208"/>
    <line x1="120" y1="215" x2="160" y2="215"/>
  </g>
  <g class="fox-whisker-twitch-right" stroke="#D35137" stroke-width="1.2" fill="none" stroke-linecap="round">
    <line x1="275" y1="200" x2="238" y2="208"/>
    <line x1="280" y1="215" x2="240" y2="215"/>
  </g>
  <!-- Cheek blush -->
  <ellipse cx="148" cy="200" rx="14" ry="9" fill="url(#m-fox-foxCheek)"/>
  <ellipse cx="252" cy="200" rx="14" ry="9" fill="url(#m-fox-foxCheek)"/>
  <!-- Scarf -->
  <g class="fox-scarf-flutter">
    <path d="M-60,-8 Q-30,-18 0,-12 Q30,-18 60,-8 Q50,5 30,8 L20,30 Q10,35 0,30 L-10,30 Q-20,35 -30,8 Q-50,5 -60,-8 Z" fill="#2E86AB" opacity="0.85"/>
    <path d="M-10,12 L-15,30 Q-5,34 5,30 L10,12" fill="#2E86AB"/>
    <path d="M-4,18 L0,22 L8,14" fill="none" stroke="#F18F01" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </g>
</svg>`,
          panda: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Panda  Chill, balanced, zen-like patience -->
  <defs>
    <radialGradient id="m-panda-pandaCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.45"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-panda-pandaShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#2D3436" flood-opacity="0.12"/>
    </filter>
  </defs>

  <style>
    /* Gentle sway  entire character sways side-to-side, zen-like */
    @keyframes panda-sway {
      0%, 100% { transform: rotate(-2deg); }
      50% { transform: rotate(2deg); }
    }
    .panda-sway {
      animation: panda-sway 5s ease-in-out infinite;
      transform-origin: 200px 378px;
    }

    /* Arm wave  right arm raises slightly and lowers */
    @keyframes panda-arm-wave {
      0%, 100% { transform: rotate(-20deg); }
      50% { transform: rotate(-25deg); }
    }
    .panda-arm-wave {
      animation: panda-arm-wave 3s ease-in-out infinite;
      transform-origin: 272px 260px;
    }

    /* Bamboo munch  bamboo bobs toward mouth */
    @keyframes panda-bamboo-munch {
      0%, 100% { transform: translate(295px, 260px) translateX(0) translateY(0); }
      50% { transform: translate(295px, 260px) translateX(-3px) translateY(-3px); }
    }
    .panda-bamboo-munch {
      animation: panda-bamboo-munch 2s ease-in-out infinite;
    }

    /* Eye blink  slow, peaceful blink */
    @keyframes panda-blink {
      0%, 82%, 100% { transform: scaleY(1); }
      88%, 94% { transform: scaleY(0); }
    }
    .panda-blink {
      animation: panda-blink 5s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center;
    }

    /* Ear wiggle  tiny bounce */
    @keyframes panda-ear-wiggle {
      0%, 92%, 100% { transform: translateY(0); }
      94%, 98% { transform: translateY(-2px); }
    }
    .panda-ear-wiggle {
      animation: panda-ear-wiggle 4s ease-in-out infinite;
    }

    /* Star sparkle  star on bamboo pulses */
    @keyframes panda-star-sparkle {
      0%, 100% { transform: translate(0px, -52px) scale(1); }
      50% { transform: translate(0px, -52px) scale(1.2); }
    }
    .panda-star-sparkle {
      animation: panda-star-sparkle 2s ease-in-out infinite;
      transform-origin: 0px 0px;
    }
  </style>

  <g class="panda-sway">
    <ellipse cx="200" cy="378" rx="80" ry="9" fill="#2D3436" opacity="0.08"/>
    <!-- Body -->
    <ellipse cx="200" cy="305" rx="82" ry="68" fill="white" filter="url(#m-panda-pandaShadow)" stroke="#E8E8E8" stroke-width="0.8"/>
    <ellipse cx="200" cy="315" rx="48" ry="40" fill="#F8F8F8"/>
    <!-- Arms -->
    <ellipse cx="128" cy="290" rx="28" ry="40" fill="#2D3436" transform="rotate(20, 128, 290)"/>
    <g class="panda-arm-wave">
      <ellipse cx="272" cy="290" rx="28" ry="40" fill="#2D3436"/>
    </g>
    <!-- Legs -->
    <ellipse cx="160" cy="365" rx="24" ry="16" fill="#2D3436"/>
    <ellipse cx="240" cy="365" rx="24" ry="16" fill="#2D3436"/>
    <ellipse cx="160" cy="368" rx="14" ry="8" fill="#4A5459"/>
    <ellipse cx="240" cy="368" rx="14" ry="8" fill="#4A5459"/>
    <!-- Head -->
    <ellipse cx="200" cy="180" rx="92" ry="88" fill="white" filter="url(#m-panda-pandaShadow)" stroke="#E8E8E8" stroke-width="0.8"/>
    <ellipse cx="185" cy="135" rx="45" ry="30" fill="white" opacity="0.3"/>
    <!-- Ears -->
    <g class="panda-ear-wiggle">
      <circle cx="125" cy="115" r="32" fill="#2D3436"/>
      <circle cx="275" cy="115" r="32" fill="#2D3436"/>
      <circle cx="127" cy="117" r="18" fill="#4A5459" opacity="0.4"/>
      <circle cx="273" cy="117" r="18" fill="#4A5459" opacity="0.4"/>
    </g>
    <!-- Eye patches -->
    <ellipse cx="168" cy="180" rx="32" ry="30" fill="#2D3436" transform="rotate(-10, 168, 180)"/>
    <ellipse cx="232" cy="180" rx="32" ry="30" fill="#2D3436" transform="rotate(10, 232, 180)"/>
    <!-- Eyes -->
    <g class="panda-blink">
      <ellipse cx="170" cy="180" rx="18" ry="20" fill="white"/>
      <ellipse cx="230" cy="180" rx="18" ry="20" fill="white"/>
      <ellipse cx="173" cy="183" rx="11" ry="13" fill="#1B2A4A"/>
      <ellipse cx="227" cy="183" rx="11" ry="13" fill="#1B2A4A"/>
      <circle cx="177" cy="177" r="5" fill="white" opacity="0.9"/>
      <circle cx="231" cy="177" r="5" fill="white" opacity="0.9"/>
      <circle cx="170" cy="187" r="2.5" fill="white" opacity="0.4"/>
      <circle cx="224" cy="187" r="2.5" fill="white" opacity="0.4"/>
    </g>
    <!-- Nose -->
    <ellipse cx="200" cy="210" rx="10" ry="7" fill="#2D3436"/>
    <ellipse cx="200" cy="208" rx="4" ry="3" fill="#4A5459" opacity="0.3"/>
    <!-- Mouth -->
    <path d="M200 217 L194 224" fill="none" stroke="#636E72" stroke-width="2.5" stroke-linecap="round"/>
    <path d="M200 217 L206 224" fill="none" stroke="#636E72" stroke-width="2.5" stroke-linecap="round"/>
    <path d="M188 227 Q200 236 212 227" fill="none" stroke="#636E72" stroke-width="2.5" stroke-linecap="round"/>
    <!-- Cheek blush -->
    <ellipse cx="142" cy="210" rx="16" ry="10" fill="url(#m-panda-pandaCheek)"/>
    <ellipse cx="258" cy="210" rx="16" ry="10" fill="url(#m-panda-pandaCheek)"/>
    <!-- Bamboo -->
    <g class="panda-bamboo-munch">
      <rect x="-4" y="-50" width="8" height="65" rx="4" fill="#55D98B"/>
      <rect x="-4" y="-30" width="8" height="3" fill="#3D8B6E" opacity="0.3"/>
      <rect x="-4" y="-10" width="8" height="3" fill="#3D8B6E" opacity="0.3"/>
      <path d="M4,-45 Q20,-55 15,-40 Q10,-35 4,-38" fill="#55D98B"/>
      <path d="M4,-30 Q22,-25 12,-18 Q6,-20 4,-25" fill="#55D98B"/>
      <!-- Star -->
      <g class="panda-star-sparkle">
        <circle cx="0" cy="0" r="8" fill="#F18F01"/>
        <path d="M0,-5 L1.8,-2 L5,-2 L2.5,0 L3.5,3 L0,1 L-3.5,3 L-2.5,0 L-5,-2 L-1.8,-2 Z" fill="#FFD700"/>
      </g>
    </g>
  </g>
</svg>`,
          penguin: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Penguin  Cool, teamwork, family-oriented -->
  <defs>
    <linearGradient id="m-penguin-penBody" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#2D3436"/>
      <stop offset="100%" stop-color="#1B2328"/>
    </linearGradient>
    <radialGradient id="m-penguin-penCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.45"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-penguin-penShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#0D1215" flood-opacity="0.15"/>
    </filter>
  </defs>

  <style>
    /* Waddle  entire character tilts side-to-side */
    @keyframes pen-waddle {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(-5deg); }
      75% { transform: rotate(5deg); }
    }
    .pen-waddle {
      animation: pen-waddle 1.2s ease-in-out infinite;
      transform-origin: 200px 380px;
    }

    /* Flipper wave  left flipper */
    @keyframes pen-flipper-left {
      0%, 100% { transform: rotate(0deg); }
      50% { transform: rotate(-10deg); }
    }
    .pen-flipper-left {
      animation: pen-flipper-left 1.5s ease-in-out infinite;
      transform-origin: 130px 230px;
    }

    /* Flipper wave  right flipper */
    @keyframes pen-flipper-right {
      0%, 100% { transform: rotate(0deg); }
      50% { transform: rotate(10deg); }
    }
    .pen-flipper-right {
      animation: pen-flipper-right 1.5s ease-in-out infinite 0.75s;
      transform-origin: 270px 230px;
    }

    /* Pom-pom bounce */
    @keyframes pen-pompom {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }
    .pen-pompom {
      animation: pen-pompom 0.8s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center;
    }

    /* Beak chirp  slight Y scale */
    @keyframes pen-beak {
      0%, 100% { transform: scaleY(1); }
      50% { transform: scaleY(1.08); }
    }
    .pen-beak {
      animation: pen-beak 1.5s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center top;
    }

    /* Foot tap  right foot shifts */
    @keyframes pen-foot-tap {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(3px); }
    }
    .pen-foot-tap {
      animation: pen-foot-tap 1s ease-in-out infinite;
    }
  </style>

  <g class="pen-waddle">
    <ellipse cx="200" cy="380" rx="70" ry="8" fill="#0D1215" opacity="0.1"/>
    <!-- Body -->
    <ellipse cx="200" cy="280" rx="82" ry="95" fill="url(#m-penguin-penBody)" filter="url(#m-penguin-penShadow)"/>
    <ellipse cx="200" cy="295" rx="55" ry="72" fill="white"/>
    <ellipse cx="200" cy="300" rx="50" ry="65" fill="#F8F8F8"/>
    <!-- Flippers -->
    <g class="pen-flipper-left">
      <path d="M118 230 Q95 280 105 335 Q110 340 115 332 Q120 295 130 250" fill="url(#m-penguin-penBody)"/>
    </g>
    <g class="pen-flipper-right">
      <path d="M282 230 Q305 280 295 335 Q290 340 285 332 Q280 295 270 250" fill="url(#m-penguin-penBody)"/>
    </g>
    <!-- Feet -->
    <ellipse cx="165" cy="372" rx="28" ry="10" fill="#FDCB6E"/>
    <g class="pen-foot-tap">
      <ellipse cx="235" cy="372" rx="28" ry="10" fill="#FDCB6E"/>
    </g>
    <g stroke="#E8A930" stroke-width="1.5" fill="none">
      <path d="M155 372 L148 378"/>
      <path d="M165 372 L165 380"/>
      <path d="M175 372 L182 378"/>
    </g>
    <g class="pen-foot-tap" stroke="#E8A930" stroke-width="1.5" fill="none">
      <path d="M225 372 L218 378"/>
      <path d="M235 372 L235 380"/>
      <path d="M245 372 L252 378"/>
    </g>
    <!-- Head -->
    <ellipse cx="200" cy="170" rx="78" ry="75" fill="url(#m-penguin-penBody)" filter="url(#m-penguin-penShadow)"/>
    <ellipse cx="200" cy="185" rx="52" ry="48" fill="white"/>
    <ellipse cx="185" cy="130" rx="35" ry="22" fill="#4A5459" opacity="0.15"/>
    <!-- Eyes -->
    <ellipse cx="178" cy="175" rx="18" ry="20" fill="white"/>
    <ellipse cx="222" cy="175" rx="18" ry="20" fill="white"/>
    <ellipse cx="181" cy="178" rx="11" ry="13" fill="#1B2A4A"/>
    <ellipse cx="219" cy="178" rx="11" ry="13" fill="#1B2A4A"/>
    <circle cx="185" cy="172" r="5" fill="white" opacity="0.9"/>
    <circle cx="223" cy="172" r="5" fill="white" opacity="0.9"/>
    <circle cx="178" cy="182" r="2.5" fill="white" opacity="0.4"/>
    <circle cx="216" cy="182" r="2.5" fill="white" opacity="0.4"/>
    <!-- Beak -->
    <g class="pen-beak">
      <path d="M188 200 Q200 195 212 200 Q210 215 200 220 Q190 215 188 200 Z" fill="#FDCB6E"/>
      <path d="M192 203 Q200 200 208 203 Q207 210 200 213 Q193 210 192 203 Z" fill="#E8A930" opacity="0.5"/>
    </g>
    <!-- Cheek blush -->
    <ellipse cx="155" cy="198" rx="14" ry="10" fill="url(#m-penguin-penCheek)"/>
    <ellipse cx="245" cy="198" rx="14" ry="10" fill="url(#m-penguin-penCheek)"/>
    <!-- Winter hat -->
    <g transform="translate(200, 100)">
      <path d="M-48,15 Q-55,0 -45,-20 Q-30,-40 0,-48 Q30,-40 45,-20 Q55,0 48,15 Z" fill="#2E86AB"/>
      <path d="M-50,12 Q0,22 50,12 Q0,6 -50,12 Z" fill="#1B2A4A"/>
      <path d="M-42,-10 Q0,-20 42,-10" fill="none" stroke="white" stroke-width="3" opacity="0.3"/>
      <path d="M-35,-25 Q0,-35 35,-25" fill="none" stroke="white" stroke-width="3" opacity="0.3"/>
      <g class="pen-pompom">
        <circle cx="0" cy="-50" r="14" fill="white"/>
        <circle cx="0" cy="-50" r="10" fill="#F0F0F0"/>
      </g>
      <path d="M-8,0 L-3,5 L8,-5" fill="none" stroke="#F18F01" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
    </g>
  </g>
</svg>`,
          lion: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Lion  Brave, leader, protector of the family -->
  <defs>
    <linearGradient id="m-lion-lionBody" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FDCB6E"/>
      <stop offset="100%" stop-color="#E8A930"/>
    </linearGradient>
    <linearGradient id="m-lion-lionMane" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#D4915E"/>
      <stop offset="100%" stop-color="#B8763E"/>
    </linearGradient>
    <radialGradient id="m-lion-lionCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.4"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-lion-lionShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#8B5526" flood-opacity="0.15"/>
    </filter>
  </defs>

  <style>
    /* Mane flutter  staggered scale pulse on each mane puff */
    @keyframes lion-mane-flutter {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .lion-mane-puff {
      transform-box: fill-box;
      transform-origin: center;
      animation: lion-mane-flutter 3s ease-in-out infinite;
    }
    .lion-mane-puff:nth-child(1)  { animation-delay: 0s; }
    .lion-mane-puff:nth-child(2)  { animation-delay: 0.23s; }
    .lion-mane-puff:nth-child(3)  { animation-delay: 0.46s; }
    .lion-mane-puff:nth-child(4)  { animation-delay: 0.69s; }
    .lion-mane-puff:nth-child(5)  { animation-delay: 0.92s; }
    .lion-mane-puff:nth-child(6)  { animation-delay: 1.15s; }
    .lion-mane-puff:nth-child(7)  { animation-delay: 1.38s; }
    .lion-mane-puff:nth-child(8)  { animation-delay: 1.61s; }
    .lion-mane-puff:nth-child(9)  { animation-delay: 1.84s; }
    .lion-mane-puff:nth-child(10) { animation-delay: 2.07s; }
    .lion-mane-puff:nth-child(11) { animation-delay: 2.30s; }
    .lion-mane-puff:nth-child(12) { animation-delay: 2.53s; }
    .lion-mane-puff:nth-child(13) { animation-delay: 2.76s; }

    /* Tail swish */
    @keyframes lion-tail-swish {
      0%, 100% { transform: rotate(0deg); }
      25% { transform: rotate(-10deg); }
      75% { transform: rotate(10deg); }
    }
    .lion-tail {
      animation: lion-tail-swish 2s ease-in-out infinite;
      transform-origin: 280px 300px;
    }

    /* Proud stance  whole character lifts slightly */
    @keyframes lion-proud {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-4px); }
    }
    .lion-proud {
      animation: lion-proud 4s ease-in-out infinite;
    }

    /* Medal shine  gold circle opacity pulse */
    @keyframes lion-medal-shine {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
    }
    .lion-medal-gold {
      animation: lion-medal-shine 2s ease-in-out infinite;
    }

    /* Blink  confident blink every 4s */
    @keyframes lion-blink {
      0%, 92%, 100% { transform: scaleY(1); }
      96% { transform: scaleY(0); }
    }
    .lion-eye-left {
      animation: lion-blink 4s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center;
    }
    .lion-eye-right {
      animation: lion-blink 4s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center;
    }
  </style>

  <g class="lion-proud">
    <ellipse cx="200" cy="380" rx="80" ry="9" fill="#8B5526" opacity="0.1"/>
    <!-- Tail -->
    <g class="lion-tail">
      <path d="M280 300 Q330 280 340 250 Q342 235 332 245 Q325 255 315 270" fill="none" stroke="url(#m-lion-lionBody)" stroke-width="8" stroke-linecap="round"/>
      <ellipse cx="340" cy="246" rx="12" ry="10" fill="url(#m-lion-lionMane)"/>
    </g>
    <!-- Body -->
    <ellipse cx="200" cy="305" rx="80" ry="68" fill="url(#m-lion-lionBody)" filter="url(#m-lion-lionShadow)"/>
    <ellipse cx="200" cy="318" rx="48" ry="40" fill="#FFF5E0"/>
    <!-- Paws -->
    <ellipse cx="152" cy="365" rx="22" ry="16" fill="url(#m-lion-lionBody)"/>
    <ellipse cx="248" cy="365" rx="22" ry="16" fill="url(#m-lion-lionBody)"/>
    <!-- Mane -->
    <g filter="url(#m-lion-lionShadow)">
      <circle class="lion-mane-puff" cx="130" cy="140" r="28" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="145" cy="115" r="26" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="170" cy="98" r="25" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="200" cy="90" r="26" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="230" cy="98" r="25" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="255" cy="115" r="26" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="270" cy="140" r="28" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="275" cy="170" r="26" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="270" cy="200" r="25" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="258" cy="225" r="24" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="125" cy="170" r="26" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="130" cy="200" r="25" fill="url(#m-lion-lionMane)"/>
      <circle class="lion-mane-puff" cx="142" cy="225" r="24" fill="url(#m-lion-lionMane)"/>
    </g>
    <!-- Head -->
    <ellipse cx="200" cy="175" rx="78" ry="75" fill="url(#m-lion-lionBody)" filter="url(#m-lion-lionShadow)"/>
    <ellipse cx="185" cy="140" rx="38" ry="25" fill="white" opacity="0.06"/>
    <!-- Face -->
    <ellipse cx="200" cy="208" rx="40" ry="30" fill="#FFF5E0"/>
    <!-- Ears -->
    <circle cx="140" cy="130" r="18" fill="url(#m-lion-lionBody)"/>
    <circle cx="260" cy="130" r="18" fill="url(#m-lion-lionBody)"/>
    <circle cx="141" cy="131" r="10" fill="#E8A0B5" opacity="0.4"/>
    <circle cx="259" cy="131" r="10" fill="#E8A0B5" opacity="0.4"/>
    <!-- Eyes -->
    <g class="lion-eye-left">
      <ellipse cx="175" cy="172" rx="20" ry="22" fill="white"/>
      <ellipse cx="178" cy="175" rx="12" ry="14" fill="#B8763E"/>
      <ellipse cx="178" cy="175" rx="6" ry="10" fill="#1B2A4A"/>
      <circle cx="182" cy="169" r="5" fill="white" opacity="0.9"/>
      <circle cx="175" cy="179" r="2.5" fill="white" opacity="0.4"/>
    </g>
    <g class="lion-eye-right">
      <ellipse cx="225" cy="172" rx="20" ry="22" fill="white"/>
      <ellipse cx="222" cy="175" rx="12" ry="14" fill="#B8763E"/>
      <ellipse cx="222" cy="175" rx="6" ry="10" fill="#1B2A4A"/>
      <circle cx="226" cy="169" r="5" fill="white" opacity="0.9"/>
      <circle cx="219" cy="179" r="2.5" fill="white" opacity="0.4"/>
    </g>
    <!-- Eyebrows -->
    <path d="M158 155 Q170 148 188 155" fill="none" stroke="#A67C20" stroke-width="3" stroke-linecap="round"/>
    <path d="M212 155 Q230 148 242 155" fill="none" stroke="#A67C20" stroke-width="3" stroke-linecap="round"/>
    <!-- Nose -->
    <path d="M193 202 L200 210 L207 202 Z" fill="#3D2512" stroke="none"/>
    <path d="M196 204 L200 208 L204 204" fill="#5A3A1E" opacity="0.3"/>
    <!-- Mouth -->
    <path d="M200 210 L195 218" fill="none" stroke="#8B5526" stroke-width="2.5" stroke-linecap="round"/>
    <path d="M200 210 L205 218" fill="none" stroke="#8B5526" stroke-width="2.5" stroke-linecap="round"/>
    <path d="M185 220 Q195 228 200 226" fill="none" stroke="#8B5526" stroke-width="2" stroke-linecap="round"/>
    <path d="M215 220 Q205 228 200 226" fill="none" stroke="#8B5526" stroke-width="2" stroke-linecap="round"/>
    <!-- Cheek blush -->
    <ellipse cx="150" cy="200" rx="14" ry="9" fill="url(#m-lion-lionCheek)"/>
    <ellipse cx="250" cy="200" rx="14" ry="9" fill="url(#m-lion-lionCheek)"/>
    <!-- Medal -->
    <g transform="translate(200, 260)">
      <path d="M-8,-15 L8,-15 L12,-5 L-12,-5 Z" fill="#2E86AB"/>
      <circle cx="0" cy="4" r="14" fill="#F18F01"/>
      <circle class="lion-medal-gold" cx="0" cy="4" r="10" fill="#FFD700"/>
      <path d="M0,-2 L1.8,1 L5,1 L2.5,3 L3.5,6 L0,4 L-3.5,6 L-2.5,3 L-5,1 L-1.8,1 Z" fill="#F18F01"/>
    </g>
  </g>
</svg>`,
          frog: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400" width="400" height="400">
  <!-- Chal: Frog  Cheerful, jumping ahead, leap of progress -->
  <defs>
    <linearGradient id="m-frog-frogBody" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#00B894"/>
      <stop offset="100%" stop-color="#00A880"/>
    </linearGradient>
    <linearGradient id="m-frog-frogLight" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#55EFC4"/>
      <stop offset="100%" stop-color="#81ECAC"/>
    </linearGradient>
    <radialGradient id="m-frog-frogCheek" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color="#FF9FF3" stop-opacity="0.4"/>
      <stop offset="100%" stop-color="#FF9FF3" stop-opacity="0"/>
    </radialGradient>
    <filter id="m-frog-frogShadow">
      <feDropShadow dx="0" dy="5" stdDeviation="6" flood-color="#005A42" flood-opacity="0.15"/>
    </filter>
  </defs>

  <style>
    /* Jump bounce  whole character bounces with squash at landing */
    @keyframes frog-jump {
      0%   { transform: translateY(0) scaleX(1) scaleY(1); }
      30%  { transform: translateY(-20px) scaleX(0.97) scaleY(1.03); }
      50%  { transform: translateY(-20px) scaleX(0.97) scaleY(1.03); }
      80%  { transform: translateY(0) scaleX(1.05) scaleY(0.95); }
      100% { transform: translateY(0) scaleX(1) scaleY(1); }
    }
    .frog-jump {
      animation: frog-jump 1.5s ease-in-out infinite;
      transform-origin: 200px 380px;
    }

    /* Tongue flick  scales from 0 to 1 quickly every 4s */
    @keyframes frog-tongue {
      0%, 90%, 100% { transform: scaleY(0); }
      93% { transform: scaleY(1); }
      97% { transform: scaleY(1); }
    }
    .frog-tongue {
      animation: frog-tongue 4s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center top;
    }

    /* Eye bulge  mounds scale up then quick blink */
    @keyframes frog-eye-bulge {
      0%, 70%, 100% { transform: scale(1); }
      35% { transform: scale(1.08); }
      85% { transform: scaleY(0); }
      90% { transform: scaleY(1); }
    }
    .frog-eye-left {
      animation: frog-eye-bulge 3s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center;
    }
    .frog-eye-right {
      animation: frog-eye-bulge 3s ease-in-out infinite 0.1s;
      transform-box: fill-box;
      transform-origin: center;
    }

    /* Leg spring  back legs compress/extend with jump */
    @keyframes frog-leg-spring {
      0%   { transform: scaleY(1); }
      30%  { transform: scaleY(0.85); }
      50%  { transform: scaleY(0.85); }
      80%  { transform: scaleY(1.05); }
      100% { transform: scaleY(1); }
    }
    .frog-leg-left {
      animation: frog-leg-spring 1.5s ease-in-out infinite;
      transform-origin: 115px 310px;
    }
    .frog-leg-right {
      animation: frog-leg-spring 1.5s ease-in-out infinite;
      transform-origin: 285px 310px;
    }

    /* Crown bounce  bounces after landing with a delay */
    @keyframes frog-crown {
      0%, 70% { transform: translateY(0); }
      80% { transform: translateY(-5px); }
      90% { transform: translateY(2px); }
      100% { transform: translateY(0); }
    }
    .frog-crown {
      animation: frog-crown 1.5s ease-in-out infinite;
      transform-box: fill-box;
      transform-origin: center bottom;
    }
  </style>

  <g class="frog-jump">
    <ellipse cx="200" cy="380" rx="90" ry="9" fill="#005A42" opacity="0.08"/>
    <!-- Body -->
    <ellipse cx="200" cy="300" rx="88" ry="65" fill="url(#m-frog-frogBody)" filter="url(#m-frog-frogShadow)"/>
    <ellipse cx="200" cy="312" rx="55" ry="42" fill="url(#m-frog-frogLight)" opacity="0.5"/>
    <!-- Back legs -->
    <g class="frog-leg-left">
      <path d="M115 310 Q85 330 80 360 Q78 375 95 368 Q110 362 115 345 Q118 330 120 315" fill="url(#m-frog-frogBody)"/>
      <!-- Left webbed foot -->
      <ellipse cx="85" cy="370" rx="20" ry="8" fill="url(#m-frog-frogBody)" transform="rotate(-10, 85, 370)"/>
      <g stroke="#009E7E" stroke-width="1.2" fill="none" opacity="0.4">
        <path d="M75 370 L68 375"/>
        <path d="M85 372 L85 380"/>
        <path d="M95 370 L102 375"/>
      </g>
    </g>
    <g class="frog-leg-right">
      <path d="M285 310 Q315 330 320 360 Q322 375 305 368 Q290 362 285 345 Q282 330 280 315" fill="url(#m-frog-frogBody)"/>
      <!-- Right webbed foot -->
      <ellipse cx="315" cy="370" rx="20" ry="8" fill="url(#m-frog-frogBody)" transform="rotate(10, 315, 370)"/>
      <g stroke="#009E7E" stroke-width="1.2" fill="none" opacity="0.4">
        <path d="M305 370 L298 375"/>
        <path d="M315 372 L315 380"/>
        <path d="M325 370 L332 375"/>
      </g>
    </g>
    <!-- Front legs -->
    <path d="M140 300 Q125 320 130 345 Q132 355 140 348 Q145 335 148 310" fill="url(#m-frog-frogBody)"/>
    <path d="M260 300 Q275 320 270 345 Q268 355 260 348 Q255 335 252 310" fill="url(#m-frog-frogBody)"/>
    <!-- Head -->
    <ellipse cx="200" cy="195" rx="95" ry="70" fill="url(#m-frog-frogBody)" filter="url(#m-frog-frogShadow)"/>
    <ellipse cx="185" cy="160" rx="45" ry="25" fill="white" opacity="0.06"/>
    <!-- Bulging eyes -->
    <g class="frog-eye-left">
      <circle cx="155" cy="140" r="38" fill="url(#m-frog-frogBody)"/>
      <circle cx="155" cy="138" r="28" fill="white"/>
      <ellipse cx="160" cy="140" rx="14" ry="18" fill="#1B2A4A"/>
      <circle cx="166" cy="132" r="7" fill="white" opacity="0.9"/>
      <circle cx="155" cy="148" r="3.5" fill="white" opacity="0.4"/>
    </g>
    <g class="frog-eye-right">
      <circle cx="245" cy="140" r="38" fill="url(#m-frog-frogBody)"/>
      <circle cx="245" cy="138" r="28" fill="white"/>
      <ellipse cx="240" cy="140" rx="14" ry="18" fill="#1B2A4A"/>
      <circle cx="246" cy="132" r="7" fill="white" opacity="0.9"/>
      <circle cx="235" cy="148" r="3.5" fill="white" opacity="0.4"/>
    </g>
    <!-- Nostrils -->
    <circle cx="188" cy="190" r="4" fill="#007A5E" opacity="0.4"/>
    <circle cx="212" cy="190" r="4" fill="#007A5E" opacity="0.4"/>
    <!-- Smile -->
    <path d="M140 210 Q170 245 200 245 Q230 245 260 210" fill="none" stroke="#007A5E" stroke-width="3.5" stroke-linecap="round"/>
    <path d="M155 215 Q180 238 200 238 Q220 238 245 215" fill="#FF7675" opacity="0.2"/>
    <!-- Tongue -->
    <g class="frog-tongue">
      <path d="M200 238 Q208 255 215 248" fill="#FF7675" stroke="#E06665" stroke-width="1"/>
    </g>
    <!-- Cheek blush -->
    <ellipse cx="128" cy="210" rx="16" ry="10" fill="url(#m-frog-frogCheek)"/>
    <ellipse cx="272" cy="210" rx="16" ry="10" fill="url(#m-frog-frogCheek)"/>
    <!-- Spots -->
    <g fill="#009E7E" opacity="0.25">
      <circle cx="165" cy="290" r="10"/>
      <circle cx="235" cy="285" r="8"/>
      <circle cx="195" cy="310" r="7"/>
      <circle cx="220" cy="325" r="6"/>
    </g>
    <!-- Crown -->
    <g class="frog-crown" transform="translate(200, 102)">
      <polygon points="-22,8 -25,-5 -15,-2 -8,-14 0,-5 8,-14 15,-2 25,-5 22,8" fill="#F18F01"/>
      <polygon points="-18,6 -20,-2 -12,0 -6,-10 0,-3 6,-10 12,0 20,-2 18,6" fill="#FFB347" opacity="0.5"/>
      <circle cx="-8" cy="-4" r="3" fill="#2E86AB"/>
      <circle cx="0" cy="0" r="3" fill="#FFD700"/>
      <circle cx="8" cy="-4" r="3" fill="#2E86AB"/>
    </g>
  </g>
</svg>`,
        };

        const BADGE_SVGS = {
          'amazing-sibling': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200">
  <!-- Badge: Amazing Sibling  Gold/Orange gradient, star icon  ANIMATED -->
  <defs>
    <linearGradient id="b-amazing-sibling-asBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FFD700"/>
      <stop offset="100%" stop-color="#F18F01"/>
    </linearGradient>
    <filter id="b-amazing-sibling-asShadow">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-color="#B8760A" flood-opacity="0.3"/>
    </filter>
    <filter id="b-amazing-sibling-asGlow">
      <feGaussianBlur stdDeviation="2" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <style>
    /* Gentle float  entire badge */
    .as-float {
      animation: as-float 3s ease-in-out infinite;
    }
    @keyframes as-float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }

    /* Star spin  full rotation */
    .as-star-spin {
      transform-box: fill-box;
      transform-origin: center;
      animation: as-star-spin 8s linear infinite;
    }
    @keyframes as-star-spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Badge shimmer  sheen slides across */
    .as-shimmer {
      animation: as-shimmer 4s ease-in-out infinite;
    }
    @keyframes as-shimmer {
      0%, 100% { transform: translateX(-20px); opacity: 0.08; }
      50% { transform: translateX(20px); opacity: 0.18; }
    }

    /* Rays pulse  staggered opacity */
    .as-ray {
      animation: as-ray-pulse 2s ease-in-out infinite;
    }
    .as-ray-1 { animation-delay: 0s; }
    .as-ray-2 { animation-delay: 0.4s; }
    .as-ray-3 { animation-delay: 0.8s; }
    .as-ray-4 { animation-delay: 1.2s; }
    .as-ray-5 { animation-delay: 1.6s; }
    @keyframes as-ray-pulse {
      0%, 100% { opacity: 0.15; }
      50% { opacity: 0.35; }
    }

    /* Inner ring glow */
    .as-inner-ring {
      animation: as-ring-glow 3s ease-in-out infinite;
    }
    @keyframes as-ring-glow {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.5; }
    }

    /* Label pulse  text brightens */
    .as-label-pulse {
      animation: as-label-pulse 2s ease-in-out infinite;
    }
    @keyframes as-label-pulse {
      0%, 100% { opacity: 0.9; }
      50% { opacity: 1; }
    }
  </style>

  <g class="as-float">
    <!-- Outer ring -->
    <circle cx="100" cy="100" r="96" fill="url(#b-amazing-sibling-asBg)" filter="url(#b-amazing-sibling-asShadow)"/>
    <!-- Inner ring -->
    <circle class="as-inner-ring" cx="100" cy="100" r="85" fill="none" stroke="white" stroke-width="2" opacity="0.3"/>
    <!-- Center disc -->
    <circle cx="100" cy="100" r="80" fill="url(#b-amazing-sibling-asBg)"/>
    <!-- Sheen -->
    <ellipse class="as-shimmer" cx="85" cy="72" rx="40" ry="28" fill="white" opacity="0.12"/>

    <!-- Star icon -->
    <g filter="url(#b-amazing-sibling-asGlow)">
      <g class="as-star-spin">
        <path d="M100 45 L113 75 L146 79 L122 102 L128 135 L100 120 L72 135 L78 102 L54 79 L87 75 Z"
              fill="white" opacity="0.95"/>
      </g>
    </g>

    <!-- Decorative rays -->
    <g stroke="white" stroke-width="1.5">
      <line class="as-ray as-ray-1" x1="100" y1="15" x2="100" y2="25" opacity="0.2"/>
      <line class="as-ray as-ray-2" x1="140" y1="25" x2="135" y2="35" opacity="0.2"/>
      <line class="as-ray as-ray-3" x1="60" y1="25" x2="65" y2="35" opacity="0.2"/>
      <line class="as-ray as-ray-4" x1="170" y1="60" x2="160" y2="65" opacity="0.2"/>
      <line class="as-ray as-ray-5" x1="30" y1="60" x2="40" y2="65" opacity="0.2"/>
    </g>

    <!-- Label -->
    <text class="as-label-pulse" x="100" y="168" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="700" fill="white" letter-spacing="0.5">AMAZING</text>
    <text x="100" y="183" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" font-weight="500" fill="white" opacity="0.8">SIBLING</text>
  </g>
</svg>`,
          'kind-heart': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200">
  <!-- Badge: Kind Heart  Red gradient, heart icon  ANIMATED -->
  <defs>
    <linearGradient id="b-kind-heart-khBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FF6B6B"/>
      <stop offset="100%" stop-color="#EE3B5B"/>
    </linearGradient>
    <filter id="b-kind-heart-khShadow">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-color="#A01030" flood-opacity="0.3"/>
    </filter>
    <filter id="b-kind-heart-khGlow">
      <feGaussianBlur stdDeviation="2" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <style>
    /* Gentle float  entire badge */
    .kh-float {
      animation: kh-float 3.5s ease-in-out infinite;
    }
    @keyframes kh-float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }

    /* Heartbeat  realistic double-pump */
    .kh-heartbeat {
      transform-box: fill-box;
      transform-origin: center;
      animation: kh-heartbeat 1.2s ease-in-out infinite;
    }
    @keyframes kh-heartbeat {
      0% { transform: scale(1); }
      14% { transform: scale(1.1); }
      28% { transform: scale(1); }
      42% { transform: scale(1.05); }
      56% { transform: scale(1); }
      100% { transform: scale(1); }
    }

    /* Badge shimmer  sheen slides across */
    .kh-shimmer {
      animation: kh-shimmer 4s ease-in-out infinite;
    }
    @keyframes kh-shimmer {
      0%, 100% { transform: translateX(-20px); opacity: 0.06; }
      50% { transform: translateX(20px); opacity: 0.16; }
    }

    /* Sparkle twinkle  staggered scale + opacity */
    .kh-sparkle {
      transform-box: fill-box;
      transform-origin: center;
      animation: kh-sparkle-twinkle 2s ease-in-out infinite;
    }
    .kh-sparkle-1 { animation-delay: 0s; }
    .kh-sparkle-2 { animation-delay: 0.7s; }
    .kh-sparkle-3 { animation-delay: 1.3s; }
    @keyframes kh-sparkle-twinkle {
      0%, 100% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1); opacity: 0.5; }
    }

    /* Inner ring glow */
    .kh-inner-ring {
      animation: kh-ring-glow 3s ease-in-out infinite;
    }
    @keyframes kh-ring-glow {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.45; }
    }
  </style>

  <g class="kh-float">
    <circle cx="100" cy="100" r="96" fill="url(#b-kind-heart-khBg)" filter="url(#b-kind-heart-khShadow)"/>
    <circle class="kh-inner-ring" cx="100" cy="100" r="85" fill="none" stroke="white" stroke-width="2" opacity="0.3"/>
    <circle cx="100" cy="100" r="80" fill="url(#b-kind-heart-khBg)"/>
    <ellipse class="kh-shimmer" cx="85" cy="72" rx="40" ry="28" fill="white" opacity="0.1"/>

    <!-- Heart icon -->
    <g filter="url(#b-kind-heart-khGlow)" transform="translate(100, 88)">
      <g class="kh-heartbeat">
        <path d="M0 45 C-5 40 -42 15 -42 -8 C-42 -25 -30 -38 -15 -38 C-5 -38 0 -30 0 -30 C0 -30 5 -38 15 -38 C30 -38 42 -25 42 -8 C42 15 5 40 0 45 Z"
              fill="white" opacity="0.95"/>
      </g>
    </g>

    <!-- Sparkle accents -->
    <g fill="white">
      <circle class="kh-sparkle kh-sparkle-1" cx="55" cy="55" r="3" opacity="0.4"/>
      <circle class="kh-sparkle kh-sparkle-2" cx="150" cy="48" r="2.5" opacity="0.4"/>
      <circle class="kh-sparkle kh-sparkle-3" cx="45" cy="95" r="2" opacity="0.4"/>
    </g>

    <text x="100" y="168" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="700" fill="white" letter-spacing="0.5">KIND</text>
    <text x="100" y="183" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" font-weight="500" fill="white" opacity="0.8">HEART</text>
  </g>
</svg>`,
          'best-helper': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200">
  <!-- Badge: Best Helper  Teal gradient, handshake icon  ANIMATED -->
  <defs>
    <linearGradient id="b-best-helper-bhBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#00D2D3"/>
      <stop offset="100%" stop-color="#01A3A4"/>
    </linearGradient>
    <filter id="b-best-helper-bhShadow">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-color="#006A6B" flood-opacity="0.3"/>
    </filter>
    <filter id="b-best-helper-bhGlow">
      <feGaussianBlur stdDeviation="2" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <style>
    /* Gentle float  entire badge */
    .bh-float {
      animation: bh-float 3s ease-in-out infinite;
    }
    @keyframes bh-float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }

    /* Handshake shake  side-to-side with pause */
    .bh-handshake {
      transform-box: fill-box;
      transform-origin: center;
      animation: bh-shake 3s ease-in-out infinite;
    }
    @keyframes bh-shake {
      0% { transform: rotate(0deg); }
      5% { transform: rotate(-3deg); }
      10% { transform: rotate(3deg); }
      15% { transform: rotate(-3deg); }
      20% { transform: rotate(3deg); }
      25% { transform: rotate(-2deg); }
      30% { transform: rotate(0deg); }
      100% { transform: rotate(0deg); }
    }

    /* Badge shimmer  sheen slides across */
    .bh-shimmer {
      animation: bh-shimmer 4s ease-in-out infinite;
    }
    @keyframes bh-shimmer {
      0%, 100% { transform: translateX(-20px); opacity: 0.06; }
      50% { transform: translateX(20px); opacity: 0.16; }
    }

    /* Sparkle twinkle  staggered scale + opacity */
    .bh-sparkle {
      transform-box: fill-box;
      transform-origin: center;
      animation: bh-sparkle-twinkle 2s ease-in-out infinite;
    }
    .bh-sparkle-1 { animation-delay: 0s; }
    .bh-sparkle-2 { animation-delay: 1s; }
    @keyframes bh-sparkle-twinkle {
      0%, 100% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1); opacity: 0.55; }
    }

    /* Inner ring glow */
    .bh-inner-ring {
      animation: bh-ring-glow 3s ease-in-out infinite;
    }
    @keyframes bh-ring-glow {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.45; }
    }
  </style>

  <g class="bh-float">
    <circle cx="100" cy="100" r="96" fill="url(#b-best-helper-bhBg)" filter="url(#b-best-helper-bhShadow)"/>
    <circle class="bh-inner-ring" cx="100" cy="100" r="85" fill="none" stroke="white" stroke-width="2" opacity="0.3"/>
    <circle cx="100" cy="100" r="80" fill="url(#b-best-helper-bhBg)"/>
    <ellipse class="bh-shimmer" cx="85" cy="72" rx="40" ry="28" fill="white" opacity="0.1"/>

    <!-- Handshake icon -->
    <g filter="url(#b-best-helper-bhGlow)" transform="translate(100, 90)">
      <g class="bh-handshake" fill="white" opacity="0.95">
        <path d="M-40 10 L-30 -15 L-18 -10 L-25 12 Z"/>
        <path d="M40 10 L30 -15 L18 -10 L25 12 Z"/>
        <path d="M-18 -10 Q-10 -25 0 -22 Q10 -25 18 -10 L12 8 Q6 15 0 12 Q-6 15 -12 8 Z"/>
        <ellipse cx="-12" cy="0" rx="5" ry="8" fill="white" opacity="0.6" transform="rotate(-15, -12, 0)"/>
        <ellipse cx="12" cy="0" rx="5" ry="8" fill="white" opacity="0.6" transform="rotate(15, 12, 0)"/>
      </g>
    </g>

    <!-- Sparkles -->
    <g class="bh-sparkle bh-sparkle-1">
      <path d="M65 55 L67 60 L72 62 L67 64 L65 69 L63 64 L58 62 L63 60 Z" fill="white" opacity="0.5"/>
    </g>
    <g class="bh-sparkle bh-sparkle-2">
      <path d="M140 50 L141.5 53 L145 54.5 L141.5 56 L140 59 L138.5 56 L135 54.5 L138.5 53 Z" fill="white" opacity="0.4"/>
    </g>

    <text x="100" y="168" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="700" fill="white" letter-spacing="0.5">BEST</text>
    <text x="100" y="183" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" font-weight="500" fill="white" opacity="0.8">HELPER</text>
  </g>
</svg>`,
          'so-funny': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200">
  <!-- Badge: So Funny  Orange gradient, laughing face icon (Animated) -->
  <defs>
    <linearGradient id="b-so-funny-sfBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FFA502"/>
      <stop offset="100%" stop-color="#E8850A"/>
    </linearGradient>
    <linearGradient id="b-so-funny-sfShimmer" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="white" stop-opacity="0"/>
      <stop offset="45%" stop-color="white" stop-opacity="0"/>
      <stop offset="50%" stop-color="white" stop-opacity="0.15"/>
      <stop offset="55%" stop-color="white" stop-opacity="0"/>
      <stop offset="100%" stop-color="white" stop-opacity="0"/>
    </linearGradient>
    <filter id="b-so-funny-sfShadow">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-color="#A05A00" flood-opacity="0.3"/>
    </filter>
    <filter id="b-so-funny-sfGlow">
      <feGaussianBlur stdDeviation="2" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <style>
    /* Gentle float  whole badge bobs up and down */
    @keyframes sf-float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }
    .sf-float {
      animation: sf-float 3s ease-in-out infinite;
    }

    /* Laugh shake  face shakes side-to-side in bursts with pauses */
    @keyframes sf-laugh-shake {
      0%, 8% { transform: rotate(0deg); }
      1% { transform: rotate(-4deg); }
      2% { transform: rotate(4deg); }
      3% { transform: rotate(-4deg); }
      4% { transform: rotate(4deg); }
      5% { transform: rotate(-3deg); }
      6% { transform: rotate(3deg); }
      7% { transform: rotate(-2deg); }
      100% { transform: rotate(0deg); }
    }
    .sf-laugh-face {
      transform-box: fill-box;
      transform-origin: center;
      animation: sf-laugh-shake 2.3s ease-in-out infinite;
    }

    /* Ha! bounce  text accent #1 */
    @keyframes sf-ha-bounce-1 {
      0%, 100% { transform: translateY(0); opacity: 0.35; }
      30% { transform: translateY(-8px); opacity: 0.6; }
      60% { transform: translateY(0); opacity: 0.35; }
    }
    .sf-ha1 {
      animation: sf-ha-bounce-1 2.5s ease-in-out infinite;
    }

    /* Ha! bounce  text accent #2, staggered */
    @keyframes sf-ha-bounce-2 {
      0%, 100% { transform: translateY(0); opacity: 0.25; }
      30% { transform: translateY(-8px); opacity: 0.5; }
      60% { transform: translateY(0); opacity: 0.25; }
    }
    .sf-ha2 {
      animation: sf-ha-bounce-2 2.5s ease-in-out 0.8s infinite;
    }

    /* Tear drop  tear scales and drops slightly */
    @keyframes sf-tear {
      0%, 100% { transform: scale(1) translateY(0); opacity: 0.5; }
      50% { transform: scale(1.2) translateY(3px); opacity: 0.7; }
    }
    .sf-tear {
      transform-box: fill-box;
      transform-origin: center top;
      animation: sf-tear 1.5s ease-in-out infinite;
    }

    /* Badge shimmer  sheen slides across */
    @keyframes sf-shimmer {
      0% { transform: translateX(-60px); }
      100% { transform: translateX(60px); }
    }
    .sf-shimmer {
      animation: sf-shimmer 4s ease-in-out infinite;
    }

    /* Mouth pulse  open mouth subtly scales vertically */
    @keyframes sf-mouth-pulse {
      0%, 100% { transform: scaleY(1); }
      50% { transform: scaleY(1.08); }
    }
    .sf-mouth {
      transform-box: fill-box;
      transform-origin: center;
      animation: sf-mouth-pulse 0.8s ease-in-out infinite;
    }
  </style>

  <g class="sf-float">
    <circle cx="100" cy="100" r="96" fill="url(#b-so-funny-sfBg)" filter="url(#b-so-funny-sfShadow)"/>
    <circle cx="100" cy="100" r="85" fill="none" stroke="white" stroke-width="2" opacity="0.3"/>
    <circle cx="100" cy="100" r="80" fill="url(#b-so-funny-sfBg)"/>
    <ellipse cx="85" cy="72" rx="40" ry="28" fill="white" opacity="0.1"/>

    <!-- Shimmer overlay -->
    <g class="sf-shimmer">
      <rect x="0" y="0" width="200" height="200" fill="url(#b-so-funny-sfShimmer)" rx="100" ry="100"/>
    </g>

    <!-- Laughing face icon -->
    <g filter="url(#b-so-funny-sfGlow)" transform="translate(100, 88)" class="sf-laugh-face">
      <circle cx="0" cy="0" r="35" fill="white" opacity="0.95"/>
      <!-- Squinting eyes -->
      <path d="M-18 -8 Q-12 -16 -6 -8" fill="none" stroke="#E8850A" stroke-width="3.5" stroke-linecap="round"/>
      <path d="M6 -8 Q12 -16 18 -8" fill="none" stroke="#E8850A" stroke-width="3.5" stroke-linecap="round"/>
      <!-- Mouth  pulsing group -->
      <g class="sf-mouth">
        <path d="M-18 8 Q0 32 18 8" fill="#E8850A" opacity="0.3"/>
        <path d="M-18 8 Q0 32 18 8" fill="none" stroke="#E8850A" stroke-width="2.5" stroke-linecap="round"/>
        <ellipse cx="0" cy="18" rx="8" ry="6" fill="#FF6B6B" opacity="0.5"/>
      </g>
      <!-- Tear of laughter -->
      <g class="sf-tear">
        <path d="M24 -5 Q28 2 24 5" fill="#4FC3F7" opacity="0.5" stroke="#4FC3F7" stroke-width="1"/>
      </g>
    </g>

    <!-- Ha ha text accents -->
    <g class="sf-ha1">
      <text x="52" y="58" font-family="Inter, sans-serif" font-size="10" font-weight="700" fill="white" opacity="0.35" transform="rotate(-15, 52, 58)">Ha!</text>
    </g>
    <g class="sf-ha2">
      <text x="138" y="52" font-family="Inter, sans-serif" font-size="8" font-weight="700" fill="white" opacity="0.25" transform="rotate(10, 138, 52)">Ha!</text>
    </g>

    <text x="100" y="168" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="700" fill="white" letter-spacing="0.5">SO</text>
    <text x="100" y="183" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" font-weight="500" fill="white" opacity="0.8">FUNNY</text>
  </g>
</svg>`,
          'super-brave': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200">
  <!-- Badge: Super Brave  Orange/Brown gradient, shield/lightning icon (Animated) -->
  <defs>
    <linearGradient id="b-super-brave-sbBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#E17055"/>
      <stop offset="100%" stop-color="#B8532E"/>
    </linearGradient>
    <linearGradient id="b-super-brave-sbShimmer" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="white" stop-opacity="0"/>
      <stop offset="45%" stop-color="white" stop-opacity="0"/>
      <stop offset="50%" stop-color="white" stop-opacity="0.15"/>
      <stop offset="55%" stop-color="white" stop-opacity="0"/>
      <stop offset="100%" stop-color="white" stop-opacity="0"/>
    </linearGradient>
    <filter id="b-super-brave-sbShadow">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-color="#7A2D15" flood-opacity="0.3"/>
    </filter>
    <filter id="b-super-brave-sbGlow">
      <feGaussianBlur stdDeviation="2" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <style>
    /* Gentle float  whole badge bobs up and down */
    @keyframes sb-float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }
    .sb-float {
      animation: sb-float 3.5s ease-in-out infinite;
    }

    /* Lightning flash  bolt pulses bright like power surging */
    @keyframes sb-lightning {
      0%, 100% { opacity: 0.7; }
      15% { opacity: 1; }
      25% { opacity: 0.75; }
      35% { opacity: 1; }
      50% { opacity: 0.9; }
    }
    .sb-lightning {
      animation: sb-lightning 0.8s ease-in-out infinite;
    }

    /* Shield pulse  sturdy, powerful scale */
    @keyframes sb-shield-pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.04); }
    }
    .sb-shield {
      transform-box: fill-box;
      transform-origin: center;
      animation: sb-shield-pulse 2.5s ease-in-out infinite;
    }

    /* Sparks twinkle #1 */
    @keyframes sb-spark1 {
      0%, 100% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1); opacity: 0.5; }
    }
    .sb-spark1 {
      transform-box: fill-box;
      transform-origin: center;
      animation: sb-spark1 2s ease-in-out infinite;
    }

    /* Sparks twinkle #2  staggered */
    @keyframes sb-spark2 {
      0%, 100% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1); opacity: 0.45; }
    }
    .sb-spark2 {
      transform-box: fill-box;
      transform-origin: center;
      animation: sb-spark2 2s ease-in-out 0.7s infinite;
    }

    /* Badge shimmer  sheen slides across */
    @keyframes sb-shimmer {
      0% { transform: translateX(-60px); }
      100% { transform: translateX(60px); }
    }
    .sb-shimmer {
      animation: sb-shimmer 4s ease-in-out infinite;
    }

    /* Inner ring glow  stroke opacity pulses */
    @keyframes sb-ring-glow {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.45; }
    }
    .sb-ring {
      animation: sb-ring-glow 3s ease-in-out infinite;
    }
  </style>

  <g class="sb-float">
    <circle cx="100" cy="100" r="96" fill="url(#b-super-brave-sbBg)" filter="url(#b-super-brave-sbShadow)"/>
    <circle class="sb-ring" cx="100" cy="100" r="85" fill="none" stroke="white" stroke-width="2" opacity="0.3"/>
    <circle cx="100" cy="100" r="80" fill="url(#b-super-brave-sbBg)"/>
    <ellipse cx="85" cy="72" rx="40" ry="28" fill="white" opacity="0.1"/>

    <!-- Shimmer overlay -->
    <g class="sb-shimmer">
      <rect x="0" y="0" width="200" height="200" fill="url(#b-super-brave-sbShimmer)" rx="100" ry="100"/>
    </g>

    <!-- Shield icon -->
    <g filter="url(#b-super-brave-sbGlow)" transform="translate(100, 85)" class="sb-shield">
      <!-- Shield outline -->
      <path d="M0 -40 L35 -25 L35 5 Q35 35 0 50 Q-35 35 -35 5 L-35 -25 Z"
            fill="white" opacity="0.95"/>
      <!-- Shield inner fill -->
      <path d="M0 -32 L28 -20 L28 3 Q28 28 0 40 Q-28 28 -28 3 L-28 -20 Z"
            fill="url(#b-super-brave-sbBg)" opacity="0.3"/>
      <!-- Lightning bolt  flashing -->
      <path class="sb-lightning" d="M-5 -22 L5 -5 L-2 -5 L5 18 L-8 -2 L0 -2 Z" fill="white" opacity="0.9"/>
    </g>

    <!-- Decorative sparks -->
    <g class="sb-spark1">
      <path d="M50 50 L52 55 L57 57 L52 59 L50 64 L48 59 L43 57 L48 55 Z" fill="white" opacity="0.3"/>
    </g>
    <g class="sb-spark2">
      <path d="M155 55 L156.5 58 L160 59.5 L156.5 61 L155 64 L153.5 61 L150 59.5 L153.5 58 Z" fill="white" opacity="0.3"/>
    </g>

    <text x="100" y="168" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="700" fill="white" letter-spacing="0.5">SUPER</text>
    <text x="100" y="183" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" font-weight="500" fill="white" opacity="0.8">BRAVE</text>
  </g>
</svg>`,
          'team-player': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" width="200" height="200">
  <!-- Badge: Team Player  Purple gradient, connected people icon (Animated) -->
  <defs>
    <linearGradient id="b-team-player-tpBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#A855F7"/>
      <stop offset="100%" stop-color="#7C3AED"/>
    </linearGradient>
    <linearGradient id="b-team-player-tpShimmer" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="white" stop-opacity="0"/>
      <stop offset="45%" stop-color="white" stop-opacity="0"/>
      <stop offset="50%" stop-color="white" stop-opacity="0.15"/>
      <stop offset="55%" stop-color="white" stop-opacity="0"/>
      <stop offset="100%" stop-color="white" stop-opacity="0"/>
    </linearGradient>
    <filter id="b-team-player-tpShadow">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-color="#4C1D95" flood-opacity="0.3"/>
    </filter>
    <filter id="b-team-player-tpGlow">
      <feGaussianBlur stdDeviation="2" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <style>
    /* Gentle float  whole badge bobs up and down */
    @keyframes tp-float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }
    .tp-float {
      animation: tp-float 3s ease-in-out infinite;
    }

    /* People pulse  group energy scale */
    @keyframes tp-people-pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.03); }
    }
    .tp-people {
      transform-box: fill-box;
      transform-origin: center;
      animation: tp-people-pulse 2.5s ease-in-out infinite;
    }

    /* Left person leans right  coming together */
    @keyframes tp-lean-right {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(2px); }
    }
    .tp-person-left {
      animation: tp-lean-right 3s ease-in-out infinite;
    }

    /* Right person leans left  coming together */
    @keyframes tp-lean-left {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(-2px); }
    }
    .tp-person-right {
      animation: tp-lean-left 3s ease-in-out infinite;
    }

    /* Energy bolt flash #1 */
    @keyframes tp-bolt1 {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.6; }
    }
    .tp-bolt1 {
      animation: tp-bolt1 1.2s ease-in-out infinite;
    }

    /* Energy bolt flash #2  staggered */
    @keyframes tp-bolt2 {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.6; }
    }
    .tp-bolt2 {
      animation: tp-bolt2 1.2s ease-in-out 0.6s infinite;
    }

    /* Badge shimmer  sheen slides across */
    @keyframes tp-shimmer {
      0% { transform: translateX(-60px); }
      100% { transform: translateX(60px); }
    }
    .tp-shimmer {
      animation: tp-shimmer 4s ease-in-out infinite;
    }

    /* Sparkle twinkle #1  star */
    @keyframes tp-sparkle1 {
      0%, 100% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1); opacity: 0.5; }
    }
    .tp-sparkle1 {
      transform-box: fill-box;
      transform-origin: center;
      animation: tp-sparkle1 2.2s ease-in-out infinite;
    }

    /* Sparkle twinkle #2  dot, staggered */
    @keyframes tp-sparkle2 {
      0%, 100% { transform: scale(0.5); opacity: 0.1; }
      50% { transform: scale(1.2); opacity: 0.5; }
    }
    .tp-sparkle2 {
      transform-box: fill-box;
      transform-origin: center;
      animation: tp-sparkle2 2.2s ease-in-out 0.9s infinite;
    }

    /* Inner ring glow  stroke opacity pulses */
    @keyframes tp-ring-glow {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.45; }
    }
    .tp-ring {
      animation: tp-ring-glow 3s ease-in-out infinite;
    }
  </style>

  <g class="tp-float">
    <circle cx="100" cy="100" r="96" fill="url(#b-team-player-tpBg)" filter="url(#b-team-player-tpShadow)"/>
    <circle class="tp-ring" cx="100" cy="100" r="85" fill="none" stroke="white" stroke-width="2" opacity="0.3"/>
    <circle cx="100" cy="100" r="80" fill="url(#b-team-player-tpBg)"/>
    <ellipse cx="85" cy="72" rx="40" ry="28" fill="white" opacity="0.1"/>

    <!-- Shimmer overlay -->
    <g class="tp-shimmer">
      <rect x="0" y="0" width="200" height="200" fill="url(#b-team-player-tpShimmer)" rx="100" ry="100"/>
    </g>

    <!-- People/team icon -->
    <g filter="url(#b-team-player-tpGlow)" transform="translate(100, 85)" class="tp-people">
      <!-- Center person -->
      <g fill="white" opacity="0.95">
        <circle cx="0" cy="-22" r="10"/>
        <path d="M-15 -5 Q-15 -12 0 -12 Q15 -12 15 -5 L15 10 Q15 15 10 15 L-10 15 Q-15 15 -15 10 Z"/>
      </g>
      <!-- Left person  leans in -->
      <g class="tp-person-left" fill="white" opacity="0.76">
        <circle cx="-28" cy="-15" r="8"/>
        <path d="M-38 0 Q-38 -6 -28 -6 Q-18 -6 -18 0 L-18 10 Q-18 13 -21 13 L-35 13 Q-38 13 -38 10 Z"/>
      </g>
      <!-- Right person  leans in -->
      <g class="tp-person-right" fill="white" opacity="0.76">
        <circle cx="28" cy="-15" r="8"/>
        <path d="M18 0 Q18 -6 28 -6 Q38 -6 38 0 L38 10 Q38 13 35 13 L21 13 Q18 13 18 10 Z"/>
      </g>
    </g>

    <!-- Energy bolt between people  left bolt -->
    <path class="tp-bolt1" d="M70 85 L75 92 L72 92 L77 100" fill="none" stroke="white" stroke-width="1.5" opacity="0.4" stroke-linecap="round"/>
    <!-- Energy bolt between people  right bolt -->
    <path class="tp-bolt2" d="M130 85 L125 92 L128 92 L123 100" fill="none" stroke="white" stroke-width="1.5" opacity="0.4" stroke-linecap="round"/>

    <!-- Sparkles -->
    <g class="tp-sparkle1">
      <path d="M55 52 L57 57 L62 59 L57 61 L55 66 L53 61 L48 59 L53 57 Z" fill="white" opacity="0.35"/>
    </g>
    <g class="tp-sparkle2">
      <circle cx="148" cy="48" r="2.5" fill="white" opacity="0.3"/>
    </g>

    <text x="100" y="168" text-anchor="middle" font-family="Inter, sans-serif" font-size="13" font-weight="700" fill="white" letter-spacing="0.5">TEAM</text>
    <text x="100" y="183" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" font-weight="500" fill="white" opacity="0.8">PLAYER</text>
  </g>
</svg>`,
        };

        const CELEBRATION_SVGS = {
          'chore-complete': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="300" height="300">
  <!-- Celebration: Chore Completed  Big checkmark burst (Animated) -->
  <defs>
    <linearGradient id="c-chore-complete-ccCheck" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FFB347"/>
      <stop offset="100%" stop-color="#F18F01"/>
    </linearGradient>
    <linearGradient id="c-chore-complete-ccCircle" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#28a745"/>
      <stop offset="100%" stop-color="#20923C"/>
    </linearGradient>
    <filter id="c-chore-complete-ccGlow">
      <feGaussianBlur stdDeviation="4" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="c-chore-complete-ccShadow">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#15692A" flood-opacity="0.25"/>
    </filter>
  </defs>

  <style>
    /* === CIRCLE POP === */
    .cc-main-circle {
      transform-box: fill-box;
      transform-origin: center;
      animation: cc-circle-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
                 cc-circle-pulse 3s ease-in-out 1s infinite;
    }
    @keyframes cc-circle-pop {
      0%   { transform: scale(0); }
      55%  { transform: scale(1.05); }
      75%  { transform: scale(0.98); }
      100% { transform: scale(1); }
    }
    @keyframes cc-circle-pulse {
      0%, 100% { transform: scale(1); }
      50%      { transform: scale(1.02); }
    }

    /* === CHECKMARK DRAW === */
    .cc-checkmark path {
      stroke-dasharray: 120;
      stroke-dashoffset: 120;
      animation: cc-check-draw 0.5s ease-out 0.3s forwards;
    }
    @keyframes cc-check-draw {
      to { stroke-dashoffset: 0; }
    }

    /* === BURST RAYS EXPAND === */
    .cc-burst-rays {
      transform-box: fill-box;
      transform-origin: center;
      animation: cc-rays-expand 0.5s ease-out 0.2s forwards,
                 cc-rays-pulse 2s ease-in-out 0.8s infinite;
    }
    @keyframes cc-rays-expand {
      0%   { transform: scale(0.5); opacity: 0.02; }
      70%  { transform: scale(1.2); opacity: 0.15; }
      100% { transform: scale(1); opacity: 0.08; }
    }
    @keyframes cc-rays-pulse {
      0%, 100% { opacity: 0.05; }
      50%      { opacity: 0.15; }
    }

    /* === GLOW RING PULSE === */
    .cc-glow-ring {
      transform-box: fill-box;
      transform-origin: center;
      animation: cc-ring-pop 0.6s ease-out forwards,
                 cc-ring-pulse 2.5s ease-in-out 0.8s infinite;
    }
    @keyframes cc-ring-pop {
      0%   { transform: scale(0.8); opacity: 0; }
      60%  { transform: scale(1.1); opacity: 0.12; }
      100% { transform: scale(1); opacity: 0.08; }
    }
    @keyframes cc-ring-pulse {
      0%, 100% { opacity: 0.05; transform: scale(1); }
      50%      { opacity: 0.12; transform: scale(1.03); }
    }

    /* === CONFETTI FALL === */
    .cc-confetti-1 { animation: cc-confetti-drift-1 3s ease-in-out 0.4s infinite; }
    .cc-confetti-2 { animation: cc-confetti-drift-2 3s ease-in-out 0.7s infinite; }
    .cc-confetti-3 { animation: cc-confetti-drift-3 3s ease-in-out 1.0s infinite; }
    .cc-confetti-4 { animation: cc-confetti-drift-4 3s ease-in-out 1.3s infinite; }
    .cc-confetti-5 { animation: cc-confetti-drift-5 3s ease-in-out 0.5s infinite; }
    .cc-confetti-6 { animation: cc-confetti-drift-6 3s ease-in-out 0.9s infinite; }
    .cc-confetti-7 { animation: cc-confetti-drift-7 3s ease-in-out 1.1s infinite; }
    .cc-confetti-8 { animation: cc-confetti-drift-8 3s ease-in-out 0.6s infinite; }

    .cc-confetti-1, .cc-confetti-2, .cc-confetti-3, .cc-confetti-4,
    .cc-confetti-5, .cc-confetti-6, .cc-confetti-7, .cc-confetti-8 {
      transform-box: fill-box;
      transform-origin: center;
    }

    @keyframes cc-confetti-drift-1 {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50%      { transform: translateY(40px) rotate(180deg); }
    }
    @keyframes cc-confetti-drift-2 {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50%      { transform: translateY(35px) rotate(-180deg); }
    }
    @keyframes cc-confetti-drift-3 {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50%      { transform: translateY(38px) rotate(150deg); }
    }
    @keyframes cc-confetti-drift-4 {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50%      { transform: translateY(42px) rotate(-170deg); }
    }
    @keyframes cc-confetti-drift-5 {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50%      { transform: translateY(30px) rotate(200deg); }
    }
    @keyframes cc-confetti-drift-6 {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50%      { transform: translateY(36px) rotate(-160deg); }
    }
    @keyframes cc-confetti-drift-7 {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50%      { transform: translateY(32px) rotate(190deg); }
    }
    @keyframes cc-confetti-drift-8 {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50%      { transform: translateY(44px) rotate(-200deg); }
    }

    /* === SPARKLE TWINKLE === */
    .cc-sparkle-1 {
      transform-box: fill-box;
      transform-origin: center;
      animation: cc-twinkle 1.5s ease-in-out 0.3s infinite;
    }
    .cc-sparkle-2 {
      transform-box: fill-box;
      transform-origin: center;
      animation: cc-twinkle 1.5s ease-in-out 0.8s infinite;
    }
    .cc-sparkle-3 {
      transform-box: fill-box;
      transform-origin: center;
      animation: cc-twinkle 1.5s ease-in-out 1.3s infinite;
    }
    @keyframes cc-twinkle {
      0%, 100% { transform: scale(0); opacity: 0; }
      50%      { transform: scale(1); opacity: 1; }
    }
  </style>

  <!-- Burst rays -->
  <g class="cc-burst-rays" opacity="0.08" stroke="#28a745" stroke-width="3" stroke-linecap="round">
    <line x1="150" y1="25" x2="150" y2="55"/>
    <line x1="150" y1="245" x2="150" y2="275"/>
    <line x1="25" y1="150" x2="55" y2="150"/>
    <line x1="245" y1="150" x2="275" y2="150"/>
    <line x1="55" y1="55" x2="75" y2="75"/>
    <line x1="225" y1="75" x2="245" y2="55"/>
    <line x1="55" y1="245" x2="75" y2="225"/>
    <line x1="225" y1="225" x2="245" y2="245"/>
  </g>

  <!-- Outer glow ring -->
  <circle class="cc-glow-ring" cx="150" cy="150" r="90" fill="none" stroke="#28a745" stroke-width="3" opacity="0.08" filter="url(#c-chore-complete-ccGlow)"/>

  <!-- Main circle -->
  <g class="cc-main-circle">
    <circle cx="150" cy="150" r="72" fill="url(#c-chore-complete-ccCircle)" filter="url(#c-chore-complete-ccShadow)"/>
    <circle cx="150" cy="150" r="62" fill="none" stroke="white" stroke-width="2" opacity="0.2"/>
    <ellipse cx="138" cy="125" rx="30" ry="20" fill="white" opacity="0.1"/>
  </g>

  <!-- Big checkmark -->
  <g class="cc-checkmark" filter="url(#c-chore-complete-ccGlow)">
    <path d="M118 150 L140 172 L185 125" fill="none" stroke="white" stroke-width="12" stroke-linecap="round" stroke-linejoin="round"/>
  </g>

  <!-- Confetti particles -->
  <g>
    <rect class="cc-confetti-1" x="65" y="45" width="8" height="8" rx="1.5" fill="#FFD700" opacity="0.7" transform="rotate(30, 69, 49)"/>
    <rect class="cc-confetti-2" x="220" y="55" width="6" height="10" rx="1.5" fill="#FF6B6B" opacity="0.6" transform="rotate(-20, 223, 60)"/>
    <rect class="cc-confetti-3" x="50" y="180" width="7" height="7" rx="1.5" fill="#2E86AB" opacity="0.5" transform="rotate(45, 53, 183)"/>
    <rect class="cc-confetti-4" x="240" y="190" width="8" height="6" rx="1.5" fill="#F18F01" opacity="0.6" transform="rotate(-35, 244, 193)"/>
    <circle class="cc-confetti-5" cx="90" cy="70" r="4" fill="#A855F7" opacity="0.5"/>
    <circle class="cc-confetti-6" cx="215" cy="235" r="3.5" fill="#00D2D3" opacity="0.45"/>
    <circle class="cc-confetti-7" cx="55" cy="130" r="3" fill="#FF6B6B" opacity="0.4"/>
    <rect class="cc-confetti-8" x="230" y="120" width="5" height="9" rx="1" fill="#FFD700" opacity="0.5" transform="rotate(15, 232, 124)"/>
  </g>

  <!-- Sparkle stars -->
  <path class="cc-sparkle-1" d="M80 100 L83 108 L91 111 L83 114 L80 122 L77 114 L69 111 L77 108 Z" fill="#FFD700" opacity="0.5"/>
  <path class="cc-sparkle-2" d="M230 95 L232 100 L237 102 L232 104 L230 109 L228 104 L223 102 L228 100 Z" fill="white" opacity="0.4"/>
  <path class="cc-sparkle-3" d="M110 240 L112 245 L117 247 L112 249 L110 254 L108 249 L103 247 L108 245 Z" fill="#F18F01" opacity="0.4"/>
</svg>`,
          'reward-redeemed': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="300" height="300">
  <!-- Celebration: Reward Redeemed  Gift opening burst (Animated) -->
  <defs>
    <linearGradient id="c-reward-redeemed-rrGift" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#F18F01"/>
      <stop offset="100%" stop-color="#D47800"/>
    </linearGradient>
    <linearGradient id="c-reward-redeemed-rrLid" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#FFB347"/>
      <stop offset="100%" stop-color="#F18F01"/>
    </linearGradient>
    <filter id="c-reward-redeemed-rrGlow">
      <feGaussianBlur stdDeviation="4" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="c-reward-redeemed-rrShadow">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#8B5800" flood-opacity="0.2"/>
    </filter>
  </defs>

  <style>
    /* === BURST RAYS ROTATE === */
    .rr-burst-rays {
      transform-box: fill-box;
      transform-origin: center;
      animation: rr-burst-rotate 20s linear infinite;
    }
    @keyframes rr-burst-rotate {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }

    /* === GIFT BOX SHAKE === */
    .rr-gift-box {
      animation: rr-box-shake 0.4s ease-in-out 0.5s forwards;
    }
    @keyframes rr-box-shake {
      0%   { transform: translate(150px, 170px); }
      15%  { transform: translate(147px, 170px); }
      30%  { transform: translate(153px, 170px); }
      50%  { transform: translate(148px, 170px); }
      70%  { transform: translate(152px, 170px); }
      100% { transform: translate(150px, 170px); }
    }

    /* === LID POP === */
    .rr-lid {
      animation: rr-lid-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
                 rr-lid-rock 2s ease-in-out 0.8s infinite;
    }
    @keyframes rr-lid-pop {
      0%   { transform: translate(150px, 130px) rotate(-12deg); }
      60%  { transform: translate(150px, 100px) rotate(-25deg); }
      80%  { transform: translate(150px, 103px) rotate(-20deg); }
      100% { transform: translate(150px, 105px) rotate(-18deg); }
    }
    @keyframes rr-lid-rock {
      0%, 100% { transform: translate(150px, 105px) rotate(-18deg); }
      50%      { transform: translate(150px, 105px) rotate(-15deg); }
    }

    /* === STARS ERUPT === */
    .rr-stars {
      transform-box: fill-box;
      transform-origin: center bottom;
      animation: rr-stars-erupt 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.15s forwards,
                 rr-stars-pulse 2s ease-in-out 1s infinite;
    }
    @keyframes rr-stars-erupt {
      0%   { transform: translateY(10px) scale(0); opacity: 0; }
      65%  { transform: translateY(-20px) scale(1.2); opacity: 1; }
      100% { transform: translateY(-15px) scale(1); opacity: 1; }
    }
    @keyframes rr-stars-pulse {
      0%, 100% { transform: translateY(-15px) scale(1); }
      50%      { transform: translateY(-15px) scale(1.1); }
    }

    /* === CONFETTI SCATTER === */
    .rr-confetti-1 { transform-box: fill-box; transform-origin: center; animation: rr-confetti-1 3s ease-in-out 0.3s infinite; }
    .rr-confetti-2 { transform-box: fill-box; transform-origin: center; animation: rr-confetti-2 3s ease-in-out 0.6s infinite; }
    .rr-confetti-3 { transform-box: fill-box; transform-origin: center; animation: rr-confetti-3 3s ease-in-out 0.9s infinite; }
    .rr-confetti-4 { transform-box: fill-box; transform-origin: center; animation: rr-confetti-4 3s ease-in-out 1.2s infinite; }
    .rr-confetti-5 { transform-box: fill-box; transform-origin: center; animation: rr-confetti-5 3s ease-in-out 0.4s infinite; }
    .rr-confetti-6 { transform-box: fill-box; transform-origin: center; animation: rr-confetti-6 3s ease-in-out 0.7s infinite; }
    .rr-confetti-7 { transform-box: fill-box; transform-origin: center; animation: rr-confetti-7 3s ease-in-out 1.0s infinite; }
    .rr-confetti-8 { transform-box: fill-box; transform-origin: center; animation: rr-confetti-8 3s ease-in-out 0.5s infinite; }

    @keyframes rr-confetti-1 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(-15px, 35px) rotate(180deg); }
    }
    @keyframes rr-confetti-2 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(12px, 40px) rotate(-170deg); }
    }
    @keyframes rr-confetti-3 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(-20px, 30px) rotate(160deg); }
    }
    @keyframes rr-confetti-4 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(18px, 38px) rotate(-190deg); }
    }
    @keyframes rr-confetti-5 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(-8px, 42px) rotate(200deg); }
    }
    @keyframes rr-confetti-6 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(10px, 34px) rotate(-150deg); }
    }
    @keyframes rr-confetti-7 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(-12px, 36px) rotate(175deg); }
    }
    @keyframes rr-confetti-8 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(14px, 32px) rotate(-185deg); }
    }

    /* === COINS FLOAT === */
    .rr-coin-1 {
      animation: rr-coin-float-1 2s ease-in-out 0.5s infinite;
    }
    .rr-coin-2 {
      animation: rr-coin-float-2 2s ease-in-out 0.8s infinite;
    }
    @keyframes rr-coin-float-1 {
      0%, 100% { transform: translateY(0); opacity: 0.4; }
      50%      { transform: translateY(-15px); opacity: 0.55; }
    }
    @keyframes rr-coin-float-2 {
      0%, 100% { transform: translateY(0); opacity: 0.3; }
      50%      { transform: translateY(-12px); opacity: 0.5; }
    }
  </style>

  <!-- Background radial burst -->
  <g class="rr-burst-rays" opacity="0.06">
    <line x1="150" y1="30" x2="150" y2="270" stroke="#F18F01" stroke-width="2"/>
    <line x1="30" y1="150" x2="270" y2="150" stroke="#F18F01" stroke-width="2"/>
    <line x1="60" y1="60" x2="240" y2="240" stroke="#F18F01" stroke-width="1.5"/>
    <line x1="240" y1="60" x2="60" y2="240" stroke="#F18F01" stroke-width="1.5"/>
  </g>

  <!-- Gift box body -->
  <g class="rr-gift-box" transform="translate(150, 170)" filter="url(#c-reward-redeemed-rrShadow)">
    <rect x="-50" y="-10" width="100" height="65" rx="8" fill="url(#c-reward-redeemed-rrGift)"/>
    <rect x="-7" y="-10" width="14" height="65" rx="2" fill="#2E86AB"/>
    <rect x="-50" y="-10" width="100" height="65" rx="8" fill="none" stroke="white" stroke-width="1" opacity="0.15"/>
  </g>

  <!-- Lid (popping off!) -->
  <g class="rr-lid" transform="translate(150, 130) rotate(-12)" filter="url(#c-reward-redeemed-rrShadow)">
    <rect x="-55" y="-12" width="110" height="24" rx="6" fill="url(#c-reward-redeemed-rrLid)"/>
    <rect x="-55" y="-2" width="110" height="12" fill="#F18F01" opacity="0.3"/>
    <rect x="-7" y="-12" width="14" height="24" rx="2" fill="#2E86AB"/>
    <ellipse cx="-14" cy="-16" rx="14" ry="9" fill="#3A9BC5" transform="rotate(-15)"/>
    <ellipse cx="14" cy="-16" rx="14" ry="9" fill="#3A9BC5" transform="rotate(15)"/>
    <circle cx="0" cy="-14" r="6" fill="#2E86AB"/>
  </g>

  <!-- Stars erupting from box -->
  <g class="rr-stars" filter="url(#c-reward-redeemed-rrGlow)">
    <path d="M150 85 L154 95 L164 97 L156 103 L158 113 L150 107 L142 113 L144 103 L136 97 L146 95 Z" fill="#FFD700" opacity="0.8"/>
    <path d="M115 70 L118 77 L125 79 L119 82 L120 89 L115 84 L110 89 L111 82 L105 79 L112 77 Z" fill="#FFD700" opacity="0.6"/>
    <path d="M190 75 L192 80 L197 81 L193 84 L194 89 L190 85 L186 89 L187 84 L183 81 L188 80 Z" fill="#FFD700" opacity="0.55"/>
  </g>

  <!-- Confetti burst -->
  <g>
    <rect class="rr-confetti-1" x="100" y="55" width="7" height="7" rx="1.5" fill="#FF6B6B" opacity="0.65" transform="rotate(25, 103, 58)"/>
    <rect class="rr-confetti-2" x="195" y="50" width="6" height="9" rx="1.5" fill="#2E86AB" opacity="0.6" transform="rotate(-30, 198, 54)"/>
    <rect class="rr-confetti-3" x="80" y="100" width="8" height="5" rx="1.5" fill="#A855F7" opacity="0.5" transform="rotate(40, 84, 102)"/>
    <rect class="rr-confetti-4" x="215" y="95" width="5" height="8" rx="1" fill="#00D2D3" opacity="0.5" transform="rotate(-15, 217, 99)"/>
    <circle class="rr-confetti-5" cx="130" cy="50" r="4" fill="#F18F01" opacity="0.5"/>
    <circle class="rr-confetti-6" cx="175" cy="45" r="3" fill="#FF6B6B" opacity="0.45"/>
    <circle class="rr-confetti-7" cx="90" cy="85" r="3.5" fill="#FFD700" opacity="0.4"/>
    <circle class="rr-confetti-8" cx="220" cy="80" r="3" fill="#28a745" opacity="0.4"/>
  </g>

  <!-- Coins flying out -->
  <g class="rr-coin-1" opacity="0.4">
    <circle cx="125" cy="90" r="10" fill="#FFD700" stroke="#F18F01" stroke-width="1.5"/>
    <text x="125" y="94" text-anchor="middle" font-family="Inter, sans-serif" font-size="9" font-weight="700" fill="#B8760A">+</text>
  </g>
  <g class="rr-coin-2" opacity="0.3">
    <circle cx="180" cy="80" r="8" fill="#FFD700" stroke="#F18F01" stroke-width="1"/>
    <text x="180" y="83.5" text-anchor="middle" font-family="Inter, sans-serif" font-size="7" font-weight="700" fill="#B8760A">+</text>
  </g>
</svg>`,
          'swap-accepted': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="300" height="300">
  <!-- Celebration: Swap Accepted  Two hands shake/high-five (Animated) -->
  <defs>
    <linearGradient id="c-swap-accepted-saBlue" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#2E86AB"/>
      <stop offset="100%" stop-color="#1B5A75"/>
    </linearGradient>
    <filter id="c-swap-accepted-saGlow">
      <feGaussianBlur stdDeviation="3" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="c-swap-accepted-saShadow">
      <feDropShadow dx="0" dy="3" stdDeviation="6" flood-color="#1B2A4A" flood-opacity="0.15"/>
    </filter>
  </defs>

  <style>
    /* === CIRCLE POP === */
    .sa-main-circle {
      transform-box: fill-box;
      transform-origin: center;
      animation: sa-circle-pop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }
    @keyframes sa-circle-pop {
      0%   { transform: scale(0); }
      70%  { transform: scale(1.05); }
      85%  { transform: scale(0.98); }
      100% { transform: scale(1); }
    }

    /* === RIGHT ARROW (top) - slides from left === */
    .sa-arrow-right {
      animation: sa-arrow-slide-in-right 0.5s cubic-bezier(0.22, 1, 0.36, 1) 0.3s both,
                 sa-arrow-pulse-right 2s ease-in-out 1s infinite;
    }
    @keyframes sa-arrow-slide-in-right {
      0%   { transform: translateX(-40px); opacity: 0; }
      100% { transform: translateX(0); opacity: 1; }
    }
    @keyframes sa-arrow-pulse-right {
      0%, 100% { transform: translateX(0); }
      50%      { transform: translateX(3px); }
    }

    /* === LEFT ARROW (bottom) - slides from right === */
    .sa-arrow-left {
      animation: sa-arrow-slide-in-left 0.5s cubic-bezier(0.22, 1, 0.36, 1) 0.3s both,
                 sa-arrow-pulse-left 2s ease-in-out 1s infinite;
    }
    @keyframes sa-arrow-slide-in-left {
      0%   { transform: translateX(40px); opacity: 0; }
      100% { transform: translateX(0); opacity: 1; }
    }
    @keyframes sa-arrow-pulse-left {
      0%, 100% { transform: translateX(0); }
      50%      { transform: translateX(-3px); }
    }

    /* === CHECKMARK POP === */
    .sa-checkmark {
      transform-box: fill-box;
      transform-origin: center;
      animation: sa-check-pop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0.6s both;
    }
    @keyframes sa-check-pop {
      0%   { transform: scale(0); }
      65%  { transform: scale(1.2); }
      80%  { transform: scale(0.95); }
      100% { transform: scale(1); }
    }

    /* === BURST RAYS === */
    .sa-burst-rays {
      transform-box: fill-box;
      transform-origin: center;
      animation: sa-rays-expand 0.5s ease-out 0.15s forwards,
                 sa-rays-pulse 2.5s ease-in-out 0.8s infinite;
    }
    @keyframes sa-rays-expand {
      0%   { transform: scale(0.5); opacity: 0.02; }
      70%  { transform: scale(1.15); opacity: 0.12; }
      100% { transform: scale(1); opacity: 0.08; }
    }
    @keyframes sa-rays-pulse {
      0%, 100% { opacity: 0.05; }
      50%      { opacity: 0.12; }
    }

    /* === CONFETTI DRIFT === */
    .sa-confetti-1 { transform-box: fill-box; transform-origin: center; animation: sa-confetti-1 3s ease-in-out 0.5s infinite; }
    .sa-confetti-2 { transform-box: fill-box; transform-origin: center; animation: sa-confetti-2 3s ease-in-out 0.8s infinite; }
    .sa-confetti-3 { transform-box: fill-box; transform-origin: center; animation: sa-confetti-3 3s ease-in-out 1.1s infinite; }
    .sa-confetti-4 { transform-box: fill-box; transform-origin: center; animation: sa-confetti-4 3s ease-in-out 0.6s infinite; }
    .sa-confetti-5 { transform-box: fill-box; transform-origin: center; animation: sa-confetti-5 3s ease-in-out 0.9s infinite; }
    .sa-confetti-6 { transform-box: fill-box; transform-origin: center; animation: sa-confetti-6 3s ease-in-out 1.3s infinite; }

    @keyframes sa-confetti-1 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(-5px, 38px) rotate(180deg); }
    }
    @keyframes sa-confetti-2 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(8px, 35px) rotate(-175deg); }
    }
    @keyframes sa-confetti-3 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(-10px, 40px) rotate(165deg); }
    }
    @keyframes sa-confetti-4 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(12px, 42px) rotate(-190deg); }
    }
    @keyframes sa-confetti-5 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(-7px, 30px) rotate(195deg); }
    }
    @keyframes sa-confetti-6 {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50%      { transform: translate(6px, 36px) rotate(-160deg); }
    }

    /* === SPARKLE TWINKLE === */
    .sa-sparkle-1 {
      transform-box: fill-box;
      transform-origin: center;
      animation: sa-twinkle 2s ease-in-out 0.4s infinite;
    }
    .sa-sparkle-2 {
      transform-box: fill-box;
      transform-origin: center;
      animation: sa-twinkle 2s ease-in-out 1.2s infinite;
    }
    @keyframes sa-twinkle {
      0%, 100% { transform: scale(0); opacity: 0; }
      50%      { transform: scale(1); opacity: 1; }
    }
  </style>

  <!-- Burst lines -->
  <g class="sa-burst-rays" stroke="#2E86AB" stroke-width="2" stroke-linecap="round" opacity="0.08">
    <line x1="150" y1="30" x2="150" y2="55"/>
    <line x1="150" y1="245" x2="150" y2="270"/>
    <line x1="35" y1="150" x2="60" y2="150"/>
    <line x1="240" y1="150" x2="265" y2="150"/>
    <line x1="60" y1="60" x2="80" y2="80"/>
    <line x1="220" y1="80" x2="240" y2="60"/>
  </g>

  <!-- Swap arrows circle -->
  <g class="sa-main-circle">
    <circle cx="150" cy="150" r="72" fill="url(#c-swap-accepted-saBlue)" filter="url(#c-swap-accepted-saShadow)"/>
    <circle cx="150" cy="150" r="62" fill="none" stroke="white" stroke-width="2" opacity="0.2"/>
    <ellipse cx="138" cy="125" rx="28" ry="18" fill="white" opacity="0.08"/>
  </g>

  <!-- Swap arrows icon -->
  <g filter="url(#c-swap-accepted-saGlow)" stroke="white" stroke-width="5" fill="none" stroke-linecap="round" stroke-linejoin="round">
    <!-- Right arrow (top) -->
    <g class="sa-arrow-right">
      <path d="M120 135 L180 135"/>
      <path d="M168 123 L180 135 L168 147"/>
    </g>
    <!-- Left arrow (bottom) -->
    <g class="sa-arrow-left">
      <path d="M180 165 L120 165"/>
      <path d="M132 177 L120 165 L132 153"/>
    </g>
  </g>

  <!-- Checkmark overlay -->
  <g class="sa-checkmark" transform="translate(195, 110)" filter="url(#c-swap-accepted-saGlow)">
    <circle cx="0" cy="0" r="16" fill="#28a745"/>
    <path d="M-7 0 L-2 5 L8 -5" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
  </g>

  <!-- Confetti -->
  <g>
    <rect class="sa-confetti-1" x="70" y="50" width="7" height="7" rx="1.5" fill="#FFD700" opacity="0.6" transform="rotate(20, 73, 53)"/>
    <rect class="sa-confetti-2" x="220" y="55" width="6" height="8" rx="1.5" fill="#FF6B6B" opacity="0.55" transform="rotate(-25, 223, 59)"/>
    <rect class="sa-confetti-3" x="55" y="200" width="8" height="5" rx="1.5" fill="#A855F7" opacity="0.45" transform="rotate(35, 59, 202)"/>
    <rect class="sa-confetti-4" x="235" y="210" width="5" height="8" rx="1" fill="#00D2D3" opacity="0.5" transform="rotate(-40, 237, 214)"/>
    <circle class="sa-confetti-5" cx="95" cy="75" r="3.5" fill="#F18F01" opacity="0.45"/>
    <circle class="sa-confetti-6" cx="210" cy="240" r="3" fill="#FFD700" opacity="0.4"/>
  </g>

  <!-- Sparkle stars -->
  <path class="sa-sparkle-1" d="M85 115 L87 120 L92 122 L87 124 L85 129 L83 124 L78 122 L83 120 Z" fill="#FFD700" opacity="0.45"/>
  <path class="sa-sparkle-2" d="M225 130 L227 134 L231 135 L227 137 L225 141 L223 137 L219 135 L223 134 Z" fill="white" opacity="0.35"/>
</svg>`,
          'shoutout-sent': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="300" height="300">
  <!-- Celebration: Shoutout Sent  Heart burst with sparkles (Animated) -->
  <defs>
    <linearGradient id="c-shoutout-sent-ssHeart" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#FF6B6B"/>
      <stop offset="100%" stop-color="#EE3B5B"/>
    </linearGradient>
    <filter id="c-shoutout-sent-ssGlow">
      <feGaussianBlur stdDeviation="4" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="c-shoutout-sent-ssShadow">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#A01030" flood-opacity="0.2"/>
    </filter>
  </defs>

  <style>
    /* === HEARTBEAT  double-pump rhythm === */
    @keyframes ss-heartbeat {
      0%   { transform: scale(1); }
      15%  { transform: scale(1.12); }
      30%  { transform: scale(1); }
      45%  { transform: scale(1.06); }
      60%  { transform: scale(1); }
      100% { transform: scale(1); }
    }
    .ss-heart {
      transform-box: fill-box;
      transform-origin: center;
      animation: ss-heartbeat 1.2s ease-in-out infinite;
    }

    /* === RADIAL GLOW PULSE === */
    @keyframes ss-glow-pulse {
      0%   { opacity: 0.03; }
      15%  { opacity: 0.08; }
      30%  { opacity: 0.03; }
      45%  { opacity: 0.06; }
      60%  { opacity: 0.03; }
      100% { opacity: 0.03; }
    }
    .ss-glow {
      animation: ss-glow-pulse 1.2s ease-in-out infinite;
    }

    /* === BURST RAYS PULSE === */
    @keyframes ss-rays-pulse {
      0%   { transform: scale(0.9); opacity: 0.05; }
      15%  { transform: scale(1.1); opacity: 0.15; }
      30%  { transform: scale(0.9); opacity: 0.05; }
      45%  { transform: scale(1.05); opacity: 0.12; }
      60%  { transform: scale(0.9); opacity: 0.05; }
      100% { transform: scale(0.9); opacity: 0.05; }
    }
    .ss-rays {
      transform-box: fill-box;
      transform-origin: center;
      animation: ss-rays-pulse 1.2s ease-in-out infinite;
    }

    /* === MINI HEARTS FLOAT === */
    @keyframes ss-mini-float-1 {
      0%   { transform: translate(0, 0); opacity: 0.35; }
      50%  { transform: translate(5px, -15px); opacity: 0.25; }
      100% { transform: translate(-5px, -30px); opacity: 0.15; }
    }
    @keyframes ss-mini-float-2 {
      0%   { transform: translate(0, 0); opacity: 0.35; }
      50%  { transform: translate(-5px, -15px); opacity: 0.25; }
      100% { transform: translate(5px, -30px); opacity: 0.15; }
    }
    @keyframes ss-mini-float-3 {
      0%   { transform: translate(0, 0); opacity: 0.35; }
      50%  { transform: translate(4px, -18px); opacity: 0.22; }
      100% { transform: translate(-3px, -30px); opacity: 0.15; }
    }
    @keyframes ss-mini-float-4 {
      0%   { transform: translate(0, 0); opacity: 0.35; }
      50%  { transform: translate(-4px, -12px); opacity: 0.28; }
      100% { transform: translate(5px, -30px); opacity: 0.15; }
    }
    .ss-mini-heart-1 {
      animation: ss-mini-float-1 3.2s ease-in-out infinite;
    }
    .ss-mini-heart-2 {
      animation: ss-mini-float-2 3.8s ease-in-out infinite;
      animation-delay: 0.5s;
    }
    .ss-mini-heart-3 {
      animation: ss-mini-float-3 3.5s ease-in-out infinite;
      animation-delay: 1.2s;
    }
    .ss-mini-heart-4 {
      animation: ss-mini-float-4 4.0s ease-in-out infinite;
      animation-delay: 0.8s;
    }

    /* === CONFETTI FLOAT === */
    @keyframes ss-confetti-1 {
      0%   { transform: translate(0, 0) rotate(25deg); }
      100% { transform: translate(-3px, 12px) rotate(55deg); }
    }
    @keyframes ss-confetti-2 {
      0%   { transform: translate(0, 0) rotate(-20deg); }
      100% { transform: translate(4px, 14px) rotate(10deg); }
    }
    @keyframes ss-confetti-3 {
      0%   { transform: translate(0, 0) rotate(40deg); }
      100% { transform: translate(-2px, 10px) rotate(80deg); }
    }
    @keyframes ss-confetti-4 {
      0%   { transform: translate(0, 0) rotate(-35deg); }
      100% { transform: translate(3px, 11px) rotate(-5deg); }
    }
    @keyframes ss-confetti-5 {
      0%   { transform: translate(0, 0); }
      100% { transform: translate(-2px, 10px); }
    }
    @keyframes ss-confetti-6 {
      0%   { transform: translate(0, 0); }
      100% { transform: translate(3px, 8px); }
    }
    .ss-confetti-1 { animation: ss-confetti-1 4s ease-in-out infinite alternate; }
    .ss-confetti-2 { animation: ss-confetti-2 3.6s ease-in-out infinite alternate; animation-delay: 0.4s; }
    .ss-confetti-3 { animation: ss-confetti-3 4.2s ease-in-out infinite alternate; animation-delay: 0.9s; }
    .ss-confetti-4 { animation: ss-confetti-4 3.8s ease-in-out infinite alternate; animation-delay: 1.3s; }
    .ss-confetti-5 { animation: ss-confetti-5 4.5s ease-in-out infinite alternate; animation-delay: 0.6s; }
    .ss-confetti-6 { animation: ss-confetti-6 3.4s ease-in-out infinite alternate; animation-delay: 1.0s; }

    /* === SPARKLE TWINKLE === */
    @keyframes ss-twinkle {
      0%   { transform: scale(0); opacity: 0; }
      50%  { transform: scale(1); opacity: 1; }
      100% { transform: scale(0); opacity: 0; }
    }
    .ss-sparkle-1 {
      transform-box: fill-box;
      transform-origin: center;
      animation: ss-twinkle 2s ease-in-out infinite;
    }
    .ss-sparkle-2 {
      transform-box: fill-box;
      transform-origin: center;
      animation: ss-twinkle 2s ease-in-out infinite;
      animation-delay: 0.7s;
    }
    .ss-sparkle-3 {
      transform-box: fill-box;
      transform-origin: center;
      animation: ss-twinkle 2s ease-in-out infinite;
      animation-delay: 1.3s;
    }

    /* === HEART SHEEN SLIDE === */
    @keyframes ss-sheen {
      0%   { transform: translateX(-10px); opacity: 0.1; }
      50%  { opacity: 0.2; }
      100% { transform: translateX(10px); opacity: 0.1; }
    }
    .ss-sheen {
      animation: ss-sheen 4s ease-in-out infinite alternate;
    }
  </style>

  <!-- Soft radial glow -->
  <circle class="ss-glow" cx="150" cy="145" r="100" fill="#FF6B6B" opacity="0.04"/>
  <circle class="ss-glow" cx="150" cy="145" r="70" fill="#FF6B6B" opacity="0.04"/>

  <!-- Burst rays -->
  <g class="ss-rays" stroke="#FF6B6B" stroke-width="2" stroke-linecap="round" opacity="0.08">
    <line x1="150" y1="28" x2="150" y2="55"/>
    <line x1="150" y1="245" x2="150" y2="272"/>
    <line x1="28" y1="145" x2="55" y2="145"/>
    <line x1="245" y1="145" x2="272" y2="145"/>
    <line x1="55" y1="55" x2="75" y2="75"/>
    <line x1="225" y1="75" x2="245" y2="55"/>
    <line x1="55" y1="240" x2="75" y2="220"/>
    <line x1="225" y1="220" x2="245" y2="240"/>
  </g>

  <!-- Big heart -->
  <g class="ss-heart" transform="translate(150, 140)" filter="url(#c-shoutout-sent-ssShadow)">
    <g filter="url(#c-shoutout-sent-ssGlow)">
      <path d="M0 55 C-8 48 -60 20 -60 -12 C-60 -35 -42 -52 -22 -52 C-8 -52 0 -42 0 -42 C0 -42 8 -52 22 -52 C42 -52 60 -35 60 -12 C60 20 8 48 0 55 Z"
            fill="url(#c-shoutout-sent-ssHeart)"/>
    </g>
    <ellipse class="ss-sheen" cx="-18" cy="-25" rx="15" ry="12" fill="white" opacity="0.15" transform="rotate(-20)"/>
  </g>

  <!-- Floating mini hearts -->
  <g fill="#FF6B6B">
    <g class="ss-mini-heart-1">
      <path d="M80 70 C80 65 75 60 70 63 C65 60 60 65 60 70 C60 78 70 84 75 88 C80 84 90 78 80 70" transform="scale(0.6) translate(70, 50)" opacity="0.35"/>
    </g>
    <g class="ss-mini-heart-2">
      <path d="M80 70 C80 65 75 60 70 63 C65 60 60 65 60 70 C60 78 70 84 75 88 C80 84 90 78 80 70" transform="scale(0.45) translate(430, 60)" opacity="0.35"/>
    </g>
    <g class="ss-mini-heart-3">
      <path d="M80 70 C80 65 75 60 70 63 C65 60 60 65 60 70 C60 78 70 84 75 88 C80 84 90 78 80 70" transform="scale(0.35) translate(180, 580)" opacity="0.35"/>
    </g>
    <g class="ss-mini-heart-4">
      <path d="M80 70 C80 65 75 60 70 63 C65 60 60 65 60 70 C60 78 70 84 75 88 C80 84 90 78 80 70" transform="scale(0.4) translate(480, 480)" opacity="0.35"/>
    </g>
  </g>

  <!-- Confetti -->
  <g>
    <rect class="ss-confetti-1" x="75" y="50" width="7" height="7" rx="1.5" fill="#FFD700" opacity="0.6"/>
    <rect class="ss-confetti-2" x="215" y="45" width="6" height="9" rx="1.5" fill="#2E86AB" opacity="0.55"/>
    <rect class="ss-confetti-3" x="55" y="180" width="8" height="5" rx="1.5" fill="#A855F7" opacity="0.45"/>
    <rect class="ss-confetti-4" x="240" y="200" width="5" height="8" rx="1" fill="#00D2D3" opacity="0.5"/>
    <circle class="ss-confetti-5" cx="98" cy="230" r="3.5" fill="#FFD700" opacity="0.4"/>
    <circle class="ss-confetti-6" cx="210" cy="245" r="3" fill="#F18F01" opacity="0.35"/>
  </g>

  <!-- Sparkle stars -->
  <g class="ss-sparkle-1">
    <path d="M90 95 L93 103 L101 106 L93 109 L90 117 L87 109 L79 106 L87 103 Z" fill="#FFD700" opacity="0.5"/>
  </g>
  <g class="ss-sparkle-2">
    <path d="M220 100 L222 105 L227 107 L222 109 L220 114 L218 109 L213 107 L218 105 Z" fill="white" opacity="0.4"/>
  </g>
  <g class="ss-sparkle-3">
    <path d="M145 55 L147 60 L152 61 L147 63 L145 68 L143 63 L138 61 L143 60 Z" fill="#FF6B6B" opacity="0.4"/>
  </g>
</svg>`,
          'family-created': `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="300" height="300">
  <!-- Celebration: Family Created  House with heart, welcome (Animated) -->
  <defs>
    <linearGradient id="c-family-created-fcRoof" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#2E86AB"/>
      <stop offset="100%" stop-color="#1B5A75"/>
    </linearGradient>
    <linearGradient id="c-family-created-fcWall" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#FFFFFF"/>
      <stop offset="100%" stop-color="#F5F7FA"/>
    </linearGradient>
    <filter id="c-family-created-fcGlow">
      <feGaussianBlur stdDeviation="3" result="glow"/>
      <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <filter id="c-family-created-fcShadow">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#1B2A4A" flood-opacity="0.12"/>
    </filter>
  </defs>

  <style>
    /* === HOUSE BUILD  bounce-in appearance === */
    @keyframes fc-house-build {
      0%   { transform: translate(150px, 155px) scale(0); }
      60%  { transform: translate(150px, 155px) scale(1.05); }
      80%  { transform: translate(150px, 155px) scale(0.98); }
      100% { transform: translate(150px, 155px) scale(1); }
    }
    .fc-house {
      animation: fc-house-build 0.6s ease-out forwards;
    }

    /* === WINDOW GLOW  warm pulsing light === */
    @keyframes fc-window-glow {
      0%   { opacity: 0.8; }
      50%  { opacity: 1.0; }
      100% { opacity: 0.8; }
    }
    .fc-window {
      animation: fc-window-glow 2s ease-in-out infinite;
    }
    .fc-window-2 {
      animation: fc-window-glow 2s ease-in-out infinite;
      animation-delay: 0.3s;
    }

    /* === DOOR HEART BEAT === */
    @keyframes fc-door-heart {
      0%   { transform: scale(1); }
      30%  { transform: scale(1.15); }
      60%  { transform: scale(1); }
      100% { transform: scale(1); }
    }
    .fc-door-heart {
      transform-box: fill-box;
      transform-origin: center;
      animation: fc-door-heart 1.5s ease-in-out infinite;
    }

    /* === CHIMNEY SMOKE  floating fading puffs === */
    @keyframes fc-smoke-1 {
      0%   { transform: translate(0, 0) scale(1); opacity: 0.2; }
      100% { transform: translate(-5px, -30px) scale(1.5); opacity: 0; }
    }
    @keyframes fc-smoke-2 {
      0%   { transform: translate(0, 0) scale(1); opacity: 0.18; }
      100% { transform: translate(3px, -28px) scale(1.4); opacity: 0; }
    }
    @keyframes fc-smoke-3 {
      0%   { transform: translate(0, 0) scale(1); opacity: 0.15; }
      100% { transform: translate(-2px, -32px) scale(1.6); opacity: 0; }
    }
    .fc-smoke-1 {
      animation: fc-smoke-1 3s ease-out infinite;
    }
    .fc-smoke-2 {
      animation: fc-smoke-2 3s ease-out infinite;
      animation-delay: 1s;
    }
    .fc-smoke-3 {
      animation: fc-smoke-3 3s ease-out infinite;
      animation-delay: 2s;
    }

    /* === WARM GLOW PULSE === */
    @keyframes fc-warm-glow {
      0%   { opacity: 0.03; }
      50%  { opacity: 0.07; }
      100% { opacity: 0.03; }
    }
    .fc-warm-glow {
      animation: fc-warm-glow 3s ease-in-out infinite;
    }

    /* === CONFETTI DRIFT === */
    @keyframes fc-confetti-1 {
      0%   { transform: translate(0, 0) rotate(30deg); }
      100% { transform: translate(-4px, 14px) rotate(65deg); }
    }
    @keyframes fc-confetti-2 {
      0%   { transform: translate(0, 0) rotate(-20deg); }
      100% { transform: translate(3px, 12px) rotate(15deg); }
    }
    @keyframes fc-confetti-3 {
      0%   { transform: translate(0, 0) rotate(45deg); }
      100% { transform: translate(-2px, 10px) rotate(85deg); }
    }
    @keyframes fc-confetti-4 {
      0%   { transform: translate(0, 0) rotate(-35deg); }
      100% { transform: translate(4px, 13px) rotate(0deg); }
    }
    @keyframes fc-confetti-5 {
      0%   { transform: translate(0, 0); }
      100% { transform: translate(-3px, 11px); }
    }
    @keyframes fc-confetti-6 {
      0%   { transform: translate(0, 0); }
      100% { transform: translate(2px, 9px); }
    }
    @keyframes fc-confetti-7 {
      0%   { transform: translate(0, 0); }
      100% { transform: translate(-1px, 8px); }
    }
    @keyframes fc-confetti-8 {
      0%   { transform: translate(0, 0); }
      100% { transform: translate(3px, 10px); }
    }
    .fc-confetti-1 { animation: fc-confetti-1 4s ease-in-out infinite alternate; }
    .fc-confetti-2 { animation: fc-confetti-2 3.5s ease-in-out infinite alternate; animation-delay: 0.5s; }
    .fc-confetti-3 { animation: fc-confetti-3 4.2s ease-in-out infinite alternate; animation-delay: 1.0s; }
    .fc-confetti-4 { animation: fc-confetti-4 3.8s ease-in-out infinite alternate; animation-delay: 1.4s; }
    .fc-confetti-5 { animation: fc-confetti-5 4.5s ease-in-out infinite alternate; animation-delay: 0.3s; }
    .fc-confetti-6 { animation: fc-confetti-6 3.6s ease-in-out infinite alternate; animation-delay: 0.8s; }
    .fc-confetti-7 { animation: fc-confetti-7 4.0s ease-in-out infinite alternate; animation-delay: 1.2s; }
    .fc-confetti-8 { animation: fc-confetti-8 3.3s ease-in-out infinite alternate; animation-delay: 0.6s; }

    /* === SPARKLE TWINKLE === */
    @keyframes fc-twinkle {
      0%   { transform: scale(0); opacity: 0; }
      50%  { transform: scale(1); opacity: 1; }
      100% { transform: scale(0); opacity: 0; }
    }
    .fc-sparkle-1 {
      transform-box: fill-box;
      transform-origin: center;
      animation: fc-twinkle 2s ease-in-out infinite;
    }
    .fc-sparkle-2 {
      transform-box: fill-box;
      transform-origin: center;
      animation: fc-twinkle 2s ease-in-out infinite;
      animation-delay: 0.7s;
    }
    .fc-sparkle-3 {
      transform-box: fill-box;
      transform-origin: center;
      animation: fc-twinkle 2s ease-in-out infinite;
      animation-delay: 1.4s;
    }

    /* === WELCOME TEXT  fade in then gentle pulse === */
    @keyframes fc-welcome-in {
      0%   { opacity: 0; }
      100% { opacity: 0.4; }
    }
    @keyframes fc-welcome-pulse {
      0%   { opacity: 0.35; }
      50%  { opacity: 0.45; }
      100% { opacity: 0.35; }
    }
    .fc-welcome {
      animation: fc-welcome-in 1s ease-out 0.8s forwards, fc-welcome-pulse 3s ease-in-out 1.8s infinite;
      opacity: 0;
    }

    /* === DOORKNOB SHINE === */
    @keyframes fc-knob-shine {
      0%   { opacity: 0.8; transform: scale(1); }
      50%  { opacity: 1; transform: scale(1.15); }
      100% { opacity: 0.8; transform: scale(1); }
    }
    .fc-doorknob {
      transform-box: fill-box;
      transform-origin: center;
      animation: fc-knob-shine 2s ease-in-out infinite;
    }
  </style>

  <!-- Warm glow -->
  <circle class="fc-warm-glow" cx="150" cy="155" r="95" fill="#F18F01" opacity="0.04"/>
  <circle class="fc-warm-glow" cx="150" cy="155" r="65" fill="#F18F01" opacity="0.04"/>

  <!-- House -->
  <g class="fc-house" filter="url(#c-family-created-fcShadow)" transform="translate(150, 155)">
    <!-- Walls -->
    <rect x="-55" y="-15" width="110" height="75" rx="4" fill="url(#c-family-created-fcWall)" stroke="#DDE4E8" stroke-width="1.5"/>
    <!-- Roof -->
    <path d="M-70 -15 L0 -65 L70 -15 Z" fill="url(#c-family-created-fcRoof)"/>
    <path d="M-60 -15 L0 -58 L60 -15" fill="none" stroke="white" stroke-width="1" opacity="0.15"/>
    <!-- Door -->
    <rect x="-14" y="15" width="28" height="45" rx="4" fill="#1B2A4A"/>
    <!-- Doorknob -->
    <circle class="fc-doorknob" cx="8" cy="38" r="3" fill="#FFD700"/>
    <!-- Left window -->
    <rect class="fc-window" x="-45" y="5" width="22" height="22" rx="3" fill="#FFE8B8"/>
    <!-- Right window -->
    <rect class="fc-window-2" x="23" y="5" width="22" height="22" rx="3" fill="#FFE8B8"/>
    <!-- Window panes left -->
    <line x1="-34" y1="5" x2="-34" y2="27" stroke="white" stroke-width="1.5" opacity="0.5"/>
    <line x1="-45" y1="16" x2="-23" y2="16" stroke="white" stroke-width="1.5" opacity="0.5"/>
    <!-- Window panes right -->
    <line x1="34" y1="5" x2="34" y2="27" stroke="white" stroke-width="1.5" opacity="0.5"/>
    <line x1="23" y1="16" x2="45" y2="16" stroke="white" stroke-width="1.5" opacity="0.5"/>
    <!-- Chimney -->
    <rect x="25" y="-55" width="18" height="30" rx="2" fill="#E17055"/>
    <!-- Heart on door -->
    <g class="fc-door-heart" transform="translate(0, 25)" fill="#FF6B6B" opacity="0.6">
      <path d="M0 6 C-1 5 -7 2 -7 -2 C-7 -5 -5 -7 -3 -7 C-1 -7 0 -6 0 -6 C0 -6 1 -7 3 -7 C5 -7 7 -5 7 -2 C7 2 1 5 0 6 Z"/>
    </g>
    <!-- Chimney smoke puffs -->
    <circle class="fc-smoke-1" cx="34" cy="-57" r="4" fill="#B0B0B0" opacity="0.2"/>
    <circle class="fc-smoke-2" cx="36" cy="-57" r="3.5" fill="#C0C0C0" opacity="0.18"/>
    <circle class="fc-smoke-3" cx="33" cy="-57" r="3" fill="#B8B8B8" opacity="0.15"/>
  </g>

  <!-- Confetti -->
  <g>
    <rect class="fc-confetti-1" x="65" y="55" width="8" height="8" rx="1.5" fill="#FFD700" opacity="0.65"/>
    <rect class="fc-confetti-2" x="225" y="50" width="6" height="10" rx="1.5" fill="#FF6B6B" opacity="0.6"/>
    <rect class="fc-confetti-3" x="50" y="190" width="7" height="7" rx="1.5" fill="#2E86AB" opacity="0.5"/>
    <rect class="fc-confetti-4" x="245" y="195" width="8" height="5" rx="1.5" fill="#A855F7" opacity="0.5"/>
    <circle class="fc-confetti-5" cx="90" cy="70" r="4" fill="#F18F01" opacity="0.5"/>
    <circle class="fc-confetti-6" cx="215" cy="240" r="3.5" fill="#00D2D3" opacity="0.4"/>
    <circle class="fc-confetti-7" cx="55" cy="140" r="3" fill="#FFD700" opacity="0.35"/>
    <circle class="fc-confetti-8" cx="250" cy="130" r="2.5" fill="#FF6B6B" opacity="0.35"/>
  </g>

  <!-- Sparkle stars -->
  <g filter="url(#c-family-created-fcGlow)">
    <g class="fc-sparkle-1">
      <path d="M80 100 L83 108 L91 111 L83 114 L80 122 L77 114 L69 111 L77 108 Z" fill="#FFD700" opacity="0.45"/>
    </g>
    <g class="fc-sparkle-2">
      <path d="M230 105 L232 110 L237 112 L232 114 L230 119 L228 114 L223 112 L228 110 Z" fill="#F18F01" opacity="0.4"/>
    </g>
    <g class="fc-sparkle-3">
      <path d="M150 55 L152 60 L157 62 L152 64 L150 69 L148 64 L143 62 L148 60 Z" fill="white" opacity="0.35"/>
    </g>
  </g>

  <!-- Welcome banner -->
  <text class="fc-welcome" x="150" y="265" text-anchor="middle" font-family="Inter, sans-serif" font-size="11" font-weight="600" fill="#2E86AB" letter-spacing="3" opacity="0">WELCOME HOME</text>
</svg>`,
        };

        // Lookup: emoji  mascot key
        const EMOJI_TO_MASCOT = {
          '': 'octopus', '': 'dog', '': 'cat', '': 'bunny',
          '': 'hamster', '': 'parrot', '': 'turtle', '': 'fox',
          '': 'panda', '': 'penguin', '': 'lion', '': 'frog'
        };

        // Lookup: badge display name  SVG key
        const BADGE_NAME_TO_KEY = {
          'Amazing Sibling': 'amazing-sibling',
          'Kind Heart': 'kind-heart',
          'Best Helper': 'best-helper',
          'So Funny': 'so-funny',
          'Super Brave': 'super-brave',
          'Team Player': 'team-player'
        };

        // Helper: get mascot SVG at a given size
        function getMascotSVG(key, size) {
          size = size || 52;
          var svg = MASCOT_SVGS[key];
          if (!svg) return '';
          return svg.replace(/width="400" height="400"/, 'width="' + size + '" height="' + size + '"');
        }

        // Helper: get badge SVG at a given size
        function getBadgeSVG(key, size) {
          size = size || 48;
          var svg = BADGE_SVGS[key];
          if (!svg) return '';
          return svg.replace(/width="200" height="200"/, 'width="' + size + '" height="' + size + '"');
        }

        // Helper: get celebration SVG at a given size
        function getCelebrationSVG(key, size) {
          size = size || 200;
          var svg = CELEBRATION_SVGS[key];
          if (!svg) return '';
          return svg.replace(/width="300" height="300"/, 'width="' + size + '" height="' + size + '"');
        }

        let navigationHistory = [];

        function navigateTo(screenId, isBack) {
            var current = document.querySelector('.screen.active');
            var next = document.getElementById(screenId);
            if (!next) return;

            if (current && current.id !== screenId) {
                // Track navigation history
                if (!isBack) {
                    navigationHistory.push(current.id);
                }

                // Add entrance animation to new screen
                next.classList.add(isBack ? 'screen-entering-back' : 'screen-entering');
                setTimeout(function() {
                    next.classList.remove('screen-entering', 'screen-entering-back');
                }, 300);
            }

            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            next.classList.add('active');
            companionOnNavigate(screenId);
            updateParentRoleLabels();
            // Initialize swipe cards when entering parent-verify
            if (screenId === 'parent-verify') {
                setTimeout(function() { initSwipeCards(); }, 150);
            }
        }

        function goBack(fallbackScreen) {
            var prev = navigationHistory.pop();
            navigateTo(prev || fallbackScreen, true);
        }

        function toggleRole() {
            if (currentRole === 'kid') {
                currentRole = 'parent';
                navigateTo('parent-dashboard');
            } else {
                currentRole = 'kid';
                navigateTo('kid-chores');
            }
            updateRoleText();
        }

        function switchRole(role) {
            currentRole = role;
            updateRoleText();
        }

        function updateRoleText() {
            const roleTexts = document.querySelectorAll('.role-text');
            roleTexts.forEach(el => {
                el.textContent = currentRole === 'kid' ? 'Switch to Parent' : 'Switch to Kid';
            });
        }

        function toggleNotifications() {
            const panel = document.getElementById('notifications-panel');
            panel.classList.toggle('active');
        }

        function setTheme(themeName) {
            currentTheme = themeName;
            document.documentElement.setAttribute('data-theme', themeName);

            // Update active state on all theme grids (parent + kid settings)
            document.querySelectorAll('.theme-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll(`.theme-${themeName}`).forEach(item => {
                item.classList.add('active');
            });
        }

        function toggleDarkMode() {
            isDarkMode = !isDarkMode;
            document.documentElement.setAttribute('data-dark', isDarkMode);

            // Sync both parent and kid dark mode toggles
            ['dark-mode-toggle', 'kid-dark-mode-toggle'].forEach(id => {
                const toggle = document.getElementById(id);
                if (toggle) {
                    if (isDarkMode) {
                        toggle.classList.add('active');
                    } else {
                        toggle.classList.remove('active');
                    }
                }
            });
        }

        function selectBadge(element) {
            document.querySelectorAll('.badge-selectable').forEach(b => b.classList.remove('selected'));
            element.classList.add('selected');
        }

        function toggleEmoji(element) {
            element.classList.toggle('selected');
        }

        function createConfetti() {
            const container = document.getElementById('confetti-container');
            const colors = ['#F18F01', '#2E86AB', '#FF6B35', '#FFD700', '#39D353', '#FF69B4'];

            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                container.appendChild(confetti);

                setTimeout(() => confetti.remove(), 3000);
            }
            companionCelebrate();
        }

        // Celebration overlay  shows animated SVG celebration
        function showCelebration(type) {
            var overlay = document.getElementById('celebration-overlay');
            var content = document.getElementById('celebration-content');
            if (!overlay || !content) return;

            var svg = getCelebrationSVG(type, 220);
            if (!svg) {
                // Fallback to confetti if type not found
                createConfetti();
                return;
            }

            content.innerHTML = svg;
            overlay.classList.add('visible');
            companionCelebrate();

            setTimeout(function() {
                overlay.classList.remove('visible');
                setTimeout(function() {
                    content.innerHTML = '';
                }, 300);
            }, 2500);
        }

        function submitChore() {
            showCelebration('chore-complete');
            setTimeout(() => {
                navigateTo('kid-chores');
            }, 1500);
        }

        function redeemReward() {
            showCelebration('reward-redeemed');
            setTimeout(() => {
                navigateTo('kid-rewards');
            }, 1500);
        }

        function approveChore() {
            navigateTo('parent-dashboard');
        }

        // Swap state
        let swapIncentiveOn = false;
        let swapIncentivePoints = 0;
        let selectedSwapChore = null;

        function selectSwapSibling() {
            navigateTo('kid-swap-sibling-select');
        }

        function chooseSibling(name) {
            // For prototype, both go to same screen. Update header.
            document.getElementById('swap-sibling-name').textContent = name;
            document.getElementById('swap-sibling-name2').textContent = name;
            document.getElementById('swap-sibling-name3').textContent = name;
            document.getElementById('swap-sibling-name4').textContent = name;
            document.getElementById('swap-sibling-name5').textContent = name;
            navigateTo('kid-swap-sibling');
        }

        function selectSwapChore(element) {
            document.querySelectorAll('.swap-chore-option').forEach(card => {
                card.style.border = '2px solid var(--border)';
                card.style.background = 'var(--bg-card)';
            });
            element.style.border = '2px solid var(--secondary)';
            element.style.background = 'rgba(46, 134, 171, 0.1)';
            selectedSwapChore = element.querySelector('.card-title').textContent;
            const pts = element.querySelector('.points-badge').textContent;
            // Update confirm screen
            document.getElementById('confirm-swap-get-name').textContent = selectedSwapChore;
            document.getElementById('confirm-swap-get-pts').textContent = pts;
        }

        function toggleIncentive() {
            swapIncentiveOn = !swapIncentiveOn;
            const toggle = document.getElementById('incentive-toggle');
            const sliderSection = document.getElementById('incentive-slider-section');
            if (swapIncentiveOn) {
                toggle.classList.add('active');
                sliderSection.classList.add('visible');
            } else {
                toggle.classList.remove('active');
                sliderSection.classList.remove('visible');
                swapIncentivePoints = 0;
                updateIncentiveDisplay();
            }
            updateConfirmIncentive();
        }

        function updateIncentivePoints(value) {
            swapIncentivePoints = parseInt(value);
            updateIncentiveDisplay();
            updateConfirmIncentive();
        }

        function updateIncentiveDisplay() {
            document.getElementById('incentive-value').textContent = swapIncentivePoints;
            document.getElementById('incentive-value-sub').textContent = swapIncentivePoints;
            document.getElementById('incentive-remaining').textContent = 135 - swapIncentivePoints;
        }

        function updateConfirmIncentive() {
            const incentiveLine = document.getElementById('confirm-incentive-line');
            const sentIncentive = document.getElementById('sent-incentive-line');
            const incomingBonus = document.getElementById('incoming-bonus');
            const acceptedBonus = document.getElementById('accepted-bonus');
            if (swapIncentiveOn && swapIncentivePoints > 0) {
                incentiveLine.style.display = 'block';
                incentiveLine.textContent = '+ ' + swapIncentivePoints + ' pts incentive';
                sentIncentive.style.display = 'block';
                sentIncentive.textContent = swapIncentivePoints + ' pts will transfer on acceptance';
                incomingBonus.style.display = 'inline-block';
                incomingBonus.textContent = '+ ' + swapIncentivePoints + ' bonus points!';
                acceptedBonus.style.display = 'block';
                acceptedBonus.textContent = '+' + swapIncentivePoints + ' bonus points received!';
            } else {
                incentiveLine.style.display = 'none';
                sentIncentive.style.display = 'none';
                incomingBonus.style.display = 'none';
                acceptedBonus.style.display = 'none';
            }
        }

        function submitSwapToSibling() {
            showCelebration('chore-complete');
            setTimeout(() => navigateTo('kid-swap-sibling-sent'), 800);
        }

        function viewIncomingSwap() {
            navigateTo('kid-swap-incoming');
        }

        function acceptSwap() {
            showCelebration('swap-accepted');
            setTimeout(() => navigateTo('kid-swap-accepted'), 800);
        }

        function declineSwap() {
            navigateTo('kid-chores');
        }

        function updateCashoutAmount(value) {
            var pts = parseInt(value);
            var dollars = (pts / 20).toFixed(2);
            document.getElementById('cashout-pts-display').textContent = pts;
            document.getElementById('cashout-dollar-display').textContent = dollars;
        }

        function selectRole(el, role) {
            document.querySelectorAll('.role-option').forEach(function(opt) {
                opt.classList.remove('selected');
            });
            el.classList.add('selected');
            parentRoleLabel = role;
            updateParentRoleLabels();
        }

        function updateParentRoleLabels() {
            document.querySelectorAll('.parent-role').forEach(function(el) {
                el.textContent = parentRoleLabel;
            });
            document.querySelectorAll('.parent-role-possessive').forEach(function(el) {
                el.textContent = parentRoleLabel + "'s";
            });
        }

        // Points Economy
        var pointsPerDollar = 20;

        function updatePointsPerDollar(value) {
            pointsPerDollar = parseInt(value);
            document.getElementById('ppd-value').textContent = pointsPerDollar + ' pts';
            document.getElementById('ppd-rate-label').textContent = pointsPerDollar + ' pts/$1';
            document.getElementById('ppd-example').textContent = (pointsPerDollar * 5) + ' pts';
        }

        function updateRewardPointCost(dollarValue) {
            var dollars = parseFloat(dollarValue) || 0;
            var points = Math.round(dollars * pointsPerDollar);
            var el = document.getElementById('reward-auto-points');
            if (el) {
                el.innerHTML = '<i class="fas fa-coins" style="color: var(--accent); font-size: 13px;"></i> ' + points + ' pts';
            }
        }

        function submitSwapConfirm() {
            showCelebration('chore-complete');
            setTimeout(() => navigateTo('kid-swap-sibling-sent'), 800);
        }

        // Parent request flow
        function selectParentSwapChore(element) {
            document.querySelectorAll('#kid-swap-parent .swap-chore-option').forEach(card => {
                card.style.border = '2px solid var(--border)';
                card.style.background = 'var(--bg-card)';
            });
            element.style.border = '2px solid var(--secondary)';
            element.style.background = 'rgba(46, 134, 171, 0.1)';
            const name = element.querySelector('.card-title').textContent;
            const pts = element.querySelector('.points-badge').textContent;
            document.getElementById('parent-confirm-chore-name').textContent = name;
            document.getElementById('parent-confirm-chore-pts').textContent = pts;
        }

        function submitParentRequest() {
            navigateTo('kid-swap-parent-confirm');
        }

        function sendParentRequest() {
            showCelebration('chore-complete');
            setTimeout(() => navigateTo('kid-swap-parent-sent'), 800);
        }

        function approveSwapAsParent() {
            navigateTo('parent-dashboard');
        }

        function declineSwapAsParent() {
            const declineSection = document.getElementById('parent-decline-reason');
            declineSection.classList.toggle('visible');
        }

        function sendDecline() {
            navigateTo('parent-dashboard');
        }

        // Shout-out state
        let shoutoutTarget = '';
        let shoutoutBadgeName = 'Amazing Sibling';
        let shoutoutBadgeEmoji = '';
        let shoutoutPointsOn = false;
        let shoutoutPointsAmount = 5;

        function startShoutout(siblingName) {
            shoutoutTarget = siblingName;
            document.getElementById('shoutout-target-name').textContent = siblingName;
            // Reset selections
            document.querySelectorAll('.shoutout-badge-option').forEach(b => b.classList.remove('selected'));
            shoutoutPointsOn = false;
            document.getElementById('shoutout-toggle').classList.remove('active');
            document.getElementById('shoutout-points-slider-section').classList.remove('visible');
            navigateTo('kid-shoutout-create');
        }

        function selectShoutoutBadge(element, name, emoji) {
            document.querySelectorAll('.shoutout-badge-option').forEach(b => b.classList.remove('selected'));
            element.classList.add('selected');
            shoutoutBadgeName = name;
            shoutoutBadgeEmoji = emoji;
            document.getElementById('confirm-shoutout-badge').innerHTML = '<span>' + emoji + '</span><span style="font-weight: 600;">' + name + '</span>';
        }

        function toggleShoutoutPoints() {
            shoutoutPointsOn = !shoutoutPointsOn;
            const toggle = document.getElementById('shoutout-toggle');
            const section = document.getElementById('shoutout-points-slider-section');
            if (shoutoutPointsOn) {
                toggle.classList.add('active');
                section.classList.add('visible');
            } else {
                toggle.classList.remove('active');
                section.classList.remove('visible');
            }
        }

        function updateShoutoutPoints(value) {
            shoutoutPointsAmount = parseInt(value);
            document.getElementById('shoutout-points-value').textContent = shoutoutPointsAmount;
            document.getElementById('shoutout-remaining').textContent = 135 - shoutoutPointsAmount;
        }

        function sendShoutout() {
            // Update confirm screen
            document.getElementById('confirm-shoutout-target').textContent = 'To ' + shoutoutTarget;
            const noteEl = document.getElementById('shoutout-note');
            const note = noteEl.value || 'No note added';
            document.getElementById('confirm-shoutout-note').textContent = '"' + note + '"';
            const pointsEl = document.getElementById('confirm-shoutout-points');
            const sentPointsEl = document.getElementById('sent-shoutout-points');
            if (shoutoutPointsOn && shoutoutPointsAmount > 0) {
                pointsEl.style.display = 'block';
                pointsEl.textContent = '+ ' + shoutoutPointsAmount + ' pts gifted';
                sentPointsEl.style.display = 'block';
                sentPointsEl.textContent = shoutoutPointsAmount + ' pts gifted from your balance';
            } else {
                pointsEl.style.display = 'none';
                sentPointsEl.style.display = 'none';
            }
            document.getElementById('sent-shoutout-target').textContent = shoutoutTarget;
            showCelebration('shoutout-sent');
            setTimeout(() => navigateTo('kid-shoutout-sent'), 800);
        }

        function selectBoostAmount(element, amount) {
            document.querySelectorAll('.boost-section .kid-chip').forEach(c => c.classList.remove('selected'));
            element.classList.add('selected');
            document.getElementById('boost-amount-display').textContent = '+' + amount + ' pts each';
        }

        function boostShoutout() {
            showCelebration('shoutout-sent');
            setTimeout(() => navigateTo('parent-dashboard'), 800);
        }

        function togglePostLike(element) {
            const icon = element.querySelector('i');
            const countEl = element.querySelector('span');
            let count = parseInt(countEl.textContent);
            if (element.classList.contains('liked')) {
                element.classList.remove('liked');
                icon.className = 'far fa-heart';
                countEl.textContent = count - 1;
            } else {
                element.classList.add('liked');
                icon.className = 'fas fa-heart';
                countEl.textContent = count + 1;
            }
        }

        // Close notifications when clicking outside
        document.getElementById('notifications-panel').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleNotifications();
            }
        });

        // ===== COMPANION: Chal the Octopus =====
        let companionVisible = false;
        let companionIntroSeen = false;
        let bubbleTimeout = null;
        let autoMessageInterval = null;
        let menuOpen = false;

        const screenMessages = {
            'splash': [
                "Welcome to Challey! Tap Get Started!",
                "Hey there! Ready for something awesome?",
            ],
            'join-family': [
                "Enter your family code to join!",
                "Almost there  just need your name!",
            ],
            'kid-chores': [
                "You've got 4 chores today. You got this!",
                "7-day streak! You're unstoppable!",
                "Every chore gets you closer to that reward!",
                "Which one should we tackle first?",
                "You're doing amazing today!",
            ],
            'kid-chore-detail': [
                "50 points for this one  totally worth it!",
                "Read the description carefully, then crush it!",
                "You've got the skills for this one!",
            ],
            'kid-complete': [
                "Nice work! Don't forget the photo proof!",
                "Almost done  snap that pic and submit!",
                parentRoleLabel + "'s going to be impressed!",
            ],
            'kid-rewards': [
                "135 points! So many options!",
                "That sleepover is only 15 points away!",
                "You've earned this  treat yourself!",
            ],
            'kid-reward-detail': [
                "Ooh, good choice! Go for it!",
                "You deserve this one!",
            ],
            'kid-points': [
                "235 total points earned  incredible!",
                "Look at all those badges! You're a champ!",
                "Your points history is so impressive!",
            ],
            'kid-board': [
                "You're #1 this week! Crown secured!",
                "Friendly competition makes everyone better!",
                "Maybe give a shout-out to Jake or Lily!",
                "Check out your swag collection!",
            ],
            'kid-living-room': [
                "Welcome to The Living Room! See what the fam is up to.",
                "Lots of family moments here!",
                "Try posting a photo  share something fun!",
            ],
            'parent-living-room': [
                "Your family is so active! Love to see it.",
                "Check out what the kids are sharing!",
            ],
            'kid-settings': [
                "Make the app YOUR style!",
                "Try the Midnight theme  it's so cool!",
                "Dark mode is easy on the eyes at night!",
            ],
            'kid-swap-request': [
                "Smart move! Negotiation is a life skill!",
                "Sometimes a trade makes everyone happy!",
            ],
            'kid-swap-sibling-select': [
                "Who should we make a deal with?",
            ],
            'kid-swap-sibling': [
                "Pick a chore that works better for you!",
                "Pro tip: offering points makes it sweeter!",
            ],
            'kid-swap-parent': [
                parentRoleLabel + " might have something better for you!",
                "Try suggesting something you're great at!",
            ],
            'kid-swap-counter': ["Make Jake an offer he can't refuse!", "What can you offer instead?"],
            'kid-swap-counter-sent': ["Nice counter! Let's see what Maggie thinks."],
            'kid-swap-counter-received': ["Jake's got a deal for you! What do you think?"],
            'kid-shoutout-select': [
                "Being kind is the best reward!",
                "Shout-outs make everyone's day better!",
            ],
            'kid-shoutout-create': [
                "Tell them exactly what made you smile!",
                "A little kindness goes a long way!",
            ],
            'kid-shoutout-received': [
                "You're loved! How cool is that?",
                "Kindness comes back around!",
            ],
            'parent-dashboard': [
                "Your family is doing amazing!",
                "3 chores waiting for review!",
                "Check out that sibling shout-out!",
            ],
            'parent-verify': [
                "They worked hard! Let them know!",
                "A quick emoji reaction means the world!",
            ],
            'parent-create-chore': [
                "Clear descriptions help kids succeed!",
                "Fair points = motivated kids!",
            ],
            'parent-rewards': [
                "Great rewards keep everyone motivated!",
            ],
            'parent-family': [
                "What a great family you've got!",
            ],
            'join-family-code': [
                "Got your codes ready? Type them in!",
                "Your parent should have your member code!",
            ],
            'kid-set-pin': [
                "Pick 4 numbers you'll remember!",
                "This keeps your account safe!",
            ],
            'kid-confirm-pin': [
                "Type it one more time to be sure!",
            ],
            'kid-enter-pin': [
                "Welcome back! Enter your PIN to get in!",
            ],
            'kid-forgot-pin': [
                "No worries! Your parent can reset it for you.",
            ],
            'create-family-auth': [
                "Let's get your family set up!",
                "Pick the easiest way to sign in!",
            ],
            'create-family-manual': [
                "Just a few details and you're in!",
            ],
            'create-family-role': ["Nice to meet you! What should the kids call you?"],
            'create-family-name': [
                "What should we call your family?",
            ],
            'pick-family-pet': [
                "Choose a pet to be your family's helper!",
                "Every family needs a mascot!",
            ],
            'welcome-family': [
                "Your family is all set! Let's go!",
                "This is going to be awesome!",
            ],
            'parent-dashboard-empty': [
                "Let's add some kids to get started!",
                "Your family adventure starts here!",
            ],
            'add-kids': [
                "Who's joining the family?",
            ],
            'add-kids-success': [
                "Great team! Share those codes with the kids!",
            ],
            'setup-chores': [
                "Pick some chores to get started  you can always add more later!",
            ],
            'setup-rewards': [
                "Rewards keep everyone motivated!",
            ],
            'setup-first-post': [
                "A first post brings the family together!",
            ],
            'sibling-profile': [
                "Check out what they've been up to!",
            ],
            'kid-cashout-confirm': [
                "Almost there! Confirm your cash out!",
            ],
            'kid-cashout-pending': [
                "Your request is in! Hang tight!",
                parentRoleLabel + " will get to it soon!",
            ],
            'kid-cashout-paid': [
                parentRoleLabel + " sent the cash! Confirm when you have it!",
                "Cha-ching! Time to collect!",
            ],
            'kid-redeem-confirm': [
                "Great choice! Confirm to claim it!",
            ],
        };

        const encouragements = [
            "You're doing AMAZING!",
            "I believe in you  keep going!",
            "One chore at a time  you've got this!",
            "Your family is lucky to have you!",
            "Hard work always pays off!",
            "You're building great habits!",
            "Every point counts  and so do you!",
            "I'm so proud of how far you've come!",
            "You make chores look easy!",
            "Keep that streak alive  you're on fire!",
        ];

        const tips = [
            "Tip: Do your hardest chore first  it's all downhill after that!",
            "Tip: Take progress photos as you go  makes proof easy!",
            "Tip: Set a timer to make chores feel like a game!",
            "Tip: Pair chores with your favorite music!",
            "Tip: The Rewards Shop updates  check back often!",
            "Tip: Shout-outs can earn you bonus points from " + parentRoleLabel + "!",
            "Tip: Streak freezes save your streak on sick days!",
            "Tip: Try swapping chores when you need a change!",
        ];

        const funFacts = [
            "Did you know? Octopuses have 3 hearts! I'm cheering for you with all of mine!",
            "Fun fact: Doing chores boosts your mood  science says so!",
            "Did you know? Kids who do chores earn 25% more as adults!",
            "Fun fact: Octopuses are the smartest invertebrates. That's why I picked this gig!",
            "Did you know? Helping at home builds leadership skills!",
            "Fun fact: The word 'chore' used to mean 'a turn at work.' Your turn is now!",
            "Did you know? Teens who help at home report feeling happier!",
            "Fun fact: I have 8 arms but I still can't fold laundry. You're already better than me!",
        ];

        function getRandomItem(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function showBubble(text, duration) {
            const bubble = document.getElementById('companion-bubble');
            const textEl = document.getElementById('bubble-text');
            textEl.textContent = text;
            closeMenu();
            bubble.classList.add('visible');
            const pulse = document.getElementById('companion-pulse');
            if (pulse) pulse.style.display = 'none';

            clearTimeout(bubbleTimeout);
            if (duration) {
                bubbleTimeout = setTimeout(() => dismissBubble(), duration);
            }
        }

        function dismissBubble() {
            document.getElementById('companion-bubble').classList.remove('visible');
        }

        function toggleCompanionMenu() {
            const menu = document.getElementById('companion-menu');
            const bubble = document.getElementById('companion-bubble');
            if (menuOpen) {
                closeMenu();
            } else {
                bubble.classList.remove('visible');
                menu.classList.add('visible');
                menuOpen = true;
            }
        }

        function closeMenu() {
            document.getElementById('companion-menu').classList.remove('visible');
            menuOpen = false;
        }

        function companionEncourage() {
            showBubble(getRandomItem(encouragements), 5000);
        }

        function companionTip() {
            showBubble(getRandomItem(tips), 6000);
        }

        function companionFunFact() {
            showBubble(getRandomItem(funFacts), 7000);
        }

        function companionCelebrate() {
            const companion = document.getElementById('companion');
            if (!companion || companion.classList.contains('hidden')) return;
            companion.classList.add('celebrating');
            const celebrations = [
                "YESSS! That's what I'm talking about!",
                "You did it! I knew you could!",
                "AMAZING! High five! ...or high eight!",
                "Woohoo! Victory dance time!",
                "That was INCREDIBLE!",
            ];
            showBubble(getRandomItem(celebrations), 4000);
            setTimeout(() => companion.classList.remove('celebrating'), 2000);
        }

        function companionOnNavigate(screenId) {
            // Trigger intro on first visit to kid-chores
            if (screenId === 'kid-chores' && !companionIntroSeen) {
                setTimeout(triggerCompanionIntro, 800);
                return;
            }
            if (!companionVisible) return;
            dismissBubble();
            closeMenu();
            // Show a contextual message after a short delay (30% chance)
            if (Math.random() < 0.3) {
                const messages = screenMessages[screenId];
                if (messages && messages.length > 0) {
                    setTimeout(() => {
                        showBubble(getRandomItem(messages), 5000);
                    }, 1500);
                }
            }
        }

        function showCompanion() {
            const companion = document.getElementById('companion');
            companion.classList.remove('hidden');
            companionVisible = true;
            // Start auto-messages every 15 seconds
            startAutoMessages();
        }

        function hideCompanion() {
            closeMenu();
            dismissBubble();
            const companion = document.getElementById('companion');
            companion.classList.add('hidden');
            companionVisible = false;
            clearInterval(autoMessageInterval);
        }

        function startAutoMessages() {
            clearInterval(autoMessageInterval);
            autoMessageInterval = setInterval(() => {
                if (!companionVisible) return;
                const bubble = document.getElementById('companion-bubble');
                const menu = document.getElementById('companion-menu');
                // Don't interrupt if bubble or menu is showing
                if (bubble.classList.contains('visible') || menu.classList.contains('visible')) return;
                // Show pulse dot to indicate Chal has something to say
                const pulse = document.getElementById('companion-pulse');
                if (pulse) pulse.style.display = 'block';
            }, 12000);
        }

        function dismissIntro() {
            companionIntroSeen = true;
            document.getElementById('companion-intro').classList.remove('visible');
            showCompanion();
            setTimeout(() => {
                showBubble("I'm Chal! Tap me anytime for encouragement, tips, or fun facts!", 5000);
            }, 600);
        }

        function triggerCompanionIntro() {
            if (companionIntroSeen) return;
            document.getElementById('companion-intro').classList.add('visible');
        }

        function toggleCompanionSetting() {
            const toggle = document.getElementById('companion-toggle');
            if (companionVisible) {
                hideCompanion();
                toggle.classList.remove('active');
            } else {
                showCompanion();
                toggle.classList.add('active');
                showBubble("I'm back! Did you miss me?", 4000);
            }
        }

        // ===== FEATURE 1: Thank You Button =====
        function thankYouShoutout() {
            showCelebration('shoutout-sent');
            showBubble("Jake said thank you for the shout-out! You made his day! ", 4000);
            showToast('Thank you sent!');
            setTimeout(() => navigateTo('kid-living-room'), 1000);
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast visible';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => {
                toast.classList.remove('visible');
                setTimeout(() => document.body.removeChild(toast), 300);
            }, 2000);
        }

        // ===== FEATURE 2: Year-End Recap =====
        let recapSlideIndex = 0;

        function openYearRecap() {
            recapSlideIndex = 0;
            document.getElementById('kid-year-recap').style.display = 'flex';
            showRecapSlide(0);
        }

        function closeYearRecap() {
            document.getElementById('kid-year-recap').style.display = 'none';
            navigateTo('kid-living-room');
        }

        function showRecapSlide(index) {
            const slides = document.querySelectorAll('.recap-slide');
            const dots = document.querySelectorAll('.recap-dot');

            slides.forEach((s, i) => {
                s.classList.toggle('active', i === index);
            });

            dots.forEach((d, i) => {
                d.classList.toggle('active', i === index);
            });
        }

        function nextRecapSlide() {
            const slides = document.querySelectorAll('.recap-slide');
            if (recapSlideIndex < slides.length - 1) {
                recapSlideIndex++;
                showRecapSlide(recapSlideIndex);
            }
        }

        function prevRecapSlide() {
            if (recapSlideIndex > 0) {
                recapSlideIndex--;
                showRecapSlide(recapSlideIndex);
            }
        }

        // Add touch/click handlers for recap navigation
        document.addEventListener('DOMContentLoaded', function() {
            const recap = document.getElementById('kid-year-recap');
            if (recap) {
                recap.addEventListener('click', function(e) {
                    const rect = this.getBoundingClientRect();
                    const clickX = e.clientX - rect.left;
                    const width = rect.width;

                    if (clickX > width / 2) {
                        nextRecapSlide();
                    } else {
                        prevRecapSlide();
                    }
                });
            }
        });

        // Update companion messages for birthday
        screenMessages['kid-chores'].push(
            "HAPPY BIRTHDAY!  You get double points today!",
            "It's YOUR day! Chal's wearing a party hat for you! "
        );

        // ===== FEATURE 4: Cash-Out =====
        let selectedCashoutAmount = 5.00;
        let selectedCashoutPoints = 100;

        function selectCashout(element, amount, points) {
            if (element.classList.contains('disabled')) return;

            document.querySelectorAll('.cashout-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            element.classList.add('selected');

            selectedCashoutAmount = amount;
            selectedCashoutPoints = points;

            document.getElementById('cashout-amount').textContent = amount.toFixed(2);
        }

        function processCashout() {
            document.getElementById('success-cashout-amount').textContent = selectedCashoutAmount.toFixed(2);
            showCelebration('reward-redeemed');
            setTimeout(() => navigateTo('kid-cashout-success'), 800);
        }

        // ===== FEATURE 6: Swipe to Approve/Reject =====
        let swipeCards = [];
        let currentCardIndex = 0;
        let isDragging = false;
        let startX = 0;
        let currentX = 0;
        let dragCard = null;

        function initSwipeCards() {
            swipeCards = Array.from(document.querySelectorAll('.swipe-card'));
            currentCardIndex = 0;
            isDragging = false;
            dragCard = null;

            // Remove old listeners from all cards, then add to first
            swipeCards.forEach(function(card) {
                card.removeEventListener('mousedown', handleDragStart);
                card.removeEventListener('touchstart', handleDragStart);
                card.style.transform = '';
                card.style.transition = '';
            });

            if (swipeCards.length > 0) {
                setupCardDrag(swipeCards[0]);
            }

            updateChoresCount();
        }

        function setupCardDrag(card) {
            card.removeEventListener('mousedown', handleDragStart);
            card.removeEventListener('touchstart', handleDragStart);
            card.addEventListener('mousedown', handleDragStart);
            card.addEventListener('touchstart', handleDragStart, { passive: true });
        }

        function handleDragStart(e) {
            if (e.target.classList.contains('emoji-btn') || e.target.closest('.emoji-btn')) {
                return;
            }

            isDragging = true;
            dragCard = e.currentTarget;
            startX = e.type === 'touchstart' ? e.touches[0].clientX : e.clientX;
            currentX = startX;

            dragCard.style.transition = 'none';
            dragCard.style.touchAction = 'none';

            document.addEventListener('mousemove', handleDrag, { passive: false });
            document.addEventListener('touchmove', handleDrag, { passive: false });
            document.addEventListener('mouseup', handleDragEnd);
            document.addEventListener('touchend', handleDragEnd);
        }

        function handleDrag(e) {
            if (!isDragging || !dragCard) return;
            e.preventDefault();

            currentX = e.type === 'touchmove' ? e.touches[0].clientX : e.clientX;
            var deltaX = currentX - startX;

            dragCard.style.transform = 'translateX(' + deltaX + 'px) rotate(' + (deltaX * 0.1) + 'deg)';

            var approveOverlay = dragCard.querySelector('.swipe-overlay.approve');
            var rejectOverlay = dragCard.querySelector('.swipe-overlay.reject');

            if (deltaX > 0) {
                approveOverlay.style.opacity = Math.min(Math.abs(deltaX) / 100, 1);
                rejectOverlay.style.opacity = 0;
            } else {
                rejectOverlay.style.opacity = Math.min(Math.abs(deltaX) / 100, 1);
                approveOverlay.style.opacity = 0;
            }
        }

        function handleDragEnd(e) {
            if (!isDragging) return;

            isDragging = false;
            var deltaX = currentX - startX;

            document.removeEventListener('mousemove', handleDrag);
            document.removeEventListener('touchmove', handleDrag);
            document.removeEventListener('mouseup', handleDragEnd);
            document.removeEventListener('touchend', handleDragEnd);

            if (dragCard) {
                dragCard.style.touchAction = '';
            }

            if (Math.abs(deltaX) > 80) {
                // Swipe detected (lowered threshold for easier swiping)
                if (deltaX > 0) {
                    approveCard();
                } else {
                    rejectCard();
                }
            } else {
                // Snap back
                if (dragCard) {
                    dragCard.style.transition = 'transform 0.3s';
                    dragCard.style.transform = '';
                    var approveOverlay = dragCard.querySelector('.swipe-overlay.approve');
                    var rejectOverlay = dragCard.querySelector('.swipe-overlay.reject');
                    if (approveOverlay) approveOverlay.style.opacity = 0;
                    if (rejectOverlay) rejectOverlay.style.opacity = 0;
                }
            }
        }

        function approveCard() {
            dragCard.style.transition = 'transform 0.5s';
            dragCard.style.transform = 'translateX(500px) rotate(30deg)';

            setTimeout(() => {
                dragCard.remove();
                currentCardIndex++;
                checkAllCardsReviewed();
            }, 500);
        }

        function rejectCard() {
            dragCard.style.transition = 'transform 0.5s';
            dragCard.style.transform = 'translateX(-500px) rotate(-30deg)';

            setTimeout(() => {
                dragCard.remove();
                currentCardIndex++;
                document.getElementById('redo-comment').classList.add('visible');
            }, 500);
        }

        function sendRedo() {
            document.getElementById('redo-comment').classList.remove('visible');
            document.getElementById('redo-input').value = '';
            checkAllCardsReviewed();
        }

        function checkAllCardsReviewed() {
            const remainingCards = document.querySelectorAll('.swipe-card');
            updateChoresCount();

            if (remainingCards.length === 0) {
                showAllCaughtUp();
            } else {
                setupCardDrag(remainingCards[0]);
            }
        }

        function showAllCaughtUp() {
            const content = document.getElementById('verify-content');
            content.innerHTML = `
                <div class="all-caught-up">
                    <i class="fas fa-check-circle"></i>
                    <h2 style="font-size: 24px; color: var(--text); margin-bottom: 12px;">All caught up!</h2>
                    <p style="font-size: 14px; color: var(--text-secondary); margin-bottom: 24px;">No more chores to review</p>
                    <button class="btn btn-primary" onclick="navigateTo('parent-dashboard')">
                        Back to Dashboard
                    </button>
                </div>
            `;
        }

        function updateChoresCount() {
            const count = document.querySelectorAll('.swipe-card').length;
            const countEl = document.getElementById('chores-count');
            if (countEl) {
                countEl.textContent = count;
            }
        }

        function approveAllChores() {
            if (confirm('Approve all ' + document.querySelectorAll('.swipe-card').length + ' chores?')) {
                showCelebration('chore-complete');
                setTimeout(() => {
                    document.querySelectorAll('.swipe-card').forEach(card => card.remove());
                    showAllCaughtUp();
                }, 800);
            }
        }

        // Swipe init is handled inside navigateTo() directly

        // ===== V3 NEW FUNCTIONS =====

        // Reward Cart state
        let rewardCart = [];
        let availablePoints = 135;

        function toggleCartItem(btn, name, cost) {
            var idx = rewardCart.findIndex(function(item) { return item.name === name; });
            if (idx > -1) {
                // Remove from cart
                rewardCart.splice(idx, 1);
                btn.className = 'reward-add-btn can-add';
                btn.innerHTML = '<i class="fas fa-plus"></i> <span class="btn-label-add">Add</span><span class="btn-label-remove">Remove</span>';
            } else {
                // Check if can afford
                var cartTotal = rewardCart.reduce(function(sum, item) { return sum + item.cost; }, 0);
                if (cartTotal + cost > availablePoints) {
                    showToast('Not enough points! Remove something first.');
                    return;
                }
                // Add to cart
                rewardCart.push({ name: name, cost: cost });
                btn.className = 'reward-add-btn in-cart';
                btn.innerHTML = '<i class="fas fa-check"></i> <span class="btn-label-add">In Cart</span><span class="btn-label-remove">Remove</span>';
            }
            updateCartBar();
            updateAddButtons();
        }

        function updateCartBar() {
            var bar = document.getElementById('reward-cart-bar');
            var countEl = document.getElementById('cart-count');
            var totalEl = document.getElementById('cart-total');
            var remainEl = document.getElementById('cart-remaining');
            var cartTotal = rewardCart.reduce(function(sum, item) { return sum + item.cost; }, 0);

            if (rewardCart.length > 0) {
                bar.classList.add('visible');
                countEl.textContent = rewardCart.length + (rewardCart.length === 1 ? ' item' : ' items');
                totalEl.textContent = cartTotal + ' pts total';
                remainEl.textContent = (availablePoints - cartTotal) + ' pts remaining';
            } else {
                bar.classList.remove('visible');
            }
        }

        function updateAddButtons() {
            var cartTotal = rewardCart.reduce(function(sum, item) { return sum + item.cost; }, 0);
            var remaining = availablePoints - cartTotal;

            document.querySelectorAll('#kid-rewards .reward-add-btn.can-add').forEach(function(btn) {
                var card = btn.closest('.reward-card');
                var cost = parseInt(card.getAttribute('data-cost'));
                if (cost > remaining) {
                    btn.classList.add('disabled');
                    btn.setAttribute('disabled', 'true');
                    btn.innerHTML = '<i class="fas fa-lock"></i> <span>Not enough pts</span>';
                }
            });

            // Re-enable buttons that became affordable after removal
            document.querySelectorAll('#kid-rewards .reward-add-btn.disabled').forEach(function(btn) {
                var card = btn.closest('.reward-card');
                var cost = parseInt(card.getAttribute('data-cost'));
                var inCart = rewardCart.some(function(item) { return item.name === card.querySelector('.reward-title').textContent.trim(); });
                if (!inCart && cost <= remaining && cost <= availablePoints) {
                    btn.classList.remove('disabled');
                    btn.removeAttribute('disabled');
                    btn.className = 'reward-add-btn can-add';
                    btn.innerHTML = '<i class="fas fa-plus"></i> <span class="btn-label-add">Add</span><span class="btn-label-remove">Remove</span>';
                    btn.setAttribute('onclick', "toggleCartItem(this, '" + card.querySelector('.reward-title').textContent.trim() + "', " + cost + ")");
                }
            });
        }

        function checkoutCart() {
            if (rewardCart.length === 0) return;
            var names = rewardCart.map(function(item) { return item.name; }).join(', ');
            var total = rewardCart.reduce(function(sum, item) { return sum + item.cost; }, 0);
            showCelebration('reward-redeemed');
            showToast('Redeeming ' + rewardCart.length + ' rewards for ' + total + ' pts! ' + parentRoleLabel + ' will be notified.');
            // Reset cart
            rewardCart = [];
            updateCartBar();
            // Reset all buttons
            document.querySelectorAll('#kid-rewards .reward-add-btn').forEach(function(btn) {
                var card = btn.closest('.reward-card');
                var cost = parseInt(card.getAttribute('data-cost'));
                if (cost <= availablePoints) {
                    btn.className = 'reward-add-btn can-add';
                    btn.innerHTML = '<i class="fas fa-plus"></i> <span class="btn-label-add">Add</span><span class="btn-label-remove">Remove</span>';
                }
            });
        }

        // Pet state (configurable companion)
        let familyPetEmoji = '';
        let familyPetName = 'Chal';

        function updateCompanionEmoji() {
            var mascotKey = EMOJI_TO_MASCOT[familyPetEmoji] || 'octopus';

            // Update companion body with SVG (preserve pulse child)
            document.querySelectorAll('.companion-body').forEach(el => {
                var pulse = el.querySelector('.companion-pulse');
                var existingSvg = el.querySelector('.companion-svg');
                if (!existingSvg) {
                    existingSvg = document.createElement('div');
                    existingSvg.className = 'companion-svg';
                    el.textContent = '';
                    el.appendChild(existingSvg);
                    if (pulse) el.appendChild(pulse);
                }
                existingSvg.innerHTML = getMascotSVG(mascotKey, 36);
            });
            // Update intro character with larger SVG
            document.querySelectorAll('.intro-character').forEach(el => {
                el.innerHTML = getMascotSVG(mascotKey, 80);
            });
            // Update all data-companion-emoji elements (settings, etc.)
            document.querySelectorAll('[data-companion-emoji]').forEach(el => {
                var size = parseInt(el.style.fontSize) || 24;
                el.innerHTML = getMascotSVG(mascotKey, size);
            });
            // Update named IDs in setup/welcome screens
            var petIds = ['forgot-pin-pet', 'welcome-pet-emoji', 'dashboard-pet-emoji', 'setup-chores-pet', 'setup-rewards-pet'];
            petIds.forEach(function(id) {
                var el = document.getElementById(id);
                if (el) {
                    var size = parseInt(el.style.fontSize) || 40;
                    el.innerHTML = getMascotSVG(mascotKey, size);
                }
            });
        }

        // PIN Pad
        let pinBuffer = {};

        function pinPadPress(digit, screenId) {
            if (!pinBuffer[screenId]) pinBuffer[screenId] = '';
            if (pinBuffer[screenId].length >= 4) return;
            pinBuffer[screenId] += digit;
            updatePinDots(screenId);

            if (pinBuffer[screenId].length === 4) {
                setTimeout(function() {
                    if (screenId === 'kid-set-pin') {
                        navigateTo('kid-confirm-pin');
                    } else if (screenId === 'kid-confirm-pin') {
                        if (pinBuffer['kid-set-pin'] === pinBuffer['kid-confirm-pin']) {
                            showCelebration('chore-complete');
                            showToast('PIN set!');
                            setTimeout(function() { navigateTo('kid-chores'); }, 800);
                        } else {
                            showToast('PINs don\'t match  let\'s try again');
                            pinBuffer['kid-set-pin'] = '';
                            pinBuffer['kid-confirm-pin'] = '';
                            updatePinDots('kid-confirm-pin');
                            setTimeout(function() {
                                navigateTo('kid-set-pin', true);
                                updatePinDots('kid-set-pin');
                            }, 800);
                        }
                    } else if (screenId === 'kid-enter-pin') {
                        navigateTo('kid-chores');
                    }
                }, 300);
            }
        }

        function pinPadDelete(screenId) {
            if (!pinBuffer[screenId]) return;
            pinBuffer[screenId] = pinBuffer[screenId].slice(0, -1);
            updatePinDots(screenId);
        }

        function updatePinDots(screenId) {
            const screen = document.getElementById(screenId);
            if (!screen) return;
            const dots = screen.querySelectorAll('.pin-dot');
            const len = (pinBuffer[screenId] || '').length;
            dots.forEach(function(dot, i) {
                dot.classList.toggle('filled', i < len);
            });
        }

        // Chore Tab Switching
        function switchChoreTab(tabName, tabElement) {
            // Update tab buttons
            const tabBar = tabElement.parentElement;
            tabBar.querySelectorAll('.tab').forEach(function(t) {
                t.classList.remove('active');
            });
            tabElement.classList.add('active');

            // Show/hide tab content
            const choreScreen = document.getElementById('kid-chores');
            choreScreen.querySelectorAll('.tab-content').forEach(function(tc) {
                tc.classList.remove('active');
            });
            const target = choreScreen.querySelector('.tab-content[data-tab="' + tabName + '"]');
            if (target) target.classList.add('active');
        }

        // Chore Actions
        function startChore(btn) {
            var card = btn.closest('.chore-card') || btn.closest('.card');
            if (card) {
                card.style.opacity = '0.5';
                card.style.transform = 'translateX(100px)';
                card.style.transition = 'all 0.3s ease';
                showToast('Started! Moved to In Progress');
                setTimeout(function() {
                    card.style.display = 'none';
                }, 300);
            }
        }

        function completeChore(btn) {
            var card = btn.closest('.chore-card') || btn.closest('.card');
            if (card) {
                showCelebration('chore-complete');
                card.style.opacity = '0.5';
                card.style.transform = 'scale(0.8)';
                card.style.transition = 'all 0.3s ease';
                showToast('Submitted for review!');
                setTimeout(function() {
                    card.style.display = 'none';
                }, 400);
            }
        }

        // Pet Picker
        let selectedPetEl = null;

        function selectPet(element, emoji, name) {
            document.querySelectorAll('.pet-card').forEach(function(c) {
                c.classList.remove('selected');
            });
            element.classList.add('selected');
            selectedPetEl = element;
            familyPetEmoji = emoji;
            familyPetName = name;

            // Update pet name input
            var nameInput = document.getElementById('pet-name-input');
            if (nameInput) nameInput.value = name;

            // Update celebration screen preview with SVG
            var celebratePet = document.querySelector('.celebrate-pet');
            if (celebratePet) {
                var mascotKey = EMOJI_TO_MASCOT[emoji] || 'octopus';
                celebratePet.innerHTML = getMascotSVG(mascotKey, 60);
            }
        }

        function finishPetPick() {
            var nameInput = document.getElementById('pet-name-input');
            if (nameInput && nameInput.value) {
                familyPetName = nameInput.value;
            }
            updateCompanionEmoji();
            showCelebration('family-created');
            setTimeout(function() { navigateTo('welcome-family'); }, 800);
        }

        // Family Code Preview
        function updateFamilyCodePreview() {
            var input = document.getElementById('family-name-input');
            var preview = document.getElementById('family-code-preview');
            if (input && preview) {
                var val = input.value.toUpperCase().replace(/[^A-Z]/g, '').substring(0, 4);
                if (val.length >= 2) {
                    var code = val + Math.floor(Math.random() * 90 + 10);
                    preview.textContent = code;
                } else {
                    preview.textContent = '----';
                }
            }
        }

        // Add Kids
        let addedKids = [];

        function addKid() {
            var nameInput = document.getElementById('add-kid-name');
            if (!nameInput || !nameInput.value.trim()) {
                showToast('Enter a name first');
                return;
            }
            var name = nameInput.value.trim();
            var code = name.substring(0, 3).toUpperCase() + '0' + (addedKids.length + 1);
            addedKids.push({ name: name, code: code });
            nameInput.value = '';

            // Update the kids list
            var list = document.getElementById('added-kids-list');
            if (list) {
                var item = document.createElement('div');
                item.className = 'kid-added-item';
                item.innerHTML = '<div class="kid-added-avatar">' + name.charAt(0) + '</div>' +
                    '<div style="flex:1;"><div style="font-weight:600;color:var(--text);">' + name + '</div>' +
                    '<div style="font-size:12px;color:var(--text-secondary);">Code: ' + code + '</div></div>' +
                    '<i class="fas fa-check-circle" style="color:#28a745;font-size:20px;"></i>';
                list.appendChild(item);
            }
            showToast(name + ' added!');
        }

        // Chore/Reward Setup Categories
        function toggleChoreCategory(headerEl) {
            var category = headerEl.closest('.chore-category');
            if (category) {
                var items = category.querySelector('.chore-category-items');
                if (items) {
                    items.classList.toggle('expanded');
                }
                // Toggle expanded on header for chevron rotation
                headerEl.classList.toggle('expanded');
            }
        }

        function togglePresetChore(item) {
            item.classList.toggle('selected');
        }

        // Add button press animation
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('btn') || e.target.closest('.btn')) {
                const btn = e.target.classList.contains('btn') ? e.target : e.target.closest('.btn');
                btn.classList.add('btn-press');
                setTimeout(() => btn.classList.remove('btn-press'), 200);
            }
        });

        // Initialize
        updateRoleText();

        // Initialize pet grid with SVG previews
        function initPetGrid() {
            document.querySelectorAll('.pet-card[data-mascot]').forEach(function(card) {
                var key = card.getAttribute('data-mascot');
                var preview = card.querySelector('.pet-svg-preview');
                if (preview && key) {
                    preview.innerHTML = getMascotSVG(key, 60);
                }
            });
        }

        // Initialize badge icons with SVG
        function initBadgeIcons() {
            document.querySelectorAll('[data-badge]').forEach(function(el) {
                var key = el.getAttribute('data-badge');
                var container = el.querySelector('.badge-svg-icon');
                if (container && key) {
                    container.innerHTML = getBadgeSVG(key, 48);
                }
            });
        }

        // Run initialization
        initPetGrid();
        initBadgeIcons();
        updateCompanionEmoji();
    </script>
</body>
</html>
